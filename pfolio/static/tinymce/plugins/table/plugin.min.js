(function(b,g){var d={};function c(m,n){var l,j=[];for(var k=0;k<m.length;++k){l=d[m[k]]||e(m[k]);if(!l){throw"module definition dependecy not found: "+m[k]}j.push(l)}n.apply(null,j)}function h(k,j,i){if(typeof k!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(j===g){throw"invalid module definition, dependencies must be specified"}if(i===g){throw"invalid module definition, definition function must be specified"}c(j,function(){d[k]=i.apply(null,arguments)})}function f(i){return !!d[i]}function e(l){var j=b;var i=l.split(/[.\/]/);for(var k=0;k<i.length;++k){if(!j[i[k]]){return}j=j[i[k]]}return j}function a(l){var k,n,p,j,m;for(k=0;k<l.length;k++){n=b;p=l[k];j=p.split(/[.\/]/);for(var o=0;o<j.length-1;++o){if(n[j[o]]===g){n[j[o]]={}}n=n[j[o]]}n[j[j.length-1]]=d[p]}if(b.AMDLC_TESTS){m=b.privateModules||{};for(p in d){m[p]=d[p]}for(k=0;k<l.length;k++){delete m[l[k]]}b.privateModules=m}}h("tinymce/tableplugin/Utils",["tinymce/Env"],function(j){function i(m,l){return parseInt(m.getAttribute(l)||1,10)}function k(l){if(!j.ie||j.ie>10){l.innerHTML='<br data-mce-bogus="1" />'}}return{getSpanVal:i,paddCell:k}});h("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils"],function(k,j,m){var l=k.each,i=m.getSpanVal;return function(n,B){var R,D,r,z,Q,x=n.selection,o=x.dom;function O(X){return X===n.getBody()}function v(){var X=0;R=[];D=0;l(["thead","tbody","tfoot"],function(Y){var Z=o.select("> "+Y+" tr",B);l(Z,function(aa,ab){ab+=X;l(o.select("> td, > th",aa),function(ah,ac){var ad,ae,af,ag;if(R[ab]){while(R[ab][ac]){ac++}}af=i(ah,"rowspan");ag=i(ah,"colspan");for(ae=ab;ae<ab+af;ae++){if(!R[ae]){R[ae]=[]}for(ad=ac;ad<ac+ag;ad++){R[ae][ad]={part:Y,real:ae==ab&&ad==ac,elm:ah,rowspan:af,colspan:ag}}}D=Math.max(D,ac+1)})});X+=Z.length})}function I(Y,X){Y=Y.cloneNode(X);Y.removeAttribute("id");return Y}function p(X,Z){var Y;Y=R[Z];if(Y){return Y[X]}}function T(Z,X,Y){if(Z){Y=parseInt(Y,10);if(Y===1){Z.removeAttribute(X,1)}else{Z.setAttribute(X,Y,1)}}}function U(X){return X&&(o.hasClass(X.elm,"mce-item-selected")||X==Q)}function S(){var X=[];l(B.rows,function(Y){l(Y.cells,function(Z){if(o.hasClass(Z,"mce-item-selected")||(Q&&Z==Q.elm)){X.push(Y);return false}})});return X}function u(){var X=o.createRng();if(O(B)){return}X.setStartAfter(B);X.setEndAfter(B);x.setRng(X);o.remove(B)}function F(X){var Z,Y={};if(n.settings.table_clone_elements!==false){Y=k.makeMap((n.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)}k.walk(X,function(ab){var aa;if(ab.nodeType==3){l(o.getParents(ab.parentNode,null,X).reverse(),function(ac){if(!Y[ac.nodeName]){return}ac=I(ac,false);if(!Z){Z=aa=ac}else{if(aa){aa.appendChild(ac)}}aa=ac});if(aa){aa.innerHTML=j.ie?"&nbsp;":'<br data-mce-bogus="1" />'}return false}},"childNodes");X=I(X,false);T(X,"rowSpan",1);T(X,"colSpan",1);if(Z){X.appendChild(Z)}else{m.paddCell(X)}return X}function s(){var X=o.createRng(),Y;l(o.select("tr",B),function(Z){if(Z.cells.length===0){o.remove(Z)}});if(o.select("tr",B).length===0){X.setStartBefore(B);X.setEndBefore(B);x.setRng(X);o.remove(B);return}l(o.select("thead,tbody,tfoot",B),function(Z){if(Z.rows.length===0){o.remove(Z)}});v();if(r){Y=R[Math.min(R.length-1,r.y)];if(Y){x.select(Y[Math.min(Y.length-1,r.x)].elm,true);x.collapse(true)}}}function C(ad,ab,af,ac){var aa,Y,X,Z,ae;aa=R[ab][ad].elm.parentNode;for(X=1;X<=af;X++){aa=o.getNext(aa,"tr");if(aa){for(Y=ad;Y>=0;Y--){ae=R[ab+X][Y].elm;if(ae.parentNode==aa){for(Z=1;Z<=ac;Z++){o.insertAfter(F(ae),ae)}break}}if(Y==-1){for(Z=1;Z<=ac;Z++){aa.insertBefore(F(aa.cells[0]),aa.cells[0])}}}}}function J(){l(R,function(X,Y){l(X,function(aa,Z){var ad,ac,ab;if(U(aa)){aa=aa.elm;ad=i(aa,"colspan");ac=i(aa,"rowspan");if(ad>1||ac>1){T(aa,"rowSpan",1);T(aa,"colSpan",1);for(ab=0;ab<ad-1;ab++){o.insertAfter(F(aa),aa)}C(Z,Y,ac-1,ad)}}})})}function P(ah,ae,ak){var ad,aa,Z,aj,ai,ag,ac,af,X,Y,ab;if(ah){ad=E(ah);aa=ad.x;Z=ad.y;aj=aa+(ae-1);ai=Z+(ak-1)}else{r=z=null;l(R,function(al,am){l(al,function(ao,an){if(U(ao)){if(!r){r={x:an,y:am}}z={x:an,y:am}}})});if(r){aa=r.x;Z=r.y;aj=z.x;ai=z.y}}af=p(aa,Z);X=p(aj,ai);if(af&&X&&af.part==X.part){J();v();af=p(aa,Z).elm;T(af,"colSpan",(aj-aa)+1);T(af,"rowSpan",(ai-Z)+1);for(ac=Z;ac<=ai;ac++){for(ag=aa;ag<=aj;ag++){if(!R[ac]||!R[ac][ag]){continue}ah=R[ac][ag].elm;if(ah!=af){Y=k.grep(ah.childNodes);l(Y,function(al){af.appendChild(al)});if(Y.length){Y=k.grep(af.childNodes);ab=0;l(Y,function(al){if(al.nodeName=="BR"&&o.getAttrib(al,"data-mce-bogus")&&ab++<Y.length-1){af.removeChild(al)}})}o.remove(ah)}}}s()}}function w(ab){var X,ad,aa,ac,ae,af,Y,ag,Z;l(R,function(ah,ai){l(ah,function(aj){if(U(aj)){aj=aj.elm;ae=aj.parentNode;af=I(ae,false);X=ai;if(ab){return false}}});if(ab){return !X}});if(X===g){return}for(ac=0;ac<R[0].length;ac++){if(!R[X][ac]){continue}ad=R[X][ac].elm;if(ad!=aa){if(!ab){Z=i(ad,"rowspan");if(Z>1){T(ad,"rowSpan",Z+1);continue}}else{if(X>0&&R[X-1][ac]){ag=R[X-1][ac].elm;Z=i(ag,"rowSpan");if(Z>1){T(ag,"rowSpan",Z+1);continue}}}Y=F(ad);T(Y,"colSpan",ad.colSpan);af.appendChild(Y);aa=ad}}if(af.hasChildNodes()){if(!ab){o.insertAfter(af,ae)}else{ae.parentNode.insertBefore(af,ae)}}}function q(Y){var Z,X;l(R,function(aa){l(aa,function(ac,ab){if(U(ac)){Z=ab;if(Y){return false}}});if(Y){return !Z}});l(R,function(ad,ae){var aa,ab,ac;if(!ad[Z]){return}aa=ad[Z].elm;if(aa!=X){ac=i(aa,"colspan");ab=i(aa,"rowspan");if(ac==1){if(!Y){o.insertAfter(F(aa),aa);C(Z,ae,ab-1,ac)}else{aa.parentNode.insertBefore(F(aa),aa);C(Z,ae,ab-1,ac)}}else{T(aa,"colSpan",aa.colSpan+1)}X=aa}})}function A(X){return k.grep(M(X),U)}function M(Y){var X=[];l(Y,function(Z){l(Z,function(aa){X.push(aa)})});return X}function V(){var X=[];if(O(B)){if(R[0].length==1){return}if(A(R).length==M(R).length){return}}l(R,function(Y){l(Y,function(aa,Z){if(U(aa)&&k.inArray(X,Z)===-1){l(R,function(ad){var ab=ad[Z].elm,ac;ac=i(ab,"colSpan");if(ac>1){T(ab,"colSpan",ac-1)}else{o.remove(ab)}});X.push(Z)}})});s()}function H(){var Y;function X(aa){var ab,Z;l(aa.cells,function(ac){var ad=i(ac,"rowSpan");if(ad>1){T(ac,"rowSpan",ad-1);ab=E(ac);C(ab.x,ab.y,1,1)}});ab=E(aa.cells[0]);l(R[ab.y],function(ac){var ad;ac=ac.elm;if(ac!=Z){ad=i(ac,"rowSpan");if(ad<=1){o.remove(ac)}else{T(ac,"rowSpan",ad-1)}Z=ac}})}Y=S();if(O(B)&&Y.length==B.rows.length){return}l(Y.reverse(),function(Z){X(Z)});s()}function N(){var X=S();if(O(B)&&X.length==B.rows.length){return}o.remove(X);s();return X}function G(){var X=S();l(X,function(Z,Y){X[Y]=I(Z,true)});return X}function K(Z,Y){var aa=S(),X=aa[Y?0:aa.length-1],ab=X.cells.length;if(!Z){return}l(R,function(ad){var ac;ab=0;l(ad,function(ae){if(ae.real){ab+=ae.colspan}if(ae.elm.parentNode==X){ac=1}});if(ac){return false}});if(!Y){Z.reverse()}l(Z,function(af){var ad,ae=af.cells.length,ac;for(ad=0;ad<ae;ad++){ac=af.cells[ad];T(ac,"colSpan",1);T(ac,"rowSpan",1)}for(ad=ae;ad<ab;ad++){af.appendChild(F(af.cells[ae-1]))}for(ad=ab;ad<ae;ad++){o.remove(af.cells[ad])}if(Y){X.parentNode.insertBefore(af,X)}else{o.insertAfter(af,X)}});o.removeClass(o.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected")}function E(X){var Y;l(R,function(Z,aa){l(Z,function(ac,ab){if(ac.elm==X){Y={x:ab,y:aa};return false}});return !Y});return Y}function y(X){r=E(X)}function L(){var Y,X;Y=X=0;l(R,function(Z,aa){l(Z,function(ac,ab){var ae,ad;if(U(ac)){ac=R[aa][ab];if(ab>Y){Y=ab}if(aa>X){X=aa}if(ac.real){ae=ac.colspan-1;ad=ac.rowspan-1;if(ae){if(ab+ae>Y){Y=ab+ae}}if(ad){if(aa+ad>X){X=aa+ad}}}}})});return{x:Y,y:X}}function W(af){var aa,Z,ah,ag,Y,X,ab,ac,ae,ad;z=E(af);if(r&&z){aa=Math.min(r.x,z.x);Z=Math.min(r.y,z.y);ah=Math.max(r.x,z.x);ag=Math.max(r.y,z.y);Y=ah;X=ag;for(ad=Z;ad<=X;ad++){af=R[ad][aa];if(!af.real){if(aa-(af.colspan-1)<aa){aa-=af.colspan-1}}}for(ae=aa;ae<=Y;ae++){af=R[Z][ae];if(!af.real){if(Z-(af.rowspan-1)<Z){Z-=af.rowspan-1}}}for(ad=Z;ad<=ag;ad++){for(ae=aa;ae<=ah;ae++){af=R[ad][ae];if(af.real){ab=af.colspan-1;ac=af.rowspan-1;if(ab){if(ae+ab>Y){Y=ae+ab}}if(ac){if(ad+ac>X){X=ad+ac}}}}}o.removeClass(o.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected");for(ad=Z;ad<=X;ad++){for(ae=aa;ae<=Y;ae++){if(R[ad][ae]){o.addClass(R[ad][ae].elm,"mce-item-selected")}}}}}function t(Z,ab){var aa,Y,X;aa=E(Z);Y=aa.y*D+aa.x;do{Y+=ab;X=p(Y%D,Math.floor(Y/D));if(!X){break}if(X.elm!=Z){x.select(X.elm,true);if(o.isEmpty(X.elm)){x.collapse(true)}return true}}while(X.elm==Z);return false}B=B||o.getParent(x.getStart(true),"table");v();Q=o.getParent(x.getStart(true),"th,td");if(Q){r=E(Q);z=L();Q=p(r.x,r.y)}k.extend(this,{deleteTable:u,split:J,merge:P,insertRow:w,insertCol:q,deleteCols:V,deleteRows:H,cutRows:N,copyRows:G,pasteRows:K,getPos:E,setStartCell:y,setEndCell:W,moveRelIdx:t,refresh:v})}});h("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(n,o,j,k,m){var l=k.each,i=m.getSpanVal;return function(t){function u(){function v(E){var K=E.keyCode;function C(T,P){var O=T?"previousSibling":"nextSibling";var U=t.dom.getParent(P,"tr");var S=U[O];if(S){G(t,P,S,T);E.preventDefault();return true}var V=t.dom.getParent(U,"table");var R=U.parentNode;var N=R.nodeName.toLowerCase();if(N==="tbody"||N===(T?"tfoot":"thead")){var Q=x(T,V,R,"tbody");if(Q!==null){return z(T,Q,P)}}return J(T,U,O,V)}function x(R,P,Q,T){var O=t.dom.select(">"+T,P);var N=O.indexOf(Q);if(R&&N===0||!R&&N===O.length-1){return A(R,P)}else{if(N===-1){var S=Q.tagName.toLowerCase()==="thead"?0:O.length-1;return O[S]}}return O[N+(R?-1:1)]}function A(Q,P){var O=Q?"thead":"tfoot";var N=t.dom.select(">"+O,P);return N.length!==0?N[0]:null}function z(Q,P,O){var N=w(P,Q);if(N){G(t,O,N,Q)}E.preventDefault();return true}function J(T,Q,N,S){var O=S[N];if(O){I(O);return true}var R=t.dom.getParent(S,"td,th");if(R){return C(T,R,E)}var P=w(Q,!T);I(P);E.preventDefault();return false}function w(O,N){var P=O&&O[N?"lastChild":"firstChild"];return P&&P.nodeName==="BR"?t.dom.getParent(P,"td,th"):P}function I(N){t.selection.setCursorLocation(N,0)}function F(){return K==n.UP||K==n.DOWN}function H(O){var P=O.selection.getNode();var N=O.dom.getParent(P,"tr");return N!==null}function D(O){var N=0;var P=O;while(P.previousSibling){P=P.previousSibling;N=N+i(P,"colspan")}return N}function y(P,N){var Q=0,O=0;l(P.children,function(R,S){Q=Q+i(R,"colspan");O=S;if(Q>N){return false}});return O}function G(P,S,U,R){var T=D(t.dom.getParent(S,"td,th"));var O=y(U,T);var N=U.childNodes[O];var Q=w(N,R);I(Q||N)}function M(N){var P=t.selection.getNode();var Q=t.dom.getParent(P,"td,th");var O=t.dom.getParent(N,"td,th");return Q&&Q!==O&&B(Q,O)}function B(O,N){return t.dom.getParent(O,"TABLE")===t.dom.getParent(N,"TABLE")}if(F()&&H(t)){var L=t.selection.getNode();o.setEditorTimeout(t,function(){if(M(L)){C(!E.shiftKey&&K===n.UP,L,E)}},0)}}t.on("KeyDown",function(w){v(w)})}function p(){function v(x,y){var z=y.ownerDocument,w=z.createRange(),A;w.setStartBefore(y);w.setEnd(x.endContainer,x.endOffset);A=z.createElement("body");A.appendChild(w.cloneContents());return A.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length===0}t.on("KeyDown",function(y){var w,x,z=t.dom;if(y.keyCode==37||y.keyCode==38){w=t.selection.getRng();x=z.getParent(w.startContainer,"table");if(x&&t.getBody().firstChild==x){if(v(w,x)){w=z.createRng();w.setStartBefore(x);w.setEndBefore(x);t.selection.setRng(w);y.preventDefault()}}}})}function r(){t.on("KeyDown SetContent VisualAid",function(){var v;for(v=t.getBody().lastChild;v;v=v.previousSibling){if(v.nodeType==3){if(v.nodeValue.length>0){break}}else{if(v.nodeType==1&&(v.tagName=="BR"||!v.getAttribute("data-mce-bogus"))){break}}}if(v&&v.nodeName=="TABLE"){if(t.settings.forced_root_block){t.dom.add(t.getBody(),t.settings.forced_root_block,t.settings.forced_root_block_attrs,j.ie&&j.ie<11?"&nbsp;":'<br data-mce-bogus="1" />')}else{t.dom.add(t.getBody(),"br",{"data-mce-bogus":"1"})}}});t.on("PreProcess",function(w){var v=w.node.lastChild;if(v&&(v.nodeName=="BR"||(v.childNodes.length==1&&(v.firstChild.nodeName=="BR"||v.firstChild.nodeValue=="\u00a0")))&&v.previousSibling&&v.previousSibling.nodeName=="TABLE"){t.dom.remove(v)}})}function q(){function v(C,y,z,E){var A=3,F=C.dom.getParent(y.startContainer,"TABLE");var B,x,D;if(F){B=F.parentNode}x=y.startContainer.nodeType==A&&y.startOffset===0&&y.endOffset===0&&E&&(z.nodeName=="TR"||z==B);D=(z.nodeName=="TD"||z.nodeName=="TH")&&!E;return x||D}function w(){var y=t.selection.getRng();var A=t.selection.getNode();var z=t.dom.getParent(y.startContainer,"TD,TH");if(!v(t,y,A,z)){return}if(!z){z=A}var x=z.lastChild;while(x.lastChild){x=x.lastChild}if(x.nodeType==3){y.setEnd(x,x.data.length);t.selection.setRng(y)}}t.on("KeyDown",function(){w()});t.on("MouseDown",function(x){if(x.button!=2){w()}})}function s(){function w(x){t.selection.select(x,true);t.selection.collapse(true)}function v(x){t.$(x).empty();m.paddCell(x)}t.on("keydown",function(z){if((z.keyCode==n.DELETE||z.keyCode==n.BACKSPACE)&&!z.isDefaultPrevented()){var y,B,A,x;y=t.dom.getParent(t.selection.getStart(),"table");if(y){B=t.dom.select("td,th",y);A=k.grep(B,function(C){return t.dom.hasClass(C,"mce-item-selected")});if(A.length===0){x=t.dom.getParent(t.selection.getStart(),"td,th");if(t.selection.isCollapsed()&&x&&t.dom.isEmpty(x)){z.preventDefault();v(x);w(x)}return}z.preventDefault();t.undoManager.transact(function(){if(B.length==A.length){t.execCommand("mceTableDelete")}else{k.each(A,v);w(A[0])}})}}})}s();if(j.webkit){u();q()}if(j.gecko){p();r()}if(j.ie>10){p();r()}}});h("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(j,k,i){return function(p){var n=p.dom,s,r,m,t=true,q;function o(u){p.getBody().style.webkitUserSelect="";if(u||t){p.dom.removeClass(p.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected");t=false}}function l(y){var w,v,x=y.target;if(q){return}if(r&&(s||x!=r)&&(x.nodeName=="TD"||x.nodeName=="TH")){v=n.getParent(x,"table");if(v==m){if(!s){s=new j(p,v);s.setStartCell(r);p.getBody().style.webkitUserSelect="none"}s.setEndCell(x);t=true}w=p.selection.getSel();try{if(w.removeAllRanges){w.removeAllRanges()}else{w.empty()}}catch(u){}y.preventDefault()}}p.on("MouseDown",function(u){if(u.button!=2&&!q){o();r=n.getParent(u.target,"td,th");m=n.getParent(r,"table")}});p.on("mouseover",l);p.on("remove",function(){n.unbind(p.getDoc(),"mouseover",l)});p.on("MouseUp",function(){var v,z=p.selection,u,A,y,x;function w(B,D){var C=new k(B,B);do{if(B.nodeType==3&&i.trim(B.nodeValue).length!==0){if(D){v.setStart(B,0)}else{v.setEnd(B,B.nodeValue.length)}return}if(B.nodeName=="BR"){if(D){v.setStartBefore(B)}else{v.setEndBefore(B)}return}}while((B=(D?C.next():C.prev())))}if(r){if(s){p.getBody().style.webkitUserSelect=""}u=n.select("td.mce-item-selected,th.mce-item-selected");if(u.length>0){v=n.createRng();y=u[0];v.setStartBefore(y);v.setEndAfter(y);w(y,1);A=new k(y,n.getParent(u[0],"table"));do{if(y.nodeName=="TD"||y.nodeName=="TH"){if(!n.hasClass(y,"mce-item-selected")){break}x=y}}while((y=A.next()));w(x);z.setRng(v)}p.nodeChanged();r=s=m=null}});p.on("KeyUp Drop SetContent",function(u){o(u.type=="setcontent");r=s=m=null;q=false});p.on("ObjectResizeStart ObjectResized",function(u){q=u.type!="objectresized"});return{clear:o}}});h("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(j,i){var k=j.each;return function(n){var w=this;function q(){var x=n.settings.color_picker_callback;if(x){return function(){var y=this;x.call(n,function(z){y.value(z).fire("change")},y.value())}}}function t(x){return{title:"Advanced",type:"form",defaults:{onchange:function(){v(x,this.parents().reverse()[0],this.name()=="style")}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:q()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:q()}]}]}}function m(x){return x?x.replace(/px$/,""):""}function u(x){if(/^[0-9]+$/.test(x)){x+="px"}return x}function s(x){k("left center right".split(" "),function(y){n.formatter.remove("align"+y,{},x)})}function o(x){k("top middle bottom".split(" "),function(y){n.formatter.remove("valign"+y,{},x)})}function p(z,x,A){function y(C,B){B=B||[];j.each(C,function(E){var D={text:E.text||E.title};if(E.menu){D.menu=y(E.menu)}else{D.value=E.value;if(x){x(D)}}B.push(D)});return B}return y(z,A||[])}function v(B,A,x){var z=A.toJSON();var y=B.parseStyle(z.style);if(x){A.find("#borderColor").value(y["border-color"]||"")[0].fire("change");A.find("#backgroundColor").value(y["background-color"]||"")[0].fire("change")}else{y["border-color"]=z.borderColor;y["background-color"]=z.backgroundColor}A.find("#style").value(B.serializeStyle(B.parseStyle(B.serializeStyle(y))))}function l(z,y,A){var x=z.parseStyle(z.getAttrib(A,"style"));if(x["border-color"]){y.borderColor=x["border-color"]}if(x["background-color"]){y.backgroundColor=x["background-color"]}y.style=z.serializeStyle(x)}function r(z,A,y){var x=z.parseStyle(z.getAttrib(A,"style"));k(y,function(B){x[B.name]=B.value});z.setAttrib(A,"style",z.serializeStyle(z.parseStyle(z.serializeStyle(x))))}w.tableProps=function(){w.table(true)};w.table=function(B){var y=n.dom,D,F,C,x,A={},G,z;function H(){function J(N,K,M){if(N.tagName==="TD"||N.tagName==="TH"){y.setStyle(N,K,M)}else{if(N.children){for(var L=0;L<N.children.length;L++){J(N.children[L],K,M)}}}}var I;v(y,this);A=j.extend(A,this.toJSON());if(A["class"]===false){delete A["class"]}n.undoManager.transact(function(){if(!D){D=n.plugins.table.insertTable(A.cols||1,A.rows||1)}n.dom.setAttribs(D,{style:A.style,"class":A["class"]});if(n.settings.table_style_by_css){z=[];z.push({name:"border",value:A.border});z.push({name:"border-spacing",value:u(A.cellspacing)});r(y,D,z);y.setAttribs(D,{"data-mce-border-color":A.borderColor,"data-mce-cell-padding":A.cellpadding,"data-mce-border":A.border});if(D.children){for(var K=0;K<D.children.length;K++){J(D.children[K],"border",A.border);J(D.children[K],"padding",u(A.cellpadding))}}}else{n.dom.setAttribs(D,{border:A.border,cellpadding:A.cellpadding,cellspacing:A.cellspacing})}if(y.getAttrib(D,"width")&&!n.settings.table_style_by_css){y.setAttrib(D,"width",m(A.width))}else{y.setStyle(D,"width",u(A.width))}y.setStyle(D,"height",u(A.height));I=y.select("caption",D)[0];if(I&&!A.caption){y.remove(I)}if(!I&&A.caption){I=y.create("caption");I.innerHTML=!i.ie?'<br data-mce-bogus="1"/>':"\u00a0";D.insertBefore(I,D.firstChild)}s(D);if(A.align){n.formatter.apply("align"+A.align,{},D)}n.focus();n.addVisual()})}function E(M,K){var J=n.dom.select("td,th",M),L;function I(Q,P){for(var O=0;O<P.length;O++){var N=y.getStyle(P[O],K);if(typeof Q==="undefined"){Q=N}if(Q!=N){return""}}return Q}L=I(L,J);return L}if(B===true){D=y.getParent(n.selection.getStart(),"table");if(D){A={width:m(y.getStyle(D,"width")||y.getAttrib(D,"width")),height:m(y.getStyle(D,"height")||y.getAttrib(D,"height")),cellspacing:m(y.getStyle(D,"border-spacing")||y.getAttrib(D,"cellspacing")),cellpadding:y.getAttrib(D,"data-mce-cell-padding")||y.getAttrib(D,"cellpadding")||E(D,"padding"),border:y.getAttrib(D,"data-mce-border")||y.getAttrib(D,"border")||E(D,"border"),borderColor:y.getAttrib(D,"data-mce-border-color"),caption:!!y.select("caption",D)[0],"class":y.getAttrib(D,"class")};k("left center right".split(" "),function(I){if(n.formatter.matchNode(D,"align"+I)){A.align=I}})}}else{F={label:"Cols",name:"cols"};C={label:"Rows",name:"rows"}}if(n.settings.table_class_list){if(A["class"]){A["class"]=A["class"].replace(/\s*mce\-item\-table\s*/g,"")}x={name:"class",type:"listbox",label:"Class",values:p(n.settings.table_class_list,function(I){if(I.value){I.textStyle=function(){return n.formatter.getCssText({block:"table",classes:[I.value]})}}})}}G={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:false,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:(n.settings.table_appearance_options!==false)?[F,C,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[F,C,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},x]};if(n.settings.table_advtab!==false){l(y,A,D);n.windowManager.open({title:"Table properties",data:A,bodyType:"tabpanel",body:[{title:"General",type:"form",items:G},t(y)],onsubmit:H})}else{n.windowManager.open({title:"Table properties",data:A,body:G,onsubmit:H})}};w.merge=function(y,x){n.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var z=this.toJSON();n.undoManager.transact(function(){y.merge(x,z.cols,z.rows)})}})};w.cell=function(){var D=n.dom,z,C,A,x=[];function B(){v(D,this);C=j.extend(C,this.toJSON());n.undoManager.transact(function(){k(x,function(E){n.dom.setAttribs(E,{scope:C.scope,style:C.style,"class":C["class"]});n.dom.setStyles(E,{width:u(C.width),height:u(C.height)});if(C.type&&E.nodeName.toLowerCase()!=C.type){E=D.rename(E,C.type)}s(E);if(C.align){n.formatter.apply("align"+C.align,{},E)}o(E);if(C.valign){n.formatter.apply("valign"+C.valign,{},E)}});n.focus()})}x=n.dom.select("td.mce-item-selected,th.mce-item-selected");z=n.dom.getParent(n.selection.getStart(),"td,th");if(!x.length&&z){x.push(z)}z=z||x[0];if(!z){return}C={width:m(D.getStyle(z,"width")||D.getAttrib(z,"width")),height:m(D.getStyle(z,"height")||D.getAttrib(z,"height")),scope:D.getAttrib(z,"scope"),"class":D.getAttrib(z,"class")};C.type=z.nodeName.toLowerCase();k("left center right".split(" "),function(E){if(n.formatter.matchNode(z,"align"+E)){C.align=E}});k("top middle bottom".split(" "),function(E){if(n.formatter.matchNode(z,"valign"+E)){C.valign=E}});if(n.settings.table_cell_class_list){A={name:"class",type:"listbox",label:"Class",values:p(n.settings.table_cell_class_list,function(E){if(E.value){E.textStyle=function(){return n.formatter.getCssText({block:"td",classes:[E.value]})}}})}}var y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:false,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},A]};if(n.settings.table_cell_advtab!==false){l(D,C,z);n.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:C,body:[{title:"General",type:"form",items:y},t(D)],onsubmit:B})}else{n.windowManager.open({title:"Cell properties",data:C,body:y,onsubmit:B})}};w.row=function(){var z=n.dom,C,D,E,x,A,F=[],y;function B(){var G,H,I;v(z,this);A=j.extend(A,this.toJSON());n.undoManager.transact(function(){var J=A.type;k(F,function(K){n.dom.setAttribs(K,{scope:A.scope,style:A.style,"class":A["class"]});n.dom.setStyles(K,{height:u(A.height)});if(J!=K.parentNode.nodeName.toLowerCase()){G=z.getParent(K,"table");H=K.parentNode;I=z.select(J,G)[0];if(!I){I=z.create(J);if(G.firstChild){G.insertBefore(I,G.firstChild)}else{G.appendChild(I)}}I.appendChild(K);if(!H.hasChildNodes()){z.remove(H)}}s(K);if(A.align){n.formatter.apply("align"+A.align,{},K)}});n.focus()})}C=n.dom.getParent(n.selection.getStart(),"table");D=n.dom.getParent(n.selection.getStart(),"td,th");k(C.rows,function(G){k(G.cells,function(H){if(z.hasClass(H,"mce-item-selected")||H==D){F.push(G);return false}})});E=F[0];if(!E){return}A={height:m(z.getStyle(E,"height")||z.getAttrib(E,"height")),scope:z.getAttrib(E,"scope"),"class":z.getAttrib(E,"class")};A.type=E.parentNode.nodeName.toLowerCase();k("left center right".split(" "),function(G){if(n.formatter.matchNode(E,"align"+G)){A.align=G}});if(n.settings.table_row_class_list){x={name:"class",type:"listbox",label:"Class",values:p(n.settings.table_row_class_list,function(G){if(G.value){G.textStyle=function(){return n.formatter.getCssText({block:"tr",classes:[G.value]})}}})}}y={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},x]};if(n.settings.table_row_advtab!==false){l(z,A,E);n.windowManager.open({title:"Row properties",data:A,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},t(z)],onsubmit:B})}else{n.windowManager.open({title:"Row properties",data:A,body:y,onsubmit:B})}}}});h("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(i,j){return function(P){var m="mce-resize-bar",ac="mce-resize-bar-row",W="row-resize",S="data-row",H="data-initial-top",Z="mce-resize-bar-col",aD="col-resize",o="data-col",ai="data-initial-left",ax=4,r=10,C=10,Q="mce-resize-bar-dragging";var af=new RegExp(/(\d+(\.\d+)?%)/),A=new RegExp(/px|em/);var al,t,av,aE,F,E,N;function ah(aK,aL){return{index:aK,y:P.dom.getPos(aL).y}}function s(aK,aL){return{index:aK,y:P.dom.getPos(aL).y+aL.offsetHeight}}function O(aL,aK){return{index:aL,x:P.dom.getPos(aK).x}}function aj(aL,aK){return{index:aL,x:P.dom.getPos(aK).x+aK.offsetWidth}}function B(){var aK=P.getBody().dir;return aK==="rtl"}function K(){return P.inline}function aA(){return K?P.getBody().ownerDocument.body:P.getBody()}function U(aL,aK){return B()?aj(aL,aK):O(aL,aK)}function Y(aL,aK){return B()?O(aL,aK):aj(aL,aK)}function aH(aK,aL){return J(aK,"width")/J(aL,"width")*100}function J(aL,aN){var aK=P.dom.getStyle(aL,aN,true);var aM=parseInt(aK,10);return aM}function I(aM){var aK=J(aM,"width");var aL=J(aM.parentElement,"width");return aK/aL*100}function p(aL,aM){var aK=J(aL,"width");return aM/aK*100}function ab(aL,aM){var aK=J(aL.parentElement,"width");return aM/aK*100}function ap(aP,aQ,aK){var aN=[];for(var aM=1;aM<aK.length;aM++){var aO=aK[aM].element;aN.push(aP(aM-1,aO))}var aL=aK[aK.length-1];aN.push(aQ(aK.length-1,aL.element));return aN}function aJ(){var aK=P.dom.select("."+m,aA());i.each(aK,function(aL){P.dom.remove(aL)})}function G(aK){aJ();ag(aK)}function az(aM,aR,aL,aQ,aS,aK,aN,aO){var aP={"data-mce-bogus":"all","class":m+" "+aM,unselectable:"on","data-mce-resize":false,style:"cursor: "+aR+"; margin: 0; padding: 0; position: absolute; left: "+aL+"px; top: "+aQ+"px; height: "+aS+"px; width: "+aK+"px; "};aP[aN]=aO;return aP}function aq(aL,aK,aM){i.each(aL,function(aO){var aR=aM.x,aQ=aO.y-ax/2,aN=ax,aP=aK;P.dom.add(aA(),"div",az(ac,W,aR,aQ,aN,aP,S,aO.index))})}function x(aL,aK,aM){i.each(aL,function(aO){var aR=aO.x-ax/2,aQ=aM.y,aN=aK,aP=ax;P.dom.add(aA(),"div",az(Z,aD,aR,aQ,aN,aP,o,aO.index))})}function V(aK){return i.map(aK.rows,function(aM){var aL=i.map(aM.cells,function(aN){var aO=aN.hasAttribute("rowspan")?parseInt(aN.getAttribute("rowspan"),10):1;var aP=aN.hasAttribute("colspan")?parseInt(aN.getAttribute("colspan"),10):1;return{element:aN,rowspan:aO,colspan:aP}});return{element:aM,cells:aL}})}function T(aR){function aQ(aU,aT){return aU+","+aT}function aK(aU,aT){return aL[aQ(aU,aT)]}function aM(){var aT=[];i.each(aS,function(aU){aT=aT.concat(aU.cells)});return aT}function aO(){return aS}var aL={};var aS=[];var aP=0;var aN=0;i.each(aR,function(aU,aV){var aT=[];i.each(aU.cells,function(aW){var a2=0;while(aL[aQ(aV,a2)]!==g){a2++}var a0={element:aW.element,colspan:aW.colspan,rowspan:aW.rowspan,rowIndex:aV,colIndex:a2};for(var aY=0;aY<aW.colspan;aY++){for(var aX=0;aX<aW.rowspan;aX++){var aZ=aV+aX;var a1=a2+aY;aL[aQ(aZ,a1)]=a0;aP=Math.max(aP,aZ+1);aN=Math.max(aN,a1+1)}}aT.push(a0)});aS.push({element:aU.element,cells:aT})});return{grid:{maxRows:aP,maxCols:aN},getAt:aK,getAllCells:aM,getAllRows:aO}}function L(aN,aK){var aM=[];for(var aL=aN;aL<aK;aL++){aM.push(aL)}return aM}function v(aL,aP,aN){var aM=aL();var aO;for(var aK=0;aK<aM.length;aK++){if(aP(aM[aK])){aO=aM[aK]}}return aO?aO:aN()}function X(aK){var aM=L(0,aK.grid.maxCols);var aL=L(0,aK.grid.maxRows);return i.map(aM,function(aN){function aO(){var aS=[];for(var aR=0;aR<aL.length;aR++){var aT=aK.getAt(aR,aN);if(aT.colIndex===aN){aS.push(aT)}}return aS}function aQ(aR){return aR.colspan===1}function aP(){return aK.getAt(0,aN)}return v(aO,aQ,aP)})}function ad(aK){var aM=L(0,aK.grid.maxCols);var aL=L(0,aK.grid.maxRows);return i.map(aL,function(aQ){function aN(){var aS=[];for(var aR=0;aR<aM.length;aR++){var aT=aK.getAt(aQ,aR);if(aT.rowIndex===aQ){aS.push(aT)}}return aS}function aP(aR){return aR.rowspan===1}function aO(){aK.getAt(aQ,0)}return v(aN,aP,aO)})}function ag(aN){var aK=V(aN);var aM=T(aK);var aO=ad(aM);var aR=X(aM);var aQ=P.dom.getPos(aN);var aL=aO.length>0?ap(ah,s,aO):[];var aP=aR.length>0?ap(U,Y,aR):[];aq(aL,aN.offsetWidth,aQ);x(aP,aN.offsetHeight,aQ)}function aI(aU,aR,aK,aV){if(aR<0||aR>=aU.length-1){return""}var aT=aU[aR];if(aT){aT={value:aT,delta:0}}else{var aM=aU.slice(0,aR).reverse();for(var aP=0;aP<aM.length;aP++){if(aM[aP]){aT={value:aM[aP],delta:aP+1}}}}var aQ=aU[aR+1];if(aQ){aQ={value:aQ,delta:1}}else{var aL=aU.slice(aR+1);for(var aO=0;aO<aL.length;aO++){if(aL[aO]){aQ={value:aL[aO],delta:aO+1}}}}var aN=aQ.delta-aT.delta;var aS=Math.abs(aQ.value-aT.value)/aN;return aK?aS/J(aV,"width")*100:aS}function aB(aL,aM){var aK=P.dom.getStyle(aL,aM);if(!aK){aK=P.dom.getAttrib(aL,aM)}if(!aK){aK=P.dom.getStyle(aL,aM,true)}return aK}function n(aM,aP,aN){var aL=aB(aM,"width");var aO=parseInt(aL,10);var aK=aP?aH(aM,aN):J(aM,"width");if(aP&&!aC(aL)||!aP&&!M(aL)){aO=0}return !isNaN(aO)&&aO>0?aO:aK}function aG(aQ,aK,aS){var aO=X(aQ);var aP=i.map(aO,function(aT){return U(aT.colIndex,aT.element).x});var aM=[];for(var aN=0;aN<aO.length;aN++){var aR=aO[aN].element.hasAttribute("colspan")?parseInt(aO[aN].element.getAttribute("colspan"),10):1;var aL=aR>1?aI(aP,aN):n(aO[aN].element,aK,aS);aL=aL?aL:r;aM.push(aL)}return aM}function ar(aL){var aK=aB(aL,"height");var aM=parseInt(aK,10);if(aC(aK)){aM=0}return !isNaN(aM)&&aM>0?aM:J(aL,"height")}function ae(aL){var aQ=ad(aL);var aO=i.map(aQ,function(aR){return ah(aR.rowIndex,aR.element).y});var aP=[];for(var aM=0;aM<aQ.length;aM++){var aN=aQ[aM].element.hasAttribute("rowspan")?parseInt(aQ[aM].element.getAttribute("rowspan"),10):1;var aK=aN>1?aI(aO,aM):ar(aQ[aM].element);aK=aK?aK:C;aP.push(aK)}return aP}function aF(aT,aN,aM,aO,aK){var aU=aT.slice(0);function aP(aV){return i.map(aV,function(){return 0})}function aS(){var aW;if(aK){aW=[100-aU[0]]}else{var aV=Math.max(aO,aU[0]+aM);aW=[aV-aU[0]]}return aW}function aQ(aW,aY){var a1=aP(aU.slice(0,aW));var aZ=aP(aU.slice(aY+1));var a0;if(aM>=0){var aV=Math.max(aO,aU[aY]-aM);a0=a1.concat([aM,aV-aU[aY]]).concat(aZ)}else{var a2=Math.max(aO,aU[aW]+aM);var aX=aU[aW]-a2;a0=a1.concat([a2-aU[aW],aX]).concat(aZ)}return a0}function aR(aX,aV){var aZ=aP(aU.slice(0,aV));var aY;if(aM>=0){aY=aZ.concat([aM])}else{var aW=Math.max(aO,aU[aV]+aM);aY=aZ.concat([aW-aU[aV]])}return aY}var aL;if(aT.length===0){aL=[]}else{if(aT.length===1){aL=aS()}else{if(aN===0){aL=aQ(0,1)}else{if(aN>0&&aN<aT.length-1){aL=aQ(aN,aN+1)}else{if(aN===aT.length-1){aL=aR(aN-1,aN)}else{aL=[]}}}}}return aL}function w(aO,aK,aN){var aM=0;for(var aL=aO;aL<aK;aL++){aM+=aN[aL]}return aM}function D(aK,aM){var aL=aK.getAllCells();return i.map(aL,function(aN){var aO=w(aN.colIndex,aN.colIndex+aN.colspan,aM);return{element:aN.element,width:aO,colspan:aN.colspan}})}function aw(aK,aM){var aL=aK.getAllCells();return i.map(aL,function(aO){var aN=w(aO.rowIndex,aO.rowIndex+aO.rowspan,aM);return{element:aO.element,height:aN,rowspan:aO.rowspan}})}function at(aK,aM){var aL=aK.getAllRows();return i.map(aL,function(aO,aN){return{element:aO.element,height:aM[aN]}})}function aC(aK){return af.test(aK)}function M(aK){return A.test(aK)}function ay(aZ,a0,aO){var a1=V(aZ);var aM=T(a1);function aS(a3,a2){i.each(a3,function(a4){P.dom.setStyle(a4.element,"width",a4.width+a2);P.dom.setAttrib(a4.element,"width",null)})}function aX(){return aO<aM.grid.maxCols-1?I(aZ):I(aZ)+ab(aZ,a0)}function aL(){return aO<aM.grid.maxCols-1?J(aZ,"width"):J(aZ,"width")+a0}function aK(a4,a3,a2){if(aO==aM.grid.maxCols-1||!a2){P.dom.setStyle(aZ,"width",a4+a3);P.dom.setAttrib(aZ,"width",null)}}var aR=aC(aZ.width)||aC(aZ.style.width);var aT=aG(aM,aR,aZ);var aN=aR?p(aZ,a0):a0;var aP=aF(aT,aO,aN,r,aR,aZ);var aU=[];for(var aW=0;aW<aP.length;aW++){aU.push(aP[aW]+aT[aW])}var aY=D(aM,aU);var aV=aR?"%":"px";var aQ=aR?aX():aL();P.undoManager.transact(function(){aS(aY,aV);aK(aQ,aV,aR)})}function ao(aU,aR,aN){var aS=V(aU);var aP=T(aS);var aO=ae(aP);var aQ=[],aL=0;for(var aM=0;aM<aO.length;aM++){aQ.push(aM===aN?aR+aO[aM]:aO[aM]);aL+=aL[aM]}var aK=aw(aP,aQ);var aT=at(aP,aQ);P.undoManager.transact(function(){i.each(aT,function(aV){P.dom.setStyle(aV.element,"height",aV.height+"px");P.dom.setAttrib(aV.element,"height",null)});i.each(aK,function(aV){P.dom.setStyle(aV.element,"height",aV.height+"px");P.dom.setAttrib(aV.element,"height",null)});P.dom.setStyle(aU,"height",aL+"px");P.dom.setAttrib(aU,"height",null)})}function q(){al=setTimeout(function(){R()},200)}function u(){clearTimeout(al)}function au(){var aK=document.createElement("div");aK.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;");aK.setAttribute("data-mce-bogus","all");return aK}function y(aK,aL){P.dom.bind(aK,"mouseup",function(){R()});P.dom.bind(aK,"mousemove",function(aM){u();if(t){aL(aM)}});P.dom.bind(aK,"mouseout",function(){q()})}function R(){P.dom.remove(av);if(t){P.dom.removeClass(aE,Q);t=false;var aM,aP;if(aa(aE)){var aK=parseInt(P.dom.getAttrib(aE,ai),10);var aN=P.dom.getPos(aE).x;aM=parseInt(P.dom.getAttrib(aE,o),10);aP=B()?aK-aN:aN-aK;ay(N,aP,aM)}else{if(k(aE)){var aO=parseInt(P.dom.getAttrib(aE,H),10);var aL=P.dom.getPos(aE).y;aM=parseInt(P.dom.getAttrib(aE,S),10);aP=aL-aO;ao(N,aP,aM)}}G(N);P.nodeChanged()}}function z(aL,aK){av=av?av:au();t=true;P.dom.addClass(aL,Q);aE=aL;y(av,aK);P.dom.add(aA(),av)}function aa(aK){return P.dom.hasClass(aK,Z)}function k(aK){return P.dom.hasClass(aK,ac)}function am(aL){F=F!==g?F:aL.clientX;var aK=aL.clientX-F;F=aL.clientX;var aM=P.dom.getPos(aE).x;P.dom.setStyle(aE,"left",aM+aK+"px")}function ak(aM){E=E!==g?E:aM.clientY;var aK=aM.clientY-E;E=aM.clientY;var aL=P.dom.getPos(aE).y;P.dom.setStyle(aE,"top",aL+aK+"px")}function an(aK){F=g;z(aK,am)}function l(aK){E=g;z(aK,ak)}P.on("init",function(){P.dom.bind(aA(),"mousedown",function(aN){var aM=aN.target;if(aa(aM)){aN.preventDefault();var aK=P.dom.getPos(aM).x;P.dom.setAttrib(aM,ai,aK);an(aM)}else{if(k(aM)){aN.preventDefault();var aL=P.dom.getPos(aM).y;P.dom.setAttrib(aM,H,aL);l(aM)}}})});P.on("ObjectResized",function(aM){var aL=aM.target;if(aL.nodeName==="TABLE"){var aK=[];i.each(aL.rows,function(aN){i.each(aN.cells,function(aO){var aP=P.dom.getStyle(aO,"width",true);aK.push({cell:aO,width:aP})})});i.each(aK,function(aN){P.dom.setStyle(aN.cell,"width",aN.width);P.dom.setAttrib(aN.cell,"width",null)})}});P.on("mouseover",function(aK){if(!t){var aL=P.dom.getParent(aK.target,"table");if(aK.target.nodeName==="table"||aL){N=aL;G(aL)}}});P.on("keydown",function(aK){switch(aK.keyCode){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:aJ();break}});return{adjustWidth:ay,adjustHeight:ao,clearBars:aJ,drawBars:ag,determineDeltas:aF,getTableGrid:T,getTableDetails:V,getWidths:aG,getPixelHeights:ae,isPercentageBasedSize:aC,isPixelBasedSize:M,recalculateWidths:D,recalculateCellHeights:aw,recalculateRowHeights:at}}});h("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(r,q,s,o,k,i,p,l,j){var n=i.each;function m(C){var F,I=this,v=new o(C),D;if(C.settings.object_resizing&&(C.settings.object_resizing===true||C.settings.object_resizing==="table")){D=k(C)}function x(J){return function(){C.execCommand(J)}}function y(N,M){var O,J,L,K;L='<table id="__mce"><tbody>';for(O=0;O<M;O++){L+="<tr>";for(J=0;J<N;J++){L+="<td>"+(l.ie?" ":"<br>")+"</td>"}L+="</tr>"}L+="</tbody></table>";C.undoManager.transact(function(){C.insertContent(L);K=C.dom.get("__mce");C.dom.setAttrib(K,"id",null);C.dom.setAttribs(K,C.settings.table_default_attributes||{});C.dom.setStyles(K,C.settings.table_default_styles||{})});return K}function w(K,J){function L(){K.disabled(!C.dom.getParent(C.selection.getStart(),J));C.selection.selectorChanged(J,function(M){K.disabled(!M)})}if(C.initialized){L()}else{C.on("init",L)}}function B(){w(this,"table")}function z(){w(this,"td,th")}function G(){var K="";K='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var L=0;L<10;L++){K+="<tr>";for(var J=0;J<10;J++){K+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(L*10+J)+'" href="#" data-mce-x="'+J+'" data-mce-y="'+L+'"></a></td>'}K+="</tr>"}K+="</table>";K+='<div class="mce-text-center" role="presentation">1 x 1</div>';return K}function u(M,K,L){var R=L.getEl().getElementsByTagName("table")[0];var P,O,S,Q,J;var N=L.isRtl()||L.parent().rel=="tl-tr";R.nextSibling.innerHTML=(M+1)+" x "+(K+1);if(N){M=9-M}for(O=0;O<10;O++){for(P=0;P<10;P++){Q=R.rows[O].childNodes[P].firstChild;J=(N?P>=M:P<=M)&&O<=K;C.dom.toggleClass(Q,"mce-active",J);if(J){S=Q}}}return S.parentNode}if(C.settings.table_grid===false){C.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:v.table})}else{C.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:true,onclick:function(J){if(J.aria){this.parent().hideAll();J.stopImmediatePropagation();v.table()}},onshow:function(){u(0,0,this.menu.items()[0])},onhide:function(){var J=this.menu.items()[0].getEl().getElementsByTagName("a");C.dom.removeClass(J,"mce-active");C.dom.addClass(J[0],"mce-active")},menu:[{type:"container",html:G(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(L){var K=L.target,J,M;if(K.tagName.toUpperCase()=="A"){J=parseInt(K.getAttribute("data-mce-x"),10);M=parseInt(K.getAttribute("data-mce-y"),10);if(this.isRtl()||this.parent().rel=="tl-tr"){J=9-J}if(J!==this.lastX||M!==this.lastY){u(J,M,L.control);this.lastX=J;this.lastY=M}}},onclick:function(K){var J=this;if(K.target.tagName.toUpperCase()=="A"){K.preventDefault();K.stopPropagation();J.parent().cancel();C.undoManager.transact(function(){y(J.lastX+1,J.lastY+1)});C.addVisual()}}}]})}C.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:B,onclick:v.tableProps});C.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:B,cmd:"mceTableDelete"});C.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:x("mceTableCellProps"),onPostRender:z},{text:"Merge cells",onclick:x("mceTableMergeCells"),onPostRender:z},{text:"Split cell",onclick:x("mceTableSplitCells"),onPostRender:z}]});C.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:x("mceTableInsertRowBefore"),onPostRender:z},{text:"Insert row after",onclick:x("mceTableInsertRowAfter"),onPostRender:z},{text:"Delete row",onclick:x("mceTableDeleteRow"),onPostRender:z},{text:"Row properties",onclick:x("mceTableRowProps"),onPostRender:z},{text:"-"},{text:"Cut row",onclick:x("mceTableCutRow"),onPostRender:z},{text:"Copy row",onclick:x("mceTableCopyRow"),onPostRender:z},{text:"Paste row before",onclick:x("mceTablePasteRowBefore"),onPostRender:z},{text:"Paste row after",onclick:x("mceTablePasteRowAfter"),onPostRender:z}]});C.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:x("mceTableInsertColBefore"),onPostRender:z},{text:"Insert column after",onclick:x("mceTableInsertColAfter"),onPostRender:z},{text:"Delete column",onclick:x("mceTableDeleteCol"),onPostRender:z}]});var t=[];n("inserttable tableprops deletetable | cell row column".split(" "),function(J){if(J=="|"){t.push({text:"-"})}else{t.push(C.menuItems[J])}});C.addButton("table",{type:"menubutton",title:"Table",menu:t});if(!l.isIE){C.on("click",function(J){J=J.target;if(J.nodeName==="TABLE"){C.selection.select(J);C.nodeChanged()}})}I.quirks=new q(C);C.on("Init",function(){I.cellSelection=new s(C);I.resizeBars=D});C.on("PreInit",function(){C.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(J,K){var L=J.length;while(L--){J[L].attr(K,null)}})});n({mceTableSplitCells:function(J){J.split()},mceTableMergeCells:function(K){var J;J=C.dom.getParent(C.selection.getStart(),"th,td");if(!C.dom.select("td.mce-item-selected,th.mce-item-selected").length){v.merge(K,J)}else{K.merge()}},mceTableInsertRowBefore:function(J){J.insertRow(true)},mceTableInsertRowAfter:function(J){J.insertRow()},mceTableInsertColBefore:function(J){J.insertCol(true)},mceTableInsertColAfter:function(J){J.insertCol()},mceTableDeleteCol:function(J){J.deleteCols()},mceTableDeleteRow:function(J){J.deleteRows()},mceTableCutRow:function(J){F=J.cutRows()},mceTableCopyRow:function(J){F=J.copyRows()},mceTablePasteRowBefore:function(J){J.pasteRows(F,true)},mceTablePasteRowAfter:function(J){J.pasteRows(F)},mceTableDelete:function(J){if(D){D.clearBars()}J.deleteTable()}},function(K,J){C.addCommand(J,function(){var L=new r(C);if(L){K(L);C.execCommand("mceRepaint");I.cellSelection.clear()}})});n({mceInsertTable:v.table,mceTableProps:function(){v.table(true)},mceTableRowProps:v.row,mceTableCellProps:v.cell},function(K,J){C.addCommand(J,function(L,M){K(M)})});function A(){C.addButton("tableprops",{title:"Table properties",onclick:v.tableProps,icon:"table"});C.addButton("tabledelete",{title:"Delete table",onclick:x("mceTableDelete")});C.addButton("tablecellprops",{title:"Cell properties",onclick:x("mceTableCellProps")});C.addButton("tablemergecells",{title:"Merge cells",onclick:x("mceTableMergeCells")});C.addButton("tablesplitcells",{title:"Split cell",onclick:x("mceTableSplitCells")});C.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:x("mceTableInsertRowBefore")});C.addButton("tableinsertrowafter",{title:"Insert row after",onclick:x("mceTableInsertRowAfter")});C.addButton("tabledeleterow",{title:"Delete row",onclick:x("mceTableDeleteRow")});C.addButton("tablerowprops",{title:"Row properties",onclick:x("mceTableRowProps")});C.addButton("tablecutrow",{title:"Cut row",onclick:x("mceTableCutRow")});C.addButton("tablecopyrow",{title:"Copy row",onclick:x("mceTableCopyRow")});C.addButton("tablepasterowbefore",{title:"Paste row before",onclick:x("mceTablePasteRowBefore")});C.addButton("tablepasterowafter",{title:"Paste row after",onclick:x("mceTablePasteRowAfter")});C.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:x("mceTableInsertColBefore")});C.addButton("tableinsertcolafter",{title:"Insert column after",onclick:x("mceTableInsertColAfter")});C.addButton("tabledeletecol",{title:"Delete column",onclick:x("mceTableDeleteCol")})}function H(K){var J=C.dom.is(K,"table")&&C.getBody().contains(K);return J}function E(){var J=C.settings.table_toolbar;if(J===""||J===false){return}if(!J){J="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}C.addContextToolbar(H,J)}A();E();if(C.settings.table_tab_navigation!==false){C.on("keydown",function(L){var K,J,M;if(L.keyCode==9){K=C.dom.getParent(C.selection.getStart(),"th,td");if(K){L.preventDefault();J=new r(C);M=L.shiftKey?-1:1;C.undoManager.transact(function(){if(!J.moveRelIdx(K,M)&&M>0){J.insertRow();J.refresh();J.moveRelIdx(K,M)}})}}})}I.insertTable=y}j.add("table",m)})})(this);