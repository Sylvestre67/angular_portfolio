!function(bI,bp){function bw(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=bq[d[a]]||bv(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function br(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===bp){throw"invalid module definition, dependencies must be specified"}if(a===bp){throw"invalid module definition, definition function must be specified"}bw(b,function(){bq[c]=a.apply(null,arguments)})}function bD(a){return !!bq[a]}function bv(b){for(var d=bI,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function bM(j){var f,e,g,d,b;for(f=0;f<j.length;f++){e=bI,g=j[f],d=g.split(/[.\/]/);for(var h=0;h<d.length-1;++h){e[d[h]]===bp&&(e[d[h]]={}),e=e[d[h]]}e[d[d.length-1]]=bq[g]}if(bI.AMDLC_TESTS){b=bI.privateModules||{};for(g in bq){b[g]=bq[g]}for(f=0;f<j.length;f++){delete b[j[f]]}bI.privateModules=b}}var bq={},bz="tinymce/geom/Rect",bK="tinymce/util/Promise",bn="tinymce/util/Delay",bJ="tinymce/dom/EventUtils",bG="tinymce/dom/Sizzle",bE="tinymce/Env",by="tinymce/util/Arr",bu="tinymce/util/Tools",bF="tinymce/dom/DomQuery",bm="tinymce/html/Styles",bi="tinymce/dom/TreeWalker",bL="tinymce/dom/Range",cn="tinymce/html/Entities",bk="tinymce/dom/StyleSheetLoader",bl="tinymce/dom/DOMUtils",cj="tinymce/dom/ScriptLoader",b7="tinymce/AddOnManager",bO="tinymce/dom/NodeType",b0="tinymce/text/Zwsp",bA="tinymce/caret/CaretContainer",bY="tinymce/dom/RangeUtils",b1="tinymce/NodeChange",cq="tinymce/html/Node",co="tinymce/html/Schema",cl="tinymce/html/SaxParser",b8="tinymce/html/DomParser",b9="tinymce/html/Writer",b4="tinymce/html/Serializer",cf="tinymce/dom/Serializer",b5="tinymce/dom/TridentSelection",cd="tinymce/util/VK",ci="tinymce/dom/ControlSelection",bh="tinymce/util/Fun",bU="tinymce/caret/CaretCandidate",bV="tinymce/geom/ClientRect",bX="tinymce/text/ExtendingChar",cB="tinymce/caret/CaretPosition",bs="tinymce/caret/CaretBookmark",bB="tinymce/dom/BookmarkManager",bS="tinymce/dom/Selection",bT="tinymce/dom/ElementUtils",ca="tinymce/fmt/Preview",cg="tinymce/Formatter",cc="tinymce/UndoManager",b3="tinymce/EnterKey",bQ="tinymce/ForceBlocks",a6="tinymce/EditorCommands",aK="tinymce/util/URI",cr="tinymce/util/Class",a1="tinymce/util/EventDispatcher",aA="tinymce/data/Binding",bP="tinymce/util/Observable",cy="tinymce/data/ObservableObject",aS="tinymce/ui/Selector",cK="tinymce/ui/Collection",bC="tinymce/ui/DomUtils",aC="tinymce/ui/BoxUtils",bc="tinymce/ui/ClassList",aZ="tinymce/ui/ReflowQueue",aI="tinymce/ui/Control",cD="tinymce/ui/Factory",bg="tinymce/ui/KeyboardNavigation",aQ="tinymce/ui/Container",au="tinymce/ui/DragHelper",cF="tinymce/ui/Scrollable",cb="tinymce/ui/Panel",aH="tinymce/ui/Movable",ac="tinymce/ui/Resizable",am="tinymce/ui/FloatPanel",ap="tinymce/ui/Window",aR="tinymce/ui/MessageBox",ag="tinymce/WindowManager",ab="tinymce/ui/Tooltip",ak="tinymce/ui/Widget",cE="tinymce/ui/Progress",al="tinymce/ui/Notification",aY="tinymce/NotificationManager",aP="tinymce/dom/NodePath",az="tinymce/util/Quirks",a0="tinymce/EditorObservable",a7="tinymce/Mode",aB="tinymce/Shortcuts",cC="tinymce/file/Uploader",aJ="tinymce/file/Conversions",cp="tinymce/file/ImageScanner",aj="tinymce/file/BlobCache",cv="tinymce/EditorUpload",bo="tinymce/caret/CaretUtils",bW="tinymce/caret/CaretWalker",cu="tinymce/caret/FakeCaret",cm="tinymce/dom/Dimensions",a8="tinymce/caret/LineWalker",aq="tinymce/caret/LineUtils",a3="tinymce/DragDropOverrides",ba="tinymce/SelectionOverrides",bf="tinymce/Editor",cJ="tinymce/util/I18n",bN="tinymce/FocusManager",ar="tinymce/EditorManager",aV="tinymce/LegacyInput",a2="tinymce/util/XHR",aG="tinymce/util/JSON",b6="tinymce/util/JSONRequest",aX="tinymce/util/JSONP",aw="tinymce/util/LocalStorage",bx="tinymce/Compat",cs="tinymce/ui/Layout",aO="tinymce/ui/AbsoluteLayout",cG="tinymce/ui/Button",bj="tinymce/ui/ButtonGroup",ay="tinymce/ui/Checkbox",a9="tinymce/ui/ComboBox",aU="tinymce/ui/ColorBox",aE="tinymce/ui/PanelButton",cx="tinymce/ui/ColorButton",bb="tinymce/util/Color",aM="tinymce/ui/ColorPicker",ao="tinymce/ui/Path",cA="tinymce/ui/ElementPath",bR="tinymce/ui/FormItem",aD="tinymce/ui/Form",cI="tinymce/ui/FieldSet",ai="tinymce/ui/FilePicker",an="tinymce/ui/FitLayout",aN="tinymce/ui/FlexLayout",aa="tinymce/ui/FlowLayout",cH="tinymce/ui/FormatControls",af="tinymce/ui/GridLayout",cz="tinymce/ui/Iframe",ah="tinymce/ui/Label",aT="tinymce/ui/Toolbar",aL="tinymce/ui/MenuBar",av="tinymce/ui/MenuButton",aW="tinymce/ui/MenuItem",a4="tinymce/ui/Menu",ax="tinymce/ui/ListBox",cw="tinymce/ui/Radio",aF="tinymce/ui/ResizeHandle",b2="tinymce/ui/SelectBox",ad="tinymce/ui/Slider",ck="tinymce/ui/Spacer",bd="tinymce/ui/SplitButton",bH="tinymce/ui/StackLayout",ch="tinymce/ui/TabPanel",bZ="tinymce/ui/TextBox",a5="tinymce/ui/Throbber";br(bz,[],function(){function j(x,A,o){var c,w,y,B,v,z;return c=A.x,w=A.y,y=x.w,B=x.h,v=A.w,z=A.h,o=(o||"").split(""),"b"===o[0]&&(w+=z),"r"===o[1]&&(c+=v),"c"===o[0]&&(w+=k(z/2)),"c"===o[1]&&(c+=k(v/2)),"b"===o[3]&&(w-=B),"r"===o[4]&&(c-=y),"c"===o[3]&&(w-=k(B/2)),"c"===o[4]&&(c-=k(y/2)),d(c,w,y,B)}function p(l,v,s,e){var u,c;for(c=0;c<e.length;c++){if(u=j(l,v,e[c]),u.x>=s.x&&u.x+u.w<=s.w+s.x&&u.y>=s.y&&u.y+u.h<=s.h+s.y){return e[c]}}return null}function f(c,a,i){return d(c.x-a,c.y-i,c.w+2*a,c.h+2*i)}function b(u,o){var v,s,l,c;return v=g(u.x,o.x),s=g(u.y,o.y),l=q(u.x+u.w,o.x+o.w),c=q(u.y+u.h,o.y+o.h),0>l-v||0>c-s?null:d(v,s,l-v,c-s)}function h(z,E,o){var l,w,C,F,B,D,A,y,x,v;return B=z.x,D=z.y,A=z.x+z.w,y=z.y+z.h,x=E.x+E.w,v=E.y+E.h,l=g(0,E.x-B),w=g(0,E.y-D),C=g(0,A-x),F=g(0,y-v),B+=l,D+=w,o&&(A+=l,y+=w,B-=C,D-=F),A-=C,y-=F,d(B,D,A-B,y-D)}function d(i,a,l,c){return{x:i,y:a,w:l,h:c}}function m(a){return d(a.left,a.top,a.width,a.height)}var q=Math.min,g=Math.max,k=Math.round;return{inflate:f,relativePosition:j,findBestRelativePosition:p,intersect:b,clamp:h,create:d,fromClientRect:m}}),br(bK,[],function(){function j(c,a){return function(){c.apply(a,arguments)}}function p(a){if("object"!=typeof this){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=null,this._value=null,this._deferreds=[],q(a,j(b,this),j(h,this))}function f(c){var a=this;return null===this._state?void this._deferreds.push(c):void g(function(){var o=a._state?c.onFulfilled:c.onRejected;if(null===o){return void (a._state?c.resolve:c.reject)(a._value)}var l;try{l=o(a._value)}catch(e){return void c.reject(e)}c.resolve(l)})}function b(e){try{if(e===this){throw new TypeError("A promise cannot be resolved with itself.")}if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i){return void q(j(i,e),j(b,this),j(h,this))}}this._state=!0,this._value=e,d.call(this)}catch(c){h.call(this,c)}}function h(a){this._state=!1,this._value=a,d.call(this)}function d(){for(var c=0,a=this._deferreds.length;a>c;c++){f.call(this,this._deferreds[c])}this._deferreds=null}function m(i,a,l,c){this.onFulfilled="function"==typeof i?i:null,this.onRejected="function"==typeof a?a:null,this.resolve=l,this.reject=c}function q(o,c,s){var l=!1;try{o(function(i){l||(l=!0,c(i))},function(i){l||(l=!0,s(i))})}catch(a){if(l){return}l=!0,s(a)}}if(window.Promise){return window.Promise}var g=p.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return p.prototype["catch"]=function(a){return this.then(null,a)},p.prototype.then=function(l,c){var a=this;return new p(function(e,i){f.call(a,new m(l,c,e,i))})},p.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new p(function(e,u){function l(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r){return void r.call(n,function(o){l(t,o)},u)}}a[t]=n,0===--c&&e(a)}catch(i){u(i)}}if(0===a.length){return e([])}for(var c=a.length,s=0;s<a.length;s++){l(s,a[s])}})},p.resolve=function(a){return a&&"object"==typeof a&&a.constructor===p?a:new p(function(c){c(a)})},p.reject=function(a){return new p(function(c,e){e(a)})},p.race=function(a){return new p(function(e,o){for(var l=0,c=a.length;c>l;l++){a[l].then(e,o)}})},p}),br(bn,[bK],function(g){function d(m,k){function q(i){window.setTimeout(i,0)}var l,a=window.requestAnimationFrame,p=["ms","moz","webkit"];for(l=0;l<p.length&&!a;l++){a=window[p[l]+"RequestAnimationFrame"]}a||(a=q),a(m,k)}function j(i,a){return"number"!=typeof a&&(a=0),setTimeout(i,a)}function f(i,a){return"number"!=typeof a&&(a=0),setInterval(i,a)}function c(a){return clearTimeout(a)}function h(a){return clearInterval(a)}var b;return{requestAnimationFrame:function(e,a){return b?void b.then(e):void (b=new g(function(i){a||(a=document.body),d(i,a)}).then(e))},setTimeout:j,setInterval:f,setEditorTimeout:function(k,a,i){return j(function(){k.removed||a()},i)},setEditorInterval:function(l,k,m){var a;return a=f(function(){l.removed?clearInterval(a):k()},m)},clearInterval:h,clearTimeout:c}}),br(bJ,[bn],function(h){function k(l,a,o,i){l.addEventListener?l.addEventListener(a,o,i||!1):l.attachEvent&&l.attachEvent("on"+a,o)}function d(l,a,o,i){l.removeEventListener?l.removeEventListener(a,o,i||!1):l.detachEvent&&l.detachEvent("on"+a,o)}function b(v,A){function q(){return !1}function l(){return !0}var s,p=A||{},y;for(s in v){f[s]||(p[s]=v[s])}if(p.target||(p.target=p.srcElement||document),v&&m.test(v.type)&&v.pageX===y&&v.clientX!==y){var x=p.target.ownerDocument||document,z=x.documentElement,w=x.body;p.pageX=v.clientX+(z&&z.scrollLeft||w&&w.scrollLeft||0)-(z&&z.clientLeft||w&&w.clientLeft||0),p.pageY=v.clientY+(z&&z.scrollTop||w&&w.scrollTop||0)-(z&&z.clientTop||w&&w.clientTop||0)}return p.preventDefault=function(){p.isDefaultPrevented=l,v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},p.stopPropagation=function(){p.isPropagationStopped=l,v&&(v.stopPropagation?v.stopPropagation():v.cancelBubble=!0)},p.stopImmediatePropagation=function(){p.isImmediatePropagationStopped=l,p.stopPropagation()},p.isDefaultPrevented||(p.isDefaultPrevented=q,p.isPropagationStopped=q,p.isImmediatePropagationStopped=q),"undefined"==typeof p.metaKey&&(p.metaKey=!1),p}function g(v,q,w){function n(){w.domLoaded||(w.domLoaded=!0,q(p))}function t(){("complete"===x.readyState||"interactive"===x.readyState&&x.body)&&(d(x,"readystatechange",t),n())}function e(){try{x.documentElement.doScroll("left")}catch(a){return void h.setTimeout(e)}n()}var x=v.document,p={type:"ready"};return w.domLoaded?void q(p):(x.addEventListener?"complete"===x.readyState?n():k(v,"DOMContentLoaded",n):(k(x,"readystatechange",t),x.documentElement.doScroll&&v.self===v.top&&e()),void k(v,"load",n))}function c(){function q(x,u){var z,w,s,y,l=n[u];if(z=l&&l[x.type]){for(w=0,s=z.length;s>w;w++){if(y=z[w],y&&y.func.call(y.scope,x)===!1&&x.preventDefault(),x.isImmediatePropagationStopped()){return}}}}var t=this,n={},a,v,i,r,p;v=j+(+new Date).toString(32),r="onmouseenter" in document.documentElement,i="onfocusin" in document.documentElement,p={mouseenter:"mouseover",mouseleave:"mouseout"},a=1,t.domLoaded=!1,t.events=n,t.bind=function(o,F,u,s){function l(w){q(b(w||I.event),z)}var z,H,B,A,e,D,G,I=window;if(o&&3!==o.nodeType&&8!==o.nodeType){for(o[v]?z=o[v]:(z=a++,o[v]=z,n[z]={}),s=s||o,F=F.split(" "),B=F.length;B--;){A=F[B],D=l,e=G=!1,"DOMContentLoaded"===A&&(A="ready"),t.domLoaded&&"ready"===A&&"complete"==o.readyState?u.call(s,b({type:A})):(r||(e=p[A],e&&(D=function(x){var y,w;if(y=x.currentTarget,w=x.relatedTarget,w&&y.contains){w=y.contains(w)}else{for(;w&&w!==y;){w=w.parentNode}}w||(x=b(x||I.event),x.type="mouseout"===x.type?"mouseleave":"mouseenter",x.target=y,q(x,z))})),i||"focusin"!==A&&"focusout"!==A||(G=!0,e="focusin"===A?"focus":"blur",D=function(w){w=b(w||I.event),w.type="focus"===w.type?"focusin":"focusout",q(w,z)}),H=n[z][A],H?"ready"===A&&t.domLoaded?u({type:A}):H.push({func:u,scope:s}):(n[z][A]=H=[{func:u,scope:s}],H.fakeName=e,H.capture=G,H.nativeHandler=D,"ready"===A?g(o,D,t):k(o,e||A,D,G)))}return o=H=0,u}},t.unbind=function(C,G,o){var y,E,x,F,D,B;if(!C||3===C.nodeType||8===C.nodeType){return t}if(y=C[v]){if(B=n[y],G){for(G=G.split(" "),x=G.length;x--;){if(D=G[x],E=B[D]){if(o){for(F=E.length;F--;){if(E[F].func===o){var z=E.nativeHandler,w=E.fakeName,s=E.capture;E=E.slice(0,F).concat(E.slice(F+1)),E.nativeHandler=z,E.fakeName=w,E.capture=s,B[D]=E}}}o&&0!==E.length||(delete B[D],d(C,E.fakeName||D,E.nativeHandler,E.capture))}}}else{for(D in B){E=B[D],d(C,E.fakeName||D,E.nativeHandler,E.capture)}B={}}for(D in B){return t}delete n[y];try{delete C[v]}catch(A){C[v]=null}}return t},t.fire=function(o,s,l){var e;if(!o||3===o.nodeType||8===o.nodeType){return t}l=b(null,l),l.type=s,l.target=o;do{e=o[v],e&&q(l,e),o=o.parentNode||o.ownerDocument||o.defaultView||o.parentWindow}while(o&&!l.isPropagationStopped());return t},t.clean=function(s){var l,u,o=t.unbind;if(!s||3===s.nodeType||8===s.nodeType){return t}if(s[v]&&o(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName){for(o(s),u=s.getElementsByTagName("*"),l=u.length;l--;){s=u[l],s[v]&&o(s)}}return t},t.destroy=function(){n={}},t.cancel=function(l){return l&&(l.preventDefault(),l.stopImmediatePropagation()),!1}}var j="mce-data-",m=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c}),br(bG,[],function(){if(!window.jQuery){throw new Error("Load jQuery first")}return jQuery.find}),br(bE,[],function(){function z(a){return"matchMedia" in window?matchMedia(a).matches:!1}var E=navigator,k=E.userAgent,b,w,j,C,F,v,B,D,A,y,x,q;b=window.opera&&window.opera.buildNumber,A=/Android/.test(k),w=/WebKit/.test(k),j=!w&&!b&&/MSIE/gi.test(k)&&/Explorer/gi.test(E.appName),j=j&&/MSIE (\w+)\./.exec(k)[1],C=-1==k.indexOf("Trident/")||-1==k.indexOf("rv:")&&-1==E.appName.indexOf("Netscape")?!1:11,F=-1==k.indexOf("Edge/")||j||C?!1:12,j=j||C||F,v=!w&&!C&&/Gecko/.test(k),B=-1!=k.indexOf("Mac"),D=/(iPad|iPhone)/.test(k),y="FormData" in window&&"FileReader" in window&&"URL" in window&&!!URL.createObjectURL,x=z("only screen and (max-device-width: 480px)")&&(A||D),q=z("only screen and (min-width: 800px)")&&(A||D),F&&(w=!1);var g=!D||y||k.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:b,webkit:w,ie:j,gecko:v,mac:B,iOS:D,android:A,contentEditable:g,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=j,range:window.getSelection&&"Range" in window,documentMode:j&&!F?document.documentMode||7:10,fileApi:y,ceFalse:j===!1||j>8,desktop:!x&&!q}}),br(by,[],function(){function j(i){var a=i,l,c;if(!p(i)){for(a=[],l=0,c=i.length;c>l;l++){a[l]=i[l]}}return a}function f(l,t,c){var a,s;if(!l){return 0}if(c=c||l,l.length!==bp){for(a=0,s=l.length;s>a;a++){if(t.call(c,l[a],a,l)===!1){return 0}}}else{for(a in l){if(l.hasOwnProperty(a)&&t.call(c,l[a],a,l)===!1){return 0}}}return 1}function b(i,a){var c=[];return f(i,function(l,e){c.push(a(l,e,i))}),c}function h(i,a){var c=[];return f(i,function(l,e){(!a||a(l,e,i))&&c.push(l)}),c}function d(i,a){var l,c;if(i){for(l=0,c=i.length;c>l;l++){if(i[l]===a){return l}}}return -1}function m(o,c,s,l){var a=0;for(arguments.length<3&&(s=o[0]);a<o.length;a++){s=c.call(l,s,o[a],a)}return s}function q(o,c,s){var l,a;for(l=0,a=o.length;a>l;l++){if(c.call(s,o[l],l,o)){return l}}return -1}function g(l,o,c){var a=q(l,o,c);return -1!==a?l[a]:bp}function k(a){return a[a.length-1]}var p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{isArray:p,toArray:j,each:f,map:b,filter:h,indexOf:d,reduce:m,findIndex:q,find:g,last:k}}),br(bu,[bE,by],function(t,j){function b(a){return null===a||a===bp?"":(""+a).replace(p,"")}function m(c,a){return a?"array"==a&&j.isArray(c)?!0:typeof c==a:c!==bp}function g(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function x(B,E,h){var d=this,A,f,D,F,u,C=0;if(B=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(B),D=B[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(B[3].replace(/\.\w+$/,""),h),!f[D]){if("static"==B[2]){return f[D]=E,void (this.onCreate&&this.onCreate(B[2],B[3],f[D]))}E[D]||(E[D]=function(){},C=1),f[D]=E[D],d.extend(f[D].prototype,E),B[5]&&(A=d.resolve(B[5]).prototype,F=B[5].match(/\.(\w+)$/i)[1],u=f[D],C?f[D]=function(){return A[F].apply(this,arguments)}:f[D]=function(){return this.parent=A[F],u.apply(this,arguments)},f[D].prototype[D]=f[D],d.each(A,function(c,a){f[D].prototype[a]=A[a]}),d.each(E,function(c,a){A[a]?f[D].prototype[a]=function(){return this.parent=A[a],c.apply(this,arguments)}:a!=D&&(f[D].prototype[a]=c)})),d.each(E["static"],function(c,a){f[D][a]=c})}}function z(l,A){var h,d,u,c=arguments,f;for(h=1,d=c.length;d>h;h++){A=c[h];for(u in A){A.hasOwnProperty(u)&&(f=A[u],f!==bp&&(l[u]=f))}}return l}function k(f,c,d,a){a=a||this,f&&(d&&(f=f[d]),j.each(f,function(h,i){return c.call(a,h,i,d)===!1?!1:void k(h,c,d,a)}))}function w(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function y(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function v(c,a){return !c||m(c,"array")?c:j.map(c.split(a||","),b)}function q(a){var c=t.cacheSuffix;return c&&(a+=(-1===a.indexOf("?")?"?":"&")+c),a}var p=/^\s*|\s*$/g;return{trim:b,isArray:j.isArray,is:m,toArray:j.toArray,makeMap:g,each:j.each,map:j.map,grep:j.filter,inArray:j.indexOf,extend:z,create:x,walk:k,createNS:w,resolve:y,explode:v,_addCacheSuffix:q}}),br(bF,[bJ,bG,bu,bE],function(cQ,bt,Y,cM){function be(a){return"undefined"!=typeof a}function cU(a){return"string"==typeof a}function W(a){return a&&a==a.window}function ct(d,b){var f,c,a;for(b=b||K,a=b.createElement("div"),f=b.createDocumentFragment(),a.innerHTML=d;c=a.firstChild;){f.appendChild(c)}return f}function cS(d,b,f,c){var a;if(cU(b)){b=ct(b,O(d[0]))}else{if(b.length&&!b.nodeType){if(b=cP.makeArray(b),c){for(a=b.length-1;a>=0;a--){cS(d,b[a],f,c)}}else{for(a=0;a<b.length;a++){cS(d,b[a],f,c)}}return d}}if(b.nodeType){for(a=d.length;a--;){f.call(d[a],b)}}return d}function Q(b,a){return b&&a&&-1!==(" "+b.className+" ").indexOf(" "+a+" ")}function cR(d,b,f){var c,a;return b=cP(b)[0],d.each(function(){var g=this;f&&c==g.parentNode?a.appendChild(g):(c=g.parentNode,a=b.cloneNode(!1),g.parentNode.insertBefore(a,g),a.appendChild(g))}),d}function cP(b,a){return new cP.fn.init(b,a)}function cN(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1}function ce(a){return null===a||a===cL?"":(""+a).replace(z,"")}function at(g,d){var k,f,c,h,b;if(g){if(k=g.length,k===h){for(f in g){if(g.hasOwnProperty(f)&&(b=g[f],d.call(b,f,b)===!1)){break}}}else{for(c=0;k>c&&(b=g[c],d.call(b,c,b)!==!1);c++){}}}return g}function cO(b,a){var c=[];return at(b,function(f,d){a(d,f)&&c.push(d)}),c}function O(a){return a?9==a.nodeType?a:a.ownerDocument:K}function I(c,f,b){var a=[],d=c[f];for("string"!=typeof b&&b instanceof cP&&(b=b[0]);d&&9!==d.nodeType;){if(b!==bp){if(d===b){break}if("string"==typeof b&&cP(d).is(b)){break}}1===d.nodeType&&a.push(d),d=d[f]}return a}function cT(c,f,b,a){var d=[];for(a instanceof cP&&(a=a[0]);c;c=c[f]){if(!b||c.nodeType===b){if(a!==bp){if(c===a){break}if("string"==typeof a&&cP(c).is(a)){break}}d.push(c)}}return d}function X(b,a,c){for(b=b[a];b;b=b[a]){if(b.nodeType==c){return b}}return null}function J(b,a,c){at(c,function(e,d){b[e]=b[e]||{},b[e][a]=d})}var K=document,U=Array.prototype.push,F=Array.prototype.slice,cV=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,q=cQ.Event,cL,j=Y.makeMap("children,contents,next,prev"),t=Y.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ae=Y.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Z={"for":"htmlFor","class":"className",readonly:"readOnly"},V={"float":"cssFloat"},G={},H={},z=/^\s*|\s*$/g;return cP.fn=cP.prototype={constructor:cP,selector:"",context:null,length:0,init:function(d,b){var f=this,c,a;if(!d){return f}if(d.nodeType){return f.context=f[0]=d,f.length=1,f}if(b&&b.nodeType){f.context=b}else{if(b){return cP(d).attr(b)}f.context=b=document}if(cU(d)){if(f.selector=d,c="<"===d.charAt(0)&&">"===d.charAt(d.length-1)&&d.length>=3?[null,d,null]:cV.exec(d),!c){return cP(b).find(d)}if(c[1]){for(a=ct(d,O(b)).firstChild;a;){U.call(f,a),a=a.nextSibling}}else{if(a=O(b).getElementById(c[2]),!a){return f}if(a.id!==c[2]){return f.find(d)}f.length=1,f[0]=a}}else{this.add(d,!1)}return f},toArray:function(){return Y.toArray(this)},add:function(d,b){var f=this,c,a;if(cU(d)){return f.add(cP(d))}if(b!==!1){for(c=cP.unique(f.toArray().concat(cP.makeArray(d))),f.length=c.length,a=0;a<c.length;a++){f[a]=c[a]}}else{U.apply(f,cP.makeArray(d))}return f},attr:function(c,a){var d=this,b;if("object"==typeof c){at(c,function(g,f){d.attr(g,f)})}else{if(!be(a)){if(d[0]&&1===d[0].nodeType){if(b=G[c],b&&b.get){return b.get(d[0],c)}if(ae[c]){return d.prop(c)?c:cL}a=d[0].getAttribute(c,2),null===a&&(a=cL)}return a}this.each(function(){var e;if(1===this.nodeType){if(e=G[c],e&&e.set){return void e.set(this,a)}null===a?this.removeAttribute(c,2):this.setAttribute(c,a,2)}})}return d},removeAttr:function(a){return this.attr(a,null)},prop:function(b,a){var c=this;if(b=Z[b]||b,"object"==typeof b){at(b,function(f,d){c.prop(f,d)})}else{if(!be(a)){return c[0]&&c[0].nodeType&&b in c[0]?c[0][b]:a}this.each(function(){1==this.nodeType&&(this[b]=a)})}return c},css:function(k,f){function m(a){return a.replace(/-(\D)/g,function(l,i){return i.toUpperCase()})}function h(a){return a.replace(/[A-Z]/g,function(i){return"-"+i})}var d=this,c,g;if("object"==typeof k){at(k,function(i,a){d.css(i,a)})}else{if(be(f)){k=m(k),"number"!=typeof f||t[k]||(f+="px"),d.each(function(){var e=this.style;if(g=H[k],g&&g.set){return void g.set(this,f)}try{this.style[V[k]||k]=f}catch(a){}(null===f||""===f)&&(e.removeProperty?e.removeProperty(h(k)):e.removeAttribute(k))})}else{if(c=d[0],g=H[k],g&&g.get){return g.get(c)}if(c.ownerDocument.defaultView){try{return c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(h(k))}catch(b){return cL}}else{if(c.currentStyle){return c.currentStyle[m(k)]}}}}return d},remove:function(){for(var b=this,a,c=this.length;c--;){a=b[c],q.clean(a),a.parentNode&&a.parentNode.removeChild(a)}return this},empty:function(){for(var b=this,a,c=this.length;c--;){for(a=b[c];a.firstChild;){a.removeChild(a.firstChild)}}return this},html:function(c){var a=this,d;if(be(c)){d=a.length;try{for(;d--;){a[d].innerHTML=c}}catch(b){cP(a[d]).empty().append(c)}return a}return a[0]?a[0].innerHTML:""},text:function(b){var a=this,c;if(be(b)){for(c=a.length;c--;){"innerText" in a[c]?a[c].innerText=b:a[0].textContent=b}return a}return a[0]?a[0].innerText||a[0].textContent:""},append:function(){return cS(this,arguments,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return cS(this,arguments,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)},!0)},before:function(){var a=this;return a[0]&&a[0].parentNode?cS(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?cS(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)},!0):a},appendTo:function(a){return cP(a).append(this),this},prependTo:function(a){return cP(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return cR(this,a)},wrapAll:function(a){return cR(this,a,!0)},wrapInner:function(a){return this.each(function(){cP(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){cP(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),cP(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,a){var c=this;return"string"!=typeof b?c:(-1!==b.indexOf(" ")?at(b.split(" "),function(){c.toggleClass(this,a)}):c.each(function(g,e){var d,f;f=Q(e,b),f!==a&&(d=e.className,f?e.className=ce((" "+d+" ").replace(" "+b+" "," ")):e.className+=d?" "+b:b)}),c)},hasClass:function(a){return Q(this[0],a)},each:function(a){return at(this,a)},on:function(b,a){return this.each(function(){q.bind(this,b,a)})},off:function(b,a){return this.each(function(){q.unbind(this,b,a)})},trigger:function(a){return this.each(function(){"object"==typeof a?q.fire(this,a.type,a):q.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new cP(F.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(c){var a,d,b=[];for(a=0,d=this.length;d>a;a++){cP.find(c,this[a],b)}return cP(b)},filter:function(a){return cP("function"==typeof a?cO(this.toArray(),function(b,c){return a(c,b)}):cP.filter(a,this.toArray()))},closest:function(b){var a=[];return b instanceof cP&&(b=b[0]),this.each(function(d,c){for(;c;){if("string"==typeof b&&cP(c).is(b)){a.push(c);break}if(c==b){a.push(c);break}c=c.parentNode}}),cP(a)},offset:function(g){var d,k,f,c=0,h=0,b;return g?this.css(g):(d=this[0],d&&(k=d.ownerDocument,f=k.documentElement,d.getBoundingClientRect&&(b=d.getBoundingClientRect(),c=b.left+(f.scrollLeft||k.body.scrollLeft)-f.clientLeft,h=b.top+(f.scrollTop||k.body.scrollTop)-f.clientTop)),{left:c,top:h})},push:U,sort:[].sort,splice:[].splice},Y.extend(cP,{extend:Y.extend,makeArray:function(a){return W(a)||a.nodeType?[a]:Y.toArray(a)},inArray:cN,isArray:Y.isArray,each:at,trim:ce,grep:cO,find:bt,expr:bt.selectors,unique:bt.uniqueSort,text:bt.getText,contains:bt.contains,filter:function(c,a,d){var b=a.length;for(d&&(c=":not("+c+")");b--;){1!=a[b].nodeType&&a.splice(b,1)}return a=1===a.length?cP.find.matchesSelector(a[0],c)?[a[0]]:[]:cP.find.matches(c,a)}}),at({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return I(a,"parentNode")},next:function(a){return X(a,"nextSibling",1)},prev:function(a){return X(a,"previousSibling",1)},children:function(a){return cT(a.firstChild,"nextSibling",1)},contents:function(a){return Y.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){cP.fn[b]=function(e){var d=this,c=[];return d.each(function(){var f=a.call(c,this,e,c);f&&(cP.isArray(f)?c.push.apply(c,f):c.push(f))}),this.length>1&&(j[b]||(c=cP.unique(c)),0===b.indexOf("parents")&&(c=c.reverse())),c=cP(c),e?c.filter(e):c}}),at({parentsUntil:function(b,a){return I(b,"parentNode",a)},nextUntil:function(b,a){return cT(b,"nextSibling",1,a).slice(1)},prevUntil:function(b,a){return cT(b,"previousSibling",1,a).slice(1)}},function(b,a){cP.fn[b]=function(f,d){var c=this,e=[];return c.each(function(){var g=a.call(e,this,f,e);g&&(cP.isArray(g)?e.push.apply(e,g):e.push(g))}),this.length>1&&(e=cP.unique(e),(0===b.indexOf("parents")||"prevUntil"===b)&&(e=e.reverse())),e=cP(e),d?e.filter(d):e}}),cP.fn.is=function(a){return !!a&&this.filter(a).length>0},cP.fn.init.prototype=cP.fn,cP.overrideDefaults=function(b){function a(e,d){return c=c||b(),0===arguments.length&&(e=c.element),d||(d=c.context),new a.fn.init(e,d)}var c;return cP.extend(a,this),a},cM.ie&&cM.ie<8&&(J(G,"get",{maxlength:function(b){var a=b.maxLength;return 2147483647===a?cL:a},size:function(b){var a=b.size;return 20===a?cL:a},"class":function(a){return a.className},style:function(b){var a=b.style.cssText;return 0===a.length?cL:a}}),J(G,"set",{"class":function(b,a){b.className=a},style:function(b,a){b.style.cssText=a}})),cM.ie&&cM.ie<9&&(V["float"]="styleFloat",J(H,"set",{opacity:function(b,a){var c=b.style;null===a||""===a?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*a+")")}})),cP.attrHooks=G,cP.cssHooks=H,cP}),br(bm,[],function(){return function(v,A){function j(f,c,h,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(h)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,m=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,g=/\s*([^:]+):\s*([^;]+);?/g,y=/\s+$/,B,k,x={},z,w,q,p="\ufeff";for(v=v||{},A&&(w=A.getValidStyles(),q=A.getInvalidStyles()),z=("\\\" \\' \\; \\: ; : "+p).split(" "),k=0;k<z.length;k++){x[z[k]]=p+k,x[p+k]=z[k]}return{toHex:function(a){return a.replace(b,j)},parse:function(H){function I(J,h,L){var C,f,K,d;if(C=c[J+"-top"+h],C&&(f=c[J+"-right"+h],f&&(K=c[J+"-bottom"+h],K&&(d=c[J+"-left"+h])))){var u=[C,f,K,d];for(k=u.length-1;k--&&u[k]===u[k+1];){}k>-1&&L||(c[J+h]=-1==k?u[0]:u.join(" "),delete c[J+"-top"+h],delete c[J+"-right"+h],delete c[J+"-bottom"+h],delete c[J+"-left"+h])}}function G(f){var d=c[f],h;if(d){for(d=d.split(" "),h=d.length;h--;){if(d[h]!==d[0]){return !1}}return c[f]=d[0],!0}}function o(h,d,s,f){G(d)&&G(s)&&G(f)&&(c[h]=c[d]+" "+c[s]+" "+c[f],delete c[d],delete c[s],delete c[f])}function n(d){return r=!0,x[d]}function i(f,d){return r&&(f=f.replace(/\uFEFF[0-9]/g,function(h){return x[h]})),d||(f=f.replace(/\\([\'\";:])/g,"$1")),f}function e(h,K,C,f,J,d){if(J=J||d){return J=i(J),"'"+J.replace(/\'/g,"\\'")+"'"}if(K=i(K||C||f),!v.allow_script_urls){var u=K.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(u)){return""}if(!v.allow_svg_data_urls&&/^data:image\/svg/i.test(u)){return""}}return a&&(K=a.call(E,K,"style")),"url('"+K.replace(/\'/g,"\\'")+"')"}var c={},l,F,D,r,a=v.url_converter,E=v.url_converter_scope||this;if(H){for(H=H.replace(/[\u0000-\u001F]/g,""),H=H.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,n)});l=g.exec(H);){if(F=l[1].replace(y,"").toLowerCase(),D=l[2].replace(y,""),D=D.replace(/\\[0-9a-f]+/g,function(d){return String.fromCharCode(parseInt(d.substr(1),16))}),F&&D.length>0){if(!v.allow_script_urls&&("behavior"==F||/expression\s*\(|\/\*|\*\//.test(D))){continue}"font-weight"===F&&"700"===D?D="bold":("color"===F||"background-color"===F)&&(D=D.toLowerCase()),D=D.replace(b,j),D=D.replace(m,e),c[F]=r?i(D,!0):D}g.lastIndex=l.index+l[0].length}I("border","",!0),I("border","-width"),I("border","-color"),I("border","-style"),I("padding",""),I("margin",""),o("border","border-width","border-style","border-color"),"medium none"===c.border&&delete c.border,"none"===c["border-image"]&&delete c["border-image"]}return c},serialize:function(l,f){function u(i){var E,C,D,e;if(E=w[i]){for(C=0,D=E.length;D>C;C++){i=E[C],e=l[i],e!==B&&e.length>0&&(d+=(d.length>0?" ":"")+i+": "+e+";")}}}function h(i,a){var o;return o=q["*"],o&&o[i]?!1:(o=q[a],o&&o[i]?!1:!0)}var d="",s,c;if(f&&w){u("*"),u(f)}else{for(s in l){c=l[s],c!==B&&c.length>0&&(!q||h(s,f))&&(d+=(d.length>0?" ":"")+s+": "+c+";")}}return d}}}}),br(bi,[],function(){return function(c,a){function d(j,l,h,g){var k,f;if(j){if(!g&&j[l]){return j[l]}if(j!=a){if(k=j[h]){return k}for(f=j.parentNode;f&&f!=a;f=f.parentNode){if(k=f[h]){return k}}}}}var b=c;this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)}}}),br(bL,[bu],function(b){function a(c1){function cX(){return X.createDocumentFragment()}function c6(d,c){ct(ce,d,c)}function c0(d,c){ct(cQ,d,c)}function dd(c){c6(c.parentNode,c5(c))}function cW(c){c6(c.parentNode,c5(c)+1)}function c3(c){c0(c.parentNode,c5(c))}function db(c){c0(c.parentNode,c5(c)+1)}function cV(c){c?(at[G]=at[t],at[cP]=at[e]):(at[t]=at[G],at[e]=at[cP]),at.collapsed=ce}function da(c){dd(c),db(c)}function c9(c){c6(c,0),c0(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function c7(k,q){var g=at[t],d=at[e],j=at[G],f=at[cP],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?cT(g,d,p,u):1===k?cT(j,f,p,u):2===k?cT(j,f,h,m):3===k?cT(g,d,h,m):void 0}function c2(){Z(be)}function cZ(){return Z(bt)}function c8(){return Z(Y)}function cU(g){var d=this[t],f=this[e],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):3==d.nodeType?c1.insertAfter(g,d):d.appendChild(g)):f?f>=d.nodeValue.length?c1.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function cR(d){var c=at.extractContents();at.insertNode(d),d.appendChild(c),at.selectNode(d)}function dc(){return cY(new a(c1),{startContainer:at[t],startOffset:at[e],endContainer:at[G],endOffset:at[cP],collapsed:at.collapsed,commonAncestorContainer:at.commonAncestorContainer})}function cM(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function cS(){return at[t]==at[G]&&at[e]==at[cP]}function cT(j,p,d,h){var f,m,q,g,k,n;if(j==d){return p==h?0:h>p?-1:1}for(f=d;f&&f.parentNode!=j;){f=f.parentNode}if(f){for(m=0,q=j.firstChild;q!=f&&p>m;){m++,q=q.nextSibling}return m>=p?-1:1}for(f=j;f&&f.parentNode!=d;){f=f.parentNode}if(f){for(m=0,q=d.firstChild;q!=f&&h>m;){m++,q=q.nextSibling}return h>m?-1:1}for(g=c1.findCommonAncestor(j,d),k=j;k&&k.parentNode!=g;){k=k.parentNode}for(k||(k=g),n=d;n&&n.parentNode!=g;){n=n.parentNode}if(n||(n=g),k==n){return 0}for(q=g.firstChild;q;){if(q==k){return -1}if(q==n){return 1}q=q.nextSibling}}function ct(g,d,f){var c,h;for(g?(at[t]=d,at[e]=f):(at[G]=d,at[cP]=f),c=at[G];c.parentNode;){c=c.parentNode}for(h=at[t];h.parentNode;){h=h.parentNode}h==c?cT(at[t],at[e],at[G],at[cP])>0&&at.collapse(g):at.collapse(g),at.collapsed=cS(),at.commonAncestorContainer=c1.findCommonAncestor(at[t],at[G])}function Z(k){var q,g=0,d=0,j,f,p,u,h,m;if(at[t]==at[G]){return de(k)}for(q=at[G],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[t]){return K(q,k)}++g}for(q=at[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[G]){return c4(q,k)}++d}for(f=d-g,p=at[t];f>0;){p=p.parentNode,f--}for(u=at[G];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function de(j){var q,f,h,d,m,r,g,k,p;if(j!=be&&(q=cX()),at[e]==at[cP]){return q}if(3==at[t].nodeType){if(f=at[t].nodeValue,h=f.substring(at[e],at[cP]),j!=Y&&(d=at[t],k=at[e],p=at[cP]-at[e],0===k&&p>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(k,p),at.collapse(ce)),j==be){return}return h.length>0&&q.appendChild(X.createTextNode(h)),q}for(d=cM(at[t],at[e]),m=at[cP]-at[e];d&&m>0;){r=d.nextSibling,g=cL(d,j),q&&q.appendChild(g),--m,d=r}return j!=Y&&at.collapse(ce),q}function K(j,g){var m,f,k,d,h,c;if(g!=be&&(m=cX()),f=Q(j,g),m&&m.appendChild(f),k=c5(j),d=k-at[e],0>=d){return g!=Y&&(at.setEndBefore(j),at.collapse(cQ)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=cL(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(at.setEndBefore(j),at.collapse(cQ)),m}function c4(j,g){var m,f,k,d,h,c;for(g!=be&&(m=cX()),k=cO(j,g),m&&m.appendChild(k),f=c5(j),++f,d=at[cP]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=cL(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(at.setStartAfter(j),at.collapse(ce)),m}function J(j,q,f){var h,d,m,r,g,k,p;for(f!=be&&(d=cX()),h=cO(j,f),d&&d.appendChild(h),m=c5(j),r=c5(q),++m,g=r-m,k=j.nextSibling;g>0;){p=k.nextSibling,h=cL(k,f),d&&d.appendChild(h),k=p,--g}return h=Q(q,f),d&&d.appendChild(h),f!=Y&&(at.setStartAfter(j),at.collapse(ce)),d}function Q(j,m){var f=cM(at[G],at[cP]-1),c,h,d,k,p,g=f!=at[G];if(f==j){return cN(f,g,cQ,m)}for(c=f.parentNode,h=cN(c,cQ,cQ,m);c;){for(;f;){d=f.previousSibling,k=cN(f,g,cQ,m),m!=be&&h.insertBefore(k,h.firstChild),g=ce,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=cN(c,cQ,cQ,m),m!=be&&p.appendChild(h),h=p}}function cO(j,m){var f=cM(at[t],at[e]),c=f!=at[t],h,d,k,p,g;if(f==j){return cN(f,c,ce,m)}for(h=f.parentNode,d=cN(h,cQ,ce,m);h;){for(;f;){k=f.nextSibling,p=cN(f,c,ce,m),m!=be&&d.appendChild(p),c=ce,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=cN(h,cQ,ce,m),m!=be&&g.appendChild(d),d=g}}function cN(j,n,d,h){var f,m,p,g,k;if(n){return cL(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=at[e],m=f.substring(g),p=f.substring(0,g)):(g=at[cP],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==be){return}return k=c1.clone(j,cQ),k.nodeValue=m,k}if(h!=be){return c1.clone(j,cQ)}}function cL(d,c){return c!=be?c==Y?c1.clone(d,ce):d:void d.parentNode.removeChild(d)}function ae(){return c1.create("body",null,c8()).outerText}var at=this,X=c1.doc,bt=0,Y=1,be=2,ce=!0,cQ=!1,e="startOffset",t="startContainer",G="endContainer",cP="endOffset",cY=b.extend,c5=c1.nodeIndex;return cY(at,{startContainer:X,startOffset:0,endContainer:X,endOffset:0,collapsed:ce,commonAncestorContainer:X,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:c6,setEnd:c0,setStartBefore:dd,setStartAfter:cW,setEndBefore:c3,setEndAfter:db,collapse:cV,selectNode:da,selectNodeContents:c9,compareBoundaryPoints:c7,deleteContents:c2,extractContents:cZ,cloneContents:c8,insertNode:cU,surroundContents:cR,cloneRange:dc,toStringIE:ae}),at}return a.prototype.toString=function(){return this.toStringIE()},a}),br(cn,[bu],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,x=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,q={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(x,function(c,d){return d?(d="x"===d.charAt(0).toLowerCase()?parseInt(d.substr(1),16):parseInt(d,10),d>65535?(d-=65536,String.fromCharCode(55296+(d>>10),56320+(1023&d))):q[d]||String.fromCharCode(d)):w[c]||k[c]||y(c)})}};return m}),br(bk,[bu,bn],function(b,a){return function(j,g){function e(i){j.getElementsByTagName("head")[0].appendChild(i)}function h(i,l,x){function C(){for(var o=z.passed,m=o.length;m--;){o[m]()}z.status=2,z.passed=[],z.failed=[]}function w(){for(var o=z.failed,m=o.length;m--;){o[m]()}z.status=3,z.passed=[],z.failed=[]}function t(){var m=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(m&&m[1]<536)}function q(m,o){m()||((new Date).getTime()-A<c?a.setTimeout(o):w())}function n(){q(function(){for(var u=j.styleSheets,o,p=u.length,m;p--;){if(o=u[p],m=o.ownerNode?o.ownerNode:o.owningElement,m&&m.id===s.id){return C(),!0}}},n)}function k(){q(function(){try{var o=B.sheet.cssRules;return C(),!!o}catch(m){}},k)}var s,B,A,z;if(i=b._addCacheSuffix(i),f[i]?z=f[i]:(z={passed:[],failed:[]},f[i]=z),l&&z.passed.push(l),x&&z.failed.push(x),1!=z.status){if(2==z.status){return void C()}if(3==z.status){return void w()}if(z.status=1,s=j.createElement("link"),s.rel="stylesheet",s.type="text/css",s.id="u"+d++,s.async=!1,s.defer=!1,A=(new Date).getTime(),"onload" in s&&!t()){s.onload=n,s.onerror=w}else{if(navigator.userAgent.indexOf("Firefox")>0){return B=j.createElement("style"),B.textContent='@import "'+i+'"',k(),void e(B)}n()}e(s),s.href=i}}var d=0,f={},c;g=g||{},c=g.maxLoadTime||5000,this.load=h}}),br(bl,[bG,bF,bm,bJ,bi,bL,cn,bE,bu,bk],function(L,E,A,H,D,P,w,G,N,t){function M(d,b){var f={},c=b.keep_values,a;return a={set:function(h,g,e){b.url_converter&&(g=b.url_converter.call(b.url_converter_scope||d,g,e,h[0])),h.attr("data-mce-"+e,g).attr(e,g)},get:function(h,g){return h.attr("data-mce-"+g)||h.attr(g)}},f={style:{set:function(h,g){return null!==g&&"object"==typeof g?void h.css(g):(c&&h.attr("data-mce-style",g),void h.attr("style",g))},get:function(e){var g=e.attr("data-mce-style")||e.attr("style");return g=d.serializeStyle(d.parseStyle(g),e[0].nodeName)}}},c&&(f.href=f.src=a),f}function K(b,a){var c=a.attr("style");c=b.serializeStyle(b.parseStyle(c),a[0].nodeName),c||(c=null),a.attr("data-mce-style",c)}function I(d,b){var f=0,c,a;if(d){for(c=d.nodeType,d=d.previousSibling;d;d=d.previousSibling){a=d.nodeType,(!b||3!=a||a!=c&&d.nodeValue.length)&&(f++,c=a)}}return f}function F(d,c){var f=this,b;f.doc=d,f.win=window,f.files={},f.counter=0,f.stdMode=!O||d.documentMode>=8,f.boxModel=!O||"CSS1Compat"==d.compatMode||f.stdMode,f.styleSheetLoader=new t(d),f.boundEvents=[],f.settings=c=c||{},f.schema=c.schema,f.styles=new A({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),f.fixDoc(d),f.events=c.ownEvents?new H(c.proxy):H.Event,f.attrHooks=M(f,c),b=c.schema?c.schema.getBlockElements():{},f.$=E.overrideDefaults(function(){return{context:d,element:f.getRoot()}}),f.isBlock=function(g){if(!g){return !1}var a=g.nodeType;return a?!(1!==a||!b[g.nodeName]):!!b[g]}}var B=N.each,J=N.is,q=N.grep,j=N.trim,O=G.ie,z=/^([a-z0-9],?)+$/i,k=/^[ \t\r\n]*$/;return F.prototype={$$:function(a){return"string"==typeof a&&(a=this.get(a)),this.$(a)},root:null,fixDoc:function(b){var a=this.settings,c;if(O&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !O||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),B(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.settings.root_element||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===bp,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),J(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return L(a,b.get(c)||b.settings.root_element||b.doc,[])},is:function(d,b){var a;if(d.length===bp){if("*"===b){return 1==d.nodeType}if(z.test(b)){for(b=b.toLowerCase().split(/,/),d=d.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==d){return !0}}return !1}}if(d.nodeType&&1!=d.nodeType){return !1}var c=d.nodeType?[d]:d;return L(b,c[0].ownerDocument||c[0],null,c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=J(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&"undefined"!=typeof b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return b=this.$$(b),a?b.each(function(){for(var c;c=this.firstChild;){3==c.nodeType&&0===c.data.length?this.removeChild(c):this.parentNode.insertBefore(c,this)}}).remove():b.remove(),b.length>1?b.toArray():b[0]},setStyle:function(b,a,c){b=this.$$(b).css(a,c),this.settings.update_styles&&K(this,b)},getStyle:function(b,c,a){return b=this.$$(b),a?b.css(c):(c=c.replace(/-(\D)/g,function(f,d){return d.toUpperCase()}),"float"==c&&(c=G.ie&&G.ie<12?"styleFloat":"cssFloat"),b[0]&&b[0].style?b[0].style[c]:bp)},setStyles:function(b,a){b=this.$$(b).css(a),this.settings.update_styles&&K(this,b)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(g,d,l){var f=this,c,h,b=f.settings;""===l&&(l=null),g=f.$$(g),c=g.attr(d),g.length&&(h=f.attrHooks[d],h&&h.set?h.set(g,l,d):g.attr(d,l),c!=l&&b.onSetAttrib&&b.onSetAttrib({attrElm:g,attrName:d,attrValue:l}))},setAttribs:function(b,a){var c=this;c.$$(b).each(function(f,d){B(a,function(h,g){c.setAttrib(d,g,h)})})},getAttrib:function(d,b,g){var c=this,a,f;return d=c.$$(d),d.length&&(a=c.attrHooks[b],f=a&&a.get?a.get(d,b):d.attr(b)),"undefined"==typeof f&&(f=g||""),f},getPos:function(h,p){var b=this,g=0,d=0,n,u=b.doc,f=u.body,m;if(h=b.get(h),p=p||f,h){if(p===f&&h.getBoundingClientRect&&"static"===E(f).css("position")){return m=h.getBoundingClientRect(),p=b.boxModel?u.documentElement:f,g=m.left+(u.documentElement.scrollLeft||f.scrollLeft)-p.clientLeft,d=m.top+(u.documentElement.scrollTop||f.scrollTop)-p.clientTop,{x:g,y:d}}for(n=h;n&&n!=p&&n.nodeType;){g+=n.offsetLeft||0,d+=n.offsetTop||0,n=n.offsetParent}for(n=h.parentNode;n&&n!=p&&n.nodeType;){g-=n.scrollLeft||0,d-=n.scrollTop||0,n=n.parentNode}}return{x:g,y:d}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==F.DOM&&g===document){var f=F.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,F.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==F.DOM&&d===document?void F.DOM.loadCSS(c):(c||(c=""),b=d.getElementsByTagName("head")[0],void B(c.split(","),function(g){var f;g=N._addCacheSuffix(g),a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),O&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}))},addClass:function(b,a){this.$$(b).addClass(a)},removeClass:function(b,a){this.toggleClass(b,a,!1)},hasClass:function(b,a){return this.$$(b).hasClass(a)},toggleClass:function(c,a,b){this.$$(c).toggleClass(a,b).each(function(){""===this.className&&E(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){b=this.$$(b),O?b.each(function(f,d){if(d.canHaveHTML!==!1){for(;d.firstChild;){d.removeChild(d.firstChild)}try{d.innerHTML="<br>"+a,d.removeChild(d.firstChild)}catch(c){E("<div>").html("<br>"+a).contents().slice(1).appendTo(d)}return a}}):b.html(a)},getOuterHTML:function(a){return a=this.get(a),1==a.nodeType&&"outerHTML" in a?a.outerHTML:E("<div>").append(E(a).clone()).html()},setOuterHTML:function(c,a){var b=this;b.$$(c).each(function(){try{if("outerHTML" in this){return void (this.outerHTML=a)}}catch(d){}b.remove(E(this).html(a),!0)})},decode:w.decode,encode:w.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return J(e,"array")&&(c=c.cloneNode(!0)),d&&B(q(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),B(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(N.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],B(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(O){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var d=this,b,g,o,u,f,m=0;if(h=h.firstChild){u=new D(h,h.parentNode),p=p||(d.schema?d.schema.getNonEmptyElements():null);do{if(o=h.nodeType,1===o){if(h.getAttribute("data-mce-bogus")){continue}if(f=h.nodeName.toLowerCase(),p&&p[f]){if("br"===f){m++;continue}return !1}for(g=d.getAttribs(h),b=g.length;b--;){if(f=g[b].nodeName,"name"===f||"data-mce-bookmark"===f){return !1}}}if(8==o){return !1}if(3===o&&!k.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=m},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new P(this)},nodeIndex:I,split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var y,x=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(y=x.length-1;y>=0;y--){b(x[y])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=j(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(x=v.childNodes,1==x.length&&x[0]&&1==x[0].nodeType&&"bookmark"==x[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(x[0],v),x.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.insertBefore(d,h):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(d,b,g,c){var a=this;if(N.isArray(d)){for(var f=d.length;f--;){d[f]=a.bind(d[f],b,g,c)}return d}return !a.settings.collect||d!==a.doc&&d!==a.win||a.boundEvents.push([d,b,g,c]),a.events.bind(d,b,g,c||a)},unbind:function(d,b,g){var c=this,a;if(N.isArray(d)){for(a=d.length;a--;){d[a]=c.unbind(d[a],b,g)}return d}if(c.boundEvents&&(d===c.doc||d===c.win)){for(a=c.boundEvents.length;a--;){var f=c.boundEvents[a];d!=f[0]||b&&b!=f[1]||g&&g!=f[2]||this.events.unbind(f[0],f[1],f[2])}}return this.events.unbind(d,b,g)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return b&&1==b.nodeType?(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null):null},getContentEditableParent:function(b){for(var a=this.getRoot(),c=null;b&&b!==a&&(c=this.getContentEditable(b),null===c);b=b.parentNode){}return c},destroy:function(){var a=this;if(a.boundEvents){for(var c=a.boundEvents.length;c--;){var b=a.boundEvents[c];this.events.unbind(b[0],b[1],b[2])}a.boundEvents=null}L.setDocument&&L.setDocument(),a.win=a.doc=a.root=a.events=a.frag=null},isChildOf:function(b,a){for(;b;){if(a===b){return !0}b=b.parentNode}return !1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},F.DOM=new F(document),F.nodeIndex=I,F}),br(cj,[bl,bu],function(d,b){function g(){function o(y,A){function w(){u.remove(h),x&&(x.onreadystatechange=x.onload=x=null),A()}function z(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var u=c,x,h;h=u.uniqueId(),x=document.createElement("script"),x.id=h,x.type="text/javascript",x.src=b._addCacheSuffix(y),"onreadystatechange" in x?x.onreadystatechange=function(){/loaded|complete/.test(x.readyState)&&w()}:x.onload=w,x.onerror=z,(document.getElementsByTagName("head")[0]||document.body).appendChild(x)}var i=0,r=1,v=2,j={},q=[],t={},p=[],m=0,k;this.isDone=function(h){return j[h]==v},this.markDone=function(h){j[h]=v},this.add=this.load=function(s,l,n){var h=j[s];h==k&&(q.push(s),j[s]=i),l&&(t[s]||(t[s]=[]),t[s].push({func:l,scope:n||this}))},this.loadQueue=function(l,h){this.loadScripts(q,l,h)},this.loadScripts=function(h,u,l){function s(n){a(t[n],function(w){w.func.call(w.scope)}),t[n]=k}var e;p.push({func:u,scope:l||this}),(e=function(){var w=f(h);h.length=0,a(w,function(n){return j[n]==v?void s(n):void (j[n]!=r&&(j[n]=r,m++,o(n,function(){j[n]=v,m--,s(n),e()})))}),m||(a(p,function(n){n.func.call(n.scope)}),p.length=0)})()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),br(b7,[cj,bu],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:bp},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(f,g){var e=b.language;if(e&&b.languageLoad!==!1){if(g){if(g=","+g+",",-1!=g.indexOf(","+e.substr(0,2)+",")){e=e.substr(0,2)}else{if(-1==g.indexOf(","+e+",")){return}}}c.ScriptLoader.add(this.urls[f]+"/langs/"+e+".js")}},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,h){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,bp,bp)}),f&&(h?f.call(h):f.call(c))}var j=this,g=i;j.urls[k]||("object"==typeof i&&(g=i.prefix+i.resource+i.suffix),0!==g.indexOf("/")&&-1==g.indexOf("://")&&(g=b.baseURL+"/"+g),j.urls[k]=g.substring(0,g.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(g,e,h))}},b.PluginManager=new b,b.ThemeManager=new b,b}),br(bO,[],function(){function h(a){return function(e){return !!e&&e.nodeType==a}}function d(a){return a=a.toLowerCase().split(" "),function(e){var l,i;if(e&&e.nodeType){for(i=e.nodeName.toLowerCase(),l=0;l<a.length;l++){if(i===a[l]){return !0}}}return !1}}function k(i,a){return a=a.toLowerCase().split(" "),function(m){var l,e;if(f(m)){for(l=0;l<a.length;l++){if(e=getComputedStyle(m,null).getPropertyValue(i),e===a[l]){return !0}}}return !1}}function g(i,a){return function(e){return f(e)&&e[i]===a}}function c(i,a){return function(e){return f(e)&&e.getAttribute(i)===a}}function j(a){return f(a)&&a.hasAttribute("data-mce-bogus")}function b(a){return function(e){if(f(e)){if(e.contentEditable===a){return !0}if(e.getAttribute("data-mce-contenteditable")===a){return !0}}return !1}}var f=h(1);return{isText:h(3),isElement:f,isComment:h(8),isBr:d("br"),isContentEditableTrue:b("true"),isContentEditableFalse:b("false"),matchNodeNames:d,hasPropValue:g,hasAttributeValue:c,matchStyleValues:k,isBogus:j}}),br(b0,[],function(){function b(d){return d==c}function a(d){return d.replace(new RegExp(c,"g"),"")}var c="\u200b";return{isZwsp:b,ZWSP:c,trim:a}}),br(bA,[bO,b0],function(k,w){function g(a){return m(a)&&(a=a.parentNode),v(a)&&a.hasAttribute("data-mce-caret")}function b(a){return m(a)&&w.isZwsp(a.data)}function j(a){return g(a)||b(a)}function f(l,u){var i,t,c,d;if(i=l.ownerDocument,c=i.createTextNode(w.ZWSP),d=l.parentNode,u){if(t=l.previousSibling,m(t)){if(j(t)){return t}if(p(t)){return t.splitText(t.data.length-1)}}d.insertBefore(c,l)}else{if(t=l.nextSibling,m(t)){if(j(t)){return t}if(h(t)){return t.splitText(1),t}}l.nextSibling?d.insertBefore(c,l.nextSibling):d.appendChild(c)}return c}function q(l,c,u){var d,a,s;return d=c.ownerDocument,a=d.createElement(l),a.setAttribute("data-mce-caret",u?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(d.createTextNode("\xa0")),s=c.parentNode,u?s.insertBefore(a,c):c.nextSibling?s.insertBefore(a,c.nextSibling):s.appendChild(a),a}function x(a){var c;v(a)&&j(a)&&("&nbsp;"!=a.innerHTML?a.removeAttribute("data-mce-caret"):a.parentNode&&a.parentNode.removeChild(a)),m(a)&&(c=w.trim(a.data),0===c.length&&a.parentNode&&a.parentNode.removeChild(a),a.nodeValue=c)}function h(a){return m(a)&&a.data[0]==w.ZWSP}function p(a){return m(a)&&a.data[a.data.length-1]==w.ZWSP}var v=k.isElement,m=k.isText;return{isCaretContainer:j,isCaretContainerBlock:g,isCaretContainerInline:b,insertInline:f,insertBlock:q,remove:x,startsWithCaretContainer:h,endsWithCaretContainer:p}}),br(bY,[bu,bi,bO,bA],function(j,p,f,b){function h(c,a){var i=c.childNodes;return a--,a>i.length-1?a=i.length-1:0>a&&(a=0),i[a]||c}function d(a){this.walk=function(K,w){function e(l){var c;return c=l[0],3===c.nodeType&&c===E&&J>=c.nodeValue.length&&l.splice(0,1),c=l[l.length-1],0===C&&l.length>0&&c===D&&3===c.nodeType&&l.splice(l.length-1,1),l}function s(o,c,u){for(var l=[];o&&o!=u;o=o[c]){l.push(o)}return l}function H(l,c){do{if(l.parentNode==c){return l}l=l.parentNode}while(l)}function z(o,n,l){var c=l?"nextSibling":"previousSibling";for(B=o,I=B.parentNode;B&&B!=n;B=I){I=B.parentNode,G=s(B==o?B:B[c],c),G.length&&(l||G.reverse(),w(e(G)))}}var E=K.startContainer,J=K.startOffset,D=K.endContainer,C=K.endOffset,A,x,i,B,I,G,F;if(F=a.select("td.mce-item-selected,th.mce-item-selected"),F.length>0){return void q(F,function(c){w([c])})}if(1==E.nodeType&&E.hasChildNodes()&&(E=E.childNodes[J]),1==D.nodeType&&D.hasChildNodes()&&(D=h(D,C)),E==D){return w(e([E]))}for(A=a.findCommonAncestor(E,D),B=E;B;B=B.parentNode){if(B===D){return z(E,A,!0)}if(B===A){break}}for(B=D;B;B=B.parentNode){if(B===E){return z(D,A)}if(B===A){break}}x=H(E,A)||E,i=H(D,A)||D,z(E,x,!0),G=s(x==E?x:x.nextSibling,"nextSibling",i==D?i.nextSibling:i),G.length&&w(e(G)),z(D,i)},this.split=function(u){function l(n,i){return n.splitText(i)}var w=u.startContainer,s=u.startOffset,c=u.endContainer,v=u.endOffset;return w==c&&3==w.nodeType?s>0&&s<w.nodeValue.length&&(c=l(w,s),w=c.previousSibling,v>s?(v-=s,w=c=l(c,v).previousSibling,v=c.nodeValue.length,s=0):v=0):(3==w.nodeType&&s>0&&s<w.nodeValue.length&&(w=l(w,s),s=0),3==c.nodeType&&v>0&&v<c.nodeValue.length&&(c=l(c,v).previousSibling,v=c.nodeValue.length)),{startContainer:w,startOffset:s,endContainer:c,endOffset:v}},this.normalize=function(s){function e(i){function E(r){return r&&/^(TD|TH|CAPTION)$/.test(r.nodeName)}function H(y,v){for(var u=new p(y,a.getParent(y.parentNode,a.isBlock)||x);y=u[v?"prev":"next"]();){if("BR"===y.nodeName){return !0}}}function G(r){for(;r&&r!=x;){if(g(r)){return !0}r=r.parentNode}return !1}function A(u,r){return u.previousSibling&&u.previousSibling.nodeName==r}function z(I,C){var v,y,u;if(C=C||w,u=a.getParent(C.parentNode,a.isBlock)||x,I&&"BR"==C.nodeName&&n&&a.isEmpty(u)){return w=C.parentNode,t=a.nodeIndex(C),void (c=!0)}for(v=new p(C,u);F=v[I?"prev":"next"]();){if("false"===a.getContentEditableParent(F)||k(F)){return}if(3===F.nodeType&&F.nodeValue.length>0){return w=F,t=I?F.nodeValue.length:0,void (c=!0)}if(a.isBlock(F)||D[F.nodeName.toLowerCase()]){return}y=F}l&&y&&(w=y,c=!0,t=0)}var w,t,o,x=a.getRoot(),F,D,B,n;if(w=s[(i?"start":"end")+"Container"],t=s[(i?"start":"end")+"Offset"],n=1==w.nodeType&&t===w.childNodes.length,D=a.schema.getNonEmptyElements(),B=i,!k(w)){if(1==w.nodeType&&t>w.childNodes.length-1&&(B=!1),9===w.nodeType&&(w=a.getRoot(),t=0),w===x){if(B&&(F=w.childNodes[t>0?t-1:0])){if(k(F)){return}if(D[F.nodeName]||"TABLE"==F.nodeName){return}}if(w.hasChildNodes()){if(t=Math.min(!B&&t>0?t-1:t,w.childNodes.length-1),w=w.childNodes[t],t=0,G(w)||k(w)){return}if(w.hasChildNodes()&&!/TABLE/.test(w.nodeName)){F=w,o=new p(w,x);do{if(g(F)||k(F)){c=!1;break}if(3===F.nodeType&&F.nodeValue.length>0){t=B?0:F.nodeValue.length,w=F,c=!0;break}if(D[F.nodeName.toLowerCase()]&&!E(F)){t=a.nodeIndex(F),w=F.parentNode,"IMG"!=F.nodeName||B||t++,c=!0;break}}while(F=B?o.next():o.prev())}}}l&&(3===w.nodeType&&0===t&&z(!0),1===w.nodeType&&(F=w.childNodes[t],F||(F=w.childNodes[t-1]),!F||"BR"!==F.nodeName||A(F,"A")||H(F)||H(F,!0)||z(!0,F))),B&&!l&&3===w.nodeType&&t===w.nodeValue.length&&z(!1),c&&s["set"+(i?"Start":"End")](w,t)}}var c,l;return l=s.collapsed,e(!0),l||e(),c&&l&&s.collapse(!0),c}}function m(l,x,v){var e,w,c;if(e=v.elementFromPoint(l,x),w=v.body.createTextRange(),"HTML"==e.tagName&&(e=v.body),w.moveToElementText(e),c=j.toArray(w.getClientRects()),c=c.sort(function(i,a){return i=Math.abs(Math.max(i.top-x,i.bottom-x)),a=Math.abs(Math.max(a.top-x,a.bottom-x)),i-a}),c.length>0){x=(c[0].bottom+c[0].top)/2;try{return w.moveToPoint(l,x),w.collapse(!0),w}catch(u){}}return null}var q=j.each,g=f.isContentEditableFalse,k=b.isCaretContainer;return d.compareRanges=function(c,a){if(c&&a){if(!c.item&&!c.duplicate){return c.startContainer==a.startContainer&&c.startOffset==a.startOffset}if(c.item&&a.item&&c.item(0)===a.item(0)){return !0}if(c.isEqual&&a.isEqual&&a.isEqual(c)){return !0}}return !1},d.getCaretRangeFromPoint=function(s,c,v){var l,a;if(v.caretPositionFromPoint){a=v.caretPositionFromPoint(s,c),l=v.createRange(),l.setStart(a.offsetNode,a.offset),l.collapse(!0)}else{if(v.caretRangeFromPoint){l=v.caretRangeFromPoint(s,c)}else{if(v.body.createTextRange){l=v.body.createTextRange();try{l.moveToPoint(s,c),l.collapse(!0)}catch(u){l=m(s,c,v)}}}}return l},d.getSelectedNode=function(c){var a=c.startContainer,i=c.startOffset;return a.hasChildNodes()&&c.endOffset==i+1?a.childNodes[i]:null},d.getNode=function(c,a){return 1==c.nodeType&&c.hasChildNodes()&&(a>=c.childNodes.length&&(a=c.childNodes.length-1),c=c.childNodes[a]),c},d}),br(b1,[bY,bE,bn],function(b,a,c){return function(f){function e(i){var h,j;if(j=f.$(i).parentsUntil(f.getBody()).add(i),j.length===d.length){for(h=j.length;h>=0&&j[h]===d[h];h--){}if(-1===h){return d=j,!0}}return d=j,!1}var g,d=[];"onselectionchange" in f.getDoc()||f.on("NodeChange Click MouseUp KeyUp Focus",function(j){var k,h;k=f.selection.getRng(),h={startContainer:k.startContainer,startOffset:k.startOffset,endContainer:k.endContainer,endOffset:k.endOffset},"nodechange"!=j.type&&b.compareRanges(h,g)||f.fire("SelectionChange"),g=h}),f.on("contextmenu",function(){f.fire("SelectionChange")}),f.on("SelectionChange",function(){var h=f.selection.getStart(!0);(a.range||!f.selection.isCollapsed())&&!e(h)&&f.dom.isChildOf(h,f.getBody())&&f.nodeChanged({selectionChange:!0})}),f.on("MouseUp",function(h){h.isDefaultPrevented()||("IMG"==f.selection.getNode().nodeName?c.setEditorTimeout(f,function(){f.nodeChanged()}):f.nodeChanged())}),this.nodeChanged=function(k){var j=f.selection,m,h,l;f.initialized&&j&&!f.settings.disable_nodechange&&!f.readonly&&(l=f.getBody(),m=j.getStart()||l,m=m.ownerDocument!=f.getDoc()?f.getBody():m,"IMG"==m.nodeName&&j.isCollapsed()&&(m=m.parentNode),h=[],f.dom.getParent(m,function(i){return i===l?!0:void h.push(i)}),k=k||{},k.element=m,k.parents=h,f.fire("NodeChange",k))}}}),br(cq,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-bookmark")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),br(co,[bu],function(j){function q(c,a){return c?c.split(a||" "):[]}function f(x){function o(E,H,D){function l(J,u){var K={},I,c;for(I=0,c=J.length;c>I;I++){K[J[I]]=u||{}}return K}var C,G,a,F=arguments;for(D=D||[],H=H||"","string"==typeof D&&(D=q(D)),G=3;G<F.length;G++){"string"==typeof F[G]&&(F[G]=q(F[G])),D.push.apply(D,F[G])}for(E=q(E),C=E.length;C--;){a=[].concat(s,q(H)),A[E[C]]={attributes:l(a),attributesOrder:a,children:l(D,d)}}}function i(u,D){var l,a,C,c;for(u=q(u),l=u.length,D=q(D);l--;){for(a=A[u[l]],C=0,c=D.length;c>C;C++){a.attributes[D[C]]={},a.attributesOrder.push(D[C])}}}var A={},s,z,B,y,w,t;return h[x]?h[x]:(s=q("id accesskey class dir lang style tabindex title"),z=q("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),B=q("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=x&&(s.push.apply(s,q("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),z.push.apply(z,q("article aside details dialog figure header footer hgroup section nav")),B.push.apply(B,q("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=x&&(s.push("xml:lang"),t=q("acronym applet basefont big font strike tt"),B.push.apply(B,t),v(t,function(a){o(a,"",B)}),w=q("center dir isindex noframes"),z.push.apply(z,w),y=[].concat(z,B),v(w,function(a){o(a,"",y)})),y=y||[].concat(z,B),o("html","manifest","head body"),o("head","","base command link meta noscript script style title"),o("title hr noscript br"),o("base","href target"),o("link","href rel media hreflang type sizes hreflang"),o("meta","name http-equiv content charset"),o("style","media type scoped"),o("script","src async defer type charset"),o("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",y),o("address dt dd div caption","",y),o("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",B),o("blockquote","cite",y),o("ol","reversed start type","li"),o("ul","","li"),o("li","value",y),o("dl","","dt dd"),o("a","href target rel media hreflang type",B),o("q","cite",B),o("ins del","cite datetime",y),o("img","src sizes srcset alt usemap ismap width height"),o("iframe","src name width height",y),o("embed","src type width height"),o("object","data type typemustmatch name usemap form width height",y,"param"),o("param","name value"),o("map","name",y,"area"),o("area","alt coords shape href target rel media hreflang type"),o("table","border","caption colgroup thead tfoot tbody tr"+("html4"==x?" col":"")),o("colgroup","span","col"),o("col","span"),o("tbody thead tfoot","","tr"),o("tr","","td th"),o("td","colspan rowspan headers",y),o("th","colspan rowspan headers scope abbr",y),o("form","accept-charset action autocomplete enctype method name novalidate target",y),o("fieldset","disabled form name",y,"legend"),o("label","form for",B),o("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),o("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==x?y:B),o("select","disabled form multiple name required size","option optgroup"),o("optgroup","disabled label","option"),o("option","disabled label selected value"),o("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),o("menu","type label",y,"li"),o("noscript","",y),"html4"!=x&&(o("wbr"),o("ruby","",B,"rt rp"),o("figcaption","",y),o("mark rt rp summary bdi","",B),o("canvas","width height",y),o("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",y,"track source"),o("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",y,"track source"),o("picture","","img source"),o("source","src srcset type media sizes"),o("track","kind src srclang label default"),o("datalist","",B,"option"),o("article section nav aside header footer","",y),o("hgroup","","h1 h2 h3 h4 h5 h6"),o("figure","",y,"figcaption"),o("time","datetime",B),o("dialog","open",y),o("command","type label icon disabled checked radiogroup command"),o("output","for form name",B),o("progress","value max",B),o("meter","value min max low high optimum",B),o("details","open",y,"summary"),o("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=x&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=x&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),v(q("a form meter progress dfn"),function(a){A[a]&&delete A[a].children[a]}),delete A.caption.children.table,delete A.script,h[x]=A,A)}function b(c,a){var i;return c&&(i={},"string"==typeof c&&(c={"*":c}),v(c,function(n,l){i[l]=i[l.toUpperCase()]="map"==a?m(n,/[, ]/):k(n,/[, ]/)})),i}var h={},d={},m=j.makeMap,v=j.each,g=j.extend,k=j.explode,p=j.inArray;return function(Z){function Q(e,y,w){var x=Z[e];return x?x=m(x,/[, ]/,m(x.toUpperCase(),/[, ]/)):(x=h[e],x||(x=m(y," ",m(y.toUpperCase()," ")),x=g(x,w),h[e]=x)),x}function ae(o){return new RegExp("^"+o.replace(/([?+*])/g,".$1")+"$")}function Y(cS){var ct,R,cO,ce,P,cM,cT,cR,cP,cL,bt,cQ,L,cU,C,D,M,B,cV,A=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,cN=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,y=/[*?+]/;if(cS){for(cS=q(cS,","),t["@"]&&(D=t["@"].attributes,M=t["@"].attributesOrder),ct=0,R=cS.length;R>ct;ct++){if(P=A.exec(cS[ct])){if(cU=P[1],cP=P[2],C=P[3],cR=P[5],cQ={},L=[],cM={attributes:cQ,attributesOrder:L},"#"===cU&&(cM.paddEmpty=!0),"-"===cU&&(cM.removeEmpty=!0),"!"===P[4]&&(cM.removeEmptyAttrs=!0),D){for(B in D){cQ[B]=D[B]}L.push.apply(L,M)}if(cR){for(cR=q(cR,"|"),cO=0,ce=cR.length;ce>cO;cO++){if(P=cN.exec(cR[cO])){if(cT={},bt=P[1],cL=P[2].replace(/::/g,":"),cU=P[3],cV=P[4],"!"===bt&&(cM.attributesRequired=cM.attributesRequired||[],cM.attributesRequired.push(cL),cT.required=!0),"-"===bt){delete cQ[cL],L.splice(p(L,cL),1);continue}cU&&("="===cU&&(cM.attributesDefault=cM.attributesDefault||[],cM.attributesDefault.push({name:cL,value:cV}),cT.defaultValue=cV),":"===cU&&(cM.attributesForced=cM.attributesForced||[],cM.attributesForced.push({name:cL,value:cV}),cT.forcedValue=cV),"<"===cU&&(cT.validValues=m(cV,"?"))),y.test(cL)?(cM.attributePatterns=cM.attributePatterns||[],cT.pattern=ae(cL),cM.attributePatterns.push(cT)):(cQ[cL]||L.push(cL),cQ[cL]=cT)}}}D||"@"!=cP||(D=cQ,M=L),C&&(cM.outputName=cP,t[C]=cM),y.test(cP)?(cM.pattern=ae(cP),I.push(cM)):t[cP]=cM}}}}function W(o){t={},I=[],Y(o),v(G,function(x,w){at[w]=x.children})}function U(o){var w=/^(~)?(.+)$/;o&&(h.text_block_elements=h.block_elements=null,v(q(o,","),function(C){var A=w.exec(C),B="~"===A[1],y=B?"span":"div",D=A[2];if(at[D]=at[y],s[D]=y,B||(i[D.toUpperCase()]={},i[D]={}),!t[D]){var x=t[y];x=g({},x),delete x.removeEmptyAttrs,delete x.removeEmpty,t[D]=x}v(at,function(L,E){L[y]&&(at[E]=L=g({},at[E]),L[D]=L[y])})}))}function O(o){var e=/^([+\-]?)(\w+)\[([^\]]+)\]$/;h[Z.schema]=null,o&&v(q(o,","),function(x){var A=e.exec(x),w,y;A&&(y=A[1],w=y?at[A[2]]:at[A[2]]={"#comment":{}},w=at[A[2]],v(q(A[3],"|"),function(B){"-"===y?delete w[B]:w[B]={}}))})}function X(w){var o=t[w],x;if(o){return o}for(x=I.length;x--;){if(o=I[x],o.pattern.test(w)){return o}}}var F=this,t={},at={},I=[],u,z,G,n,be,c,V,a,i,K,J,H,r,s={},l={};Z=Z||{},G=f(Z.schema),Z.verify_html===!1&&(Z.valid_elements="*[*]"),u=b(Z.valid_styles),z=b(Z.invalid_styles,"map"),a=b(Z.valid_classes,"map"),n=Q("whitespace_elements","pre script noscript style textarea video audio iframe object"),be=Q("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),c=Q("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),V=Q("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),K=Q("non_empty_elements","td th iframe video audio object script",c),J=Q("move_caret_before_on_enter_elements","table",K),H=Q("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),i=Q("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",H),r=Q("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),v((Z.special||"script noscript style textarea").split(" "),function(o){l[o]=new RegExp("</"+o+"[^>]*>","gi")}),Z.valid_elements?W(Z.valid_elements):(v(G,function(w,o){t[o]={attributes:w.attributes,attributesOrder:w.attributesOrder},at[o]=w.children}),"html5"!=Z.schema&&v(q("strong/b em/i"),function(o){o=q(o,"/"),t[o[1]].outputName=o[0]}),t.img.attributesDefault=[{name:"alt",value:""}],v(q("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(o){t[o]&&(t[o].removeEmpty=!0)}),v(q("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(o){t[o].paddEmpty=!0}),v(q("span"),function(o){t[o].removeEmptyAttrs=!0})),U(Z.custom_elements),O(Z.valid_children),Y(Z.extended_valid_elements),O("+ol[ul|ol],+ul[ul|ol]"),Z.invalid_elements&&v(k(Z.invalid_elements),function(o){t[o]&&delete t[o]}),X("span")||Y("span[!data-mce-type|*]"),F.children=at,F.getValidStyles=function(){return u},F.getInvalidStyles=function(){return z},F.getValidClasses=function(){return a},F.getBoolAttrs=function(){return V},F.getBlockElements=function(){return i},F.getTextBlockElements=function(){return H},F.getTextInlineElements=function(){return r},F.getShortEndedElements=function(){return c},F.getSelfClosingElements=function(){return be},F.getNonEmptyElements=function(){return K},F.getMoveCaretBeforeOnEnterElements=function(){return J},F.getWhiteSpaceElements=function(){return n},F.getSpecialElements=function(){return l},F.isValidChild=function(w,o){var x=at[w];return !(!x||!x[o])},F.isValid=function(y,w){var A,x,o=X(y);if(o){if(!w){return !0}if(o.attributes[w]){return !0}if(A=o.attributePatterns){for(x=A.length;x--;){if(A[x].pattern.test(y)){return !0}}}}return !1},F.getElementRule=X,F.getCustomElements=function(){return s},F.addValidElements=Y,F.setValidElements=W,F.addCustomElements=U,F.addValidChildren=O,F.elements=t}}),br(cl,[co,cn,bu],function(d,b,g){function c(p,k,u){var m=1,j,q,h,l;for(l=p.getShortEndedElements(),h=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,h.lastIndex=j=u;q=h.exec(k);){if(j=h.lastIndex,"/"===q[1]){m--}else{if(!q[1]){if(q[2] in l){continue}m++}}if(0===m){break}}return j}function a(j,h){function k(){}var e=this;j=j||{},e.schema=h=h||new d,j.fix_self_closing!==!1&&(j.fix_self_closing=!0),f("comment cdata text start end pi doctype".split(" "),function(i){i&&(e[i]=j[i]||k)}),e.parse=function(c2){function cV(m){var l,o;for(l=cZ.length;l--&&cZ[l].name!==m;){}if(l>=0){for(o=cZ.length-1;o>=l;o--){m=cZ[o],m.valid&&cX.end(m.name)}cZ.length=l}}function cT(x,B,v,m,p){var z,C,w=/[\s\u0000-\u001F]+/g;if(B=B.toLowerCase(),v=B in cP?B:cN(v||m||p||""),be&&!cO&&0!==B.indexOf("data-")){if(z=r[B],!z&&G){for(C=G.length;C--&&(z=G[C],!z.pattern.test(B));){}-1===C&&(z=null)}if(!z){return}if(z.validValues&&!(v in z.validValues)){return}}if(n[B]&&!j.allow_script_urls){var y=v.replace(w,"");try{y=decodeURIComponent(y)}catch(A){y=unescape(y)}if(q.test(y)){return}if(!j.allow_html_data_urls&&cM.test(y)&&!/^data:image\//i.test(y)){return}}cW.map[B]=v,cW.push({name:B,value:v})}var cX=this,c4,cS=0,c3,c1,cZ=[],cW,cU,c0,cR,cO,c5,ce,cP,cQ,be,Q,c6,t,cY,r,G,cL,ct,bt,X,Y,J,ae,K,Z,at=0,cN=b.decode,i,n=g.makeMap("src,href,data,background,formaction,poster"),q=/((java|vb)script|mhtml):/i,cM=/^data:/i;for(J=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),ae=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ce=h.getShortEndedElements(),Y=j.self_closing_elements||h.getSelfClosingElements(),cP=h.getBoolAttrs(),be=j.validate,c5=j.remove_internals,i=j.fix_self_closing,K=h.getSpecialElements();c4=J.exec(c2);){if(cS<c4.index&&cX.text(cN(c2.substr(cS,c4.index-cS))),c3=c4[6]){c3=c3.toLowerCase(),":"===c3.charAt(0)&&(c3=c3.substr(1)),cV(c3)}else{if(c3=c4[7]){if(c3=c3.toLowerCase(),":"===c3.charAt(0)&&(c3=c3.substr(1)),cQ=c3 in ce,i&&Y[c3]&&cZ.length>0&&cZ[cZ.length-1].name===c3&&cV(c3),!be||(Q=h.getElementRule(c3))){if(c6=!0,be&&(r=Q.attributes,G=Q.attributePatterns),(cY=c4[8])?(cO=-1!==cY.indexOf("data-mce-type"),cO&&c5&&(c6=!1),cW=[],cW.map={},cY.replace(ae,cT)):(cW=[],cW.map={}),be&&!cO){if(cL=Q.attributesRequired,ct=Q.attributesDefault,bt=Q.attributesForced,X=Q.removeEmptyAttrs,X&&!cW.length&&(c6=!1),bt){for(cU=bt.length;cU--;){t=bt[cU],cR=t.name,Z=t.value,"{$uid}"===Z&&(Z="mce_"+at++),cW.map[cR]=Z,cW.push({name:cR,value:Z})}}if(ct){for(cU=ct.length;cU--;){t=ct[cU],cR=t.name,cR in cW.map||(Z=t.value,"{$uid}"===Z&&(Z="mce_"+at++),cW.map[cR]=Z,cW.push({name:cR,value:Z}))}}if(cL){for(cU=cL.length;cU--&&!(cL[cU] in cW.map);){}-1===cU&&(c6=!1)}if(t=cW.map["data-mce-bogus"]){if("all"===t){cS=c(h,c2,J.lastIndex),J.lastIndex=cS;continue}c6=!1}}c6&&cX.start(c3,cW,cQ)}else{c6=!1}if(c1=K[c3]){c1.lastIndex=cS=c4.index+c4[0].length,(c4=c1.exec(c2))?(c6&&(c0=c2.substr(cS,c4.index-cS)),cS=c4.index+c4[0].length):(c0=c2.substr(cS),cS=c2.length),c6&&(c0.length>0&&cX.text(c0,!0),cX.end(c3)),J.lastIndex=cS;continue}cQ||(cY&&cY.indexOf("/")==cY.length-1?c6&&cX.end(c3):cZ.push({name:c3,valid:c6}))}else{(c3=c4[1])?(">"===c3.charAt(0)&&(c3=" "+c3),j.allow_conditional_comments||"[if"!==c3.substr(0,3)||(c3=" "+c3),cX.comment(c3)):(c3=c4[2])?cX.cdata(c3):(c3=c4[3])?cX.doctype(c3):(c3=c4[4])&&cX.pi(c3,c4[5])}}cS=c4.index+c4[0].length}for(cS<c2.length&&cX.text(cN(c2.substr(cS))),cU=cZ.length-1;cU>=0;cU--){c3=cZ[cU],c3.valid&&cX.end(c3.name)}}}var f=g.each;return a.findEndTag=c,a}),br(b8,[cq,co,cl,bu],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(o,e){function s(J){var x,l,w,H,K,E,D,C,A,z,u,B,I,G,F;for(u=c("tr,td,th,tbody,thead,tfoot,table"),z=e.getNonEmptyElements(),B=e.getTextBlockElements(),I=e.getSpecialElements(),x=0;x<J.length;x++){if(l=J[x],l.parent&&!l.fixed){if(B[l.name]&&"li"==l.parent.name){for(G=l.next;G&&B[G.name];){G.name="li",G.fixed=!0,l.parent.insert(G,l.parent),G=G.next}l.unwrap(l)}else{for(H=[l],w=l.parent;w&&!e.isValidChild(w.name,l.name)&&!u[w.name];w=w.parent){H.push(w)}if(w&&H.length>1){for(H.reverse(),K=E=i.filterNode(H[0].clone()),A=0;A<H.length-1;A++){for(e.isValidChild(E.name,H[A].name)?(D=i.filterNode(H[A].clone()),E.append(D)):D=E,C=H[A].firstChild;C&&C!=H[A+1];){F=C.next,D.append(C),C=F}E=D}K.isEmpty(z)?w.insert(l,H[0],!0):(w.insert(K,H[0],!0),w.insert(l,K)),w=H[0],(w.isEmpty(z)||w.firstChild===w.lastChild&&"br"===w.firstChild.name)&&w.empty().remove()}else{if(l.parent){if("li"===l.name){if(G=l.prev,G&&("ul"===G.name||"ul"===G.name)){G.append(l);continue}if(G=l.next,G&&("ul"===G.name||"ul"===G.name)){G.insert(l,G.firstChild,!0);continue}l.wrap(i.filterNode(new h("ul",1)));continue}e.isValidChild(l.parent.name,"div")&&e.isValidChild("div",l.name)?l.wrap(i.filterNode(new h("div",1))):I[l.name]?l.empty().remove():l.unwrap()}}}}}}var i=this,q={},p=[],n={},a={};o=o||{},o.validate="validate" in o?o.validate:!0,o.root_name=o.root_name||"body",i.schema=e=e||new d,i.filterNode=function(u){var l,v,m;v in q&&(m=n[v],m?m.push(u):n[v]=[u]),l=p.length;for(;l--;){v=p[l].name,v in u.attributes.map&&(m=a[v],m?m.push(u):a[v]=[u])}return u},i.addNodeFilter=function(m,l){j(b(m),function(r){var t=q[r];t||(q[r]=t=[]),t.push(l)})},i.addAttributeFilter=function(m,l){j(b(m),function(r){var t;for(t=0;t<p.length;t++){if(p[t].name===r){return void p[t].callbacks.push(l)}}p.push({name:r,callbacks:[l]})})},i.parse=function(at,cM){function cQ(){function w(t){t&&(v=t.firstChild,v&&3==v.type&&(v.value=v.value.replace(r,"")),v=t.lastChild,v&&3==v.type&&(v.value=v.value.replace(be,"")))}var v=Q.firstChild,x,u;if(e.isValidChild(Q.name,U.toLowerCase())){for(;v;){x=v.next,3==v.type||1==v.type&&"p"!==v.name&&!l[v.name]&&!v.attr("data-mce-type")?u?u.append(v):(u=Z(U,1),u.attr(o.forced_root_block_attrs),Q.insert(u,v),u.append(v)):(w(u),u=null),v=x}w(u)}}function Z(v,x){var w=new h(v,x),u;return v in q&&(u=n[v],u?u.push(w):n[v]=[w]),w}function cL(x){var v,A,w,u,y=e.getBlockElements();for(v=x.prev;v&&3===v.type;){if(w=v.value.replace(be,""),w.length>0){return void (v.value=w)}if(A=v.next){if(3==A.type&&A.value.length){v=v.prev;continue}if(!y[A.name]&&"script"!=A.name&&"style"!=A.name){v=v.prev;continue}}u=v.prev,v.remove(),v=u}}function cO(v){var u,w={};for(u in v){"li"!==u&&"p"!=u&&(w[u]=v[u])}return w}var Y,Q,cP,bt,V,X,ae,G,cR,m,cN,l,r,ct=[],ce,be,J,K,z,W,F,U;if(cM=cM||{},n={},a={},l=f(c("script,style,head,html,body,title,meta,param"),e.getBlockElements()),F=e.getNonEmptyElements(),W=e.children,cN=o.validate,U="forced_root_block" in cM?cM.forced_root_block:o.forced_root_block,z=e.getWhiteSpaceElements(),r=/^[ \t\r\n]+/,be=/[ \t\r\n]+$/,J=/[ \t\r\n]+/g,K=/^[ \t\r\n]+$/,Y=new k({validate:cN,allow_script_urls:o.allow_script_urls,allow_conditional_comments:o.allow_conditional_comments,self_closing_elements:cO(e.getSelfClosingElements()),cdata:function(t){cP.append(Z("#cdata",4)).value=t},text:function(v,u){var w;ce||(v=v.replace(J," "),cP.lastChild&&l[cP.lastChild.name]&&(v=v.replace(r,""))),0!==v.length&&(w=Z("#text",3),w.raw=!!u,cP.append(w).value=v)},comment:function(t){cP.append(Z("#comment",8)).value=t},pi:function(v,u){cP.append(Z(v,7)).value=u,cL(cP)},doctype:function(v){var u;u=cP.append(Z("#doctype",10)),u.value=v,cL(cP)},start:function(A,w,C){var y,v,B,u,x;if(B=cN?e.getElementRule(A):{}){for(y=Z(B.outputName||A,1),y.attributes=w,y.shortEnded=C,cP.append(y),x=W[cP.name],x&&W[y.name]&&!x[y.name]&&ct.push(y),v=p.length;v--;){u=p[v].name,u in w.map&&(cR=a[u],cR?cR.push(y):a[u]=[y])}l[A]&&cL(y),C||(cP=y),!ce&&z[A]&&(ce=!0)}},end:function(w){var A,x,v,y,u;if(x=cN?e.getElementRule(w):{}){if(l[w]&&!ce){if(A=cP.firstChild,A&&3===A.type){if(v=A.value.replace(r,""),v.length>0){A.value=v,A=A.next}else{for(y=A.next,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.next,(0===v.length||K.test(v))&&(A.remove(),A=y),A=y}}}if(A=cP.lastChild,A&&3===A.type){if(v=A.value.replace(be,""),v.length>0){A.value=v,A=A.prev}else{for(y=A.prev,A.remove(),A=y;A&&3===A.type;){v=A.value,y=A.prev,(0===v.length||K.test(v))&&(A.remove(),A=y),A=y}}}}if(ce&&z[w]&&(ce=!1),(x.removeEmpty||x.paddEmpty)&&cP.isEmpty(F)){if(x.paddEmpty){cP.empty().append(new h("#text","3")).value="\xa0"}else{if(!cP.attributes.map.name&&!cP.attributes.map.id){return u=cP.parent,l[cP.name]?cP.empty().remove():cP.unwrap(),void (cP=u)}}}cP=cP.parent}}},e),Q=cP=new h(cM.context||o.root_name,11),Y.parse(at),cN&&ct.length&&(cM.context?cM.invalid=!0:s(ct)),U&&("body"==Q.name||cM.isRootContent)&&cQ(),!cM.invalid){for(m in n){for(cR=q[m],bt=n[m],ae=bt.length;ae--;){bt[ae].parent||bt.splice(ae,1)}for(V=0,X=cR.length;X>V;V++){cR[V](bt,m,cM)}}for(V=0,X=p.length;X>V;V++){if(cR=p[V],cR.name in a){for(bt=a[cR.name],ae=bt.length;ae--;){bt[ae].parent||bt.splice(ae,1)}for(ae=0,G=cR.callbacks.length;G>ae;ae++){cR.callbacks[ae](bt,cR.name,cM)}}}}return Q},o.remove_trailing_brs&&i.addNodeFilter("br",function(F){var w,l=F.length,y,v=f({},e.getBlockElements()),D=e.getNonEmptyElements(),C,E,B,A,z,x;for(v.body=1,w=0;l>w;w++){if(y=F[w],C=y.parent,v[y.parent.name]&&y===C.lastChild){for(B=y.prev;B;){if(A=B.name,"span"!==A||"bookmark"!==B.attr("data-mce-type")){if("br"!==A){break}if("br"===A){y=null;break}}B=B.prev}y&&(y.remove(),C.isEmpty(D)&&(z=e.getElementRule(C.name),z&&(z.removeEmpty?C.remove():z.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(E=y;C&&C.firstChild===E&&C.lastChild===E&&(E=C,!v[C.name]);){C=C.parent}E===C&&(x=new h("#text",3),x.value="\xa0",y.replace(x))}}}),o.allow_html_in_named_anchor||i.addAttributeFilter("id,name",function(v){for(var m=v.length,x,u,l,w;m--;){if(w=v[m],"a"===w.name&&w.firstChild&&!w.attr("href")){l=w.parent,x=w.lastChild;do{u=x.prev,l.insert(x,w),x=u}while(x)}}}),o.validate&&e.getValidClasses()&&i.addAttributeFilter("class",function(x){for(var B=x.length,v,l,w,m,z,C=e.getValidClasses(),y,A;B--;){for(v=x[B],l=v.attr("class").split(" "),z="",w=0;w<l.length;w++){m=l[w],A=!1,y=C["*"],y&&y[m]&&(A=!0),y=C[v.name],!A&&y&&y[m]&&(A=!0),A&&(z&&(z+=" "),z+=m)}z.length||(z=null),v.attr("class",z)}})}}),br(b9,[cn,bu],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,i,p,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,i=l.length;i>q;q++){p=l[q],j.push(" ",p.name,'="',h(p.value,!0),'"')}}!r||d?j[j.length]=">":j[j.length]=" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",h(i),"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),br(b4,[b9,co],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,z,x,v,t,q,i;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1&&(v=[],v.map={},i=d.getElementRule(w.name))){for(t=0,q=i.attributesOrder.length;q>t;t++){z=i.attributesOrder[t],z in y.map&&(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}for(t=0,q=y.length;q>t;t++){z=y[t].name,z in v.map||(x=y.map[z],v.map[z]=x,v.push({name:z,value:x}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),br(cf,[bl,b8,cl,cn,b4,cq,co,bE,bu,b0],function(x,C,j,b,q,g,A,D,p,z){function B(d){function a(h){return h&&"br"===h.name}var f,c;f=d.lastChild,a(f)&&(c=f.prev,a(c)&&(f.remove(),c.remove()))}var y=p.each,w=p.trim,v=x.DOM,k=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi");return function(h,i){function a(){var I=i.getBody().innerHTML,F=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,H,E,n,G,m,o=i.schema;for(I=z.trim(I.replace(k,"")),m=o.getShortEndedElements();G=F.exec(I);){E=F.lastIndex,n=G[0].length,H=m[G[1]]?E:j.findEndTag(o,I,E),I=I.substring(0,E-n)+I.substring(H),F.lastIndex=E-n}return w(I)}var f,d,c;return i&&(f=i.dom,d=i.schema),f=f||v,d=d||new A(h),h.entity_encoding=h.entity_encoding||"named",h.remove_trailing_brs="remove_trailing_brs" in h?h.remove_trailing_brs:!0,c=new C(h,d),c.addAttributeFilter("data-mce-tabindex",function(o,l){for(var s=o.length,m;s--;){m=o[s],m.attr("tabindex",m.attributes.map["data-mce-tabindex"]),m.attr(l,null)}}),c.addAttributeFilter("src,href,style",function(I,u){for(var e=I.length,F,m,H="data-mce-"+u,J=h.url_converter,E=h.url_converter_scope,G;e--;){F=I[e],m=F.attributes.map[H],m!==G?(F.attr(u,m.length>0?m:null),F.attr(H,null)):(m=F.attributes.map[u],"style"===u?m=f.serializeStyle(f.parseStyle(m),F.name):J&&(m=J.call(E,m,u,F.name)),F.attr(u,m.length>0?m:null))}}),c.addAttributeFilter("class",function(o){for(var l=o.length,s,m;l--;){s=o[l],m=s.attr("class"),m&&(m=s.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),s.attr("class",m.length>0?m:null))}}),c.addAttributeFilter("data-mce-type",function(s,m,u){for(var o=s.length,l;o--;){l=s[o],"bookmark"!==l.attributes.map["data-mce-type"]||u.cleanup||l.remove()}}),c.addNodeFilter("noscript",function(m){for(var l=m.length,o;l--;){o=m[l].firstChild,o&&(o.value=b.decode(o.value))}}),c.addNodeFilter("script,style",function(E,s){function G(n){return n.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var u=E.length,m,F,l;u--;){m=E[u],F=m.firstChild?m.firstChild.value:"","script"===s?(l=m.attr("type"),l&&m.attr("type","mce-no/type"==l?null:l.replace(/^mce\-/,"")),F.length>0&&(m.firstChild.value="// <![CDATA[\n"+G(F)+"\n// ]]>")):F.length>0&&(m.firstChild.value="<!--\n"+G(F)+"\n-->")}}),c.addNodeFilter("#comment",function(m){for(var l=m.length,o;l--;){o=m[l],0===o.value.indexOf("[CDATA[")?(o.name="#cdata",o.type=4,o.value=o.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===o.value.indexOf("mce:protected ")&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(o.value).substr(14))}}),c.addNodeFilter("xml:namespace,input",function(o,l){for(var s=o.length,m;s--;){m=o[s],7===m.type?m.remove():1===m.type&&("input"!==l||"type" in m.attributes.map||m.attr("type","text"))}}),h.fix_list_elements&&c.addNodeFilter("ul,ol",function(o){for(var l=o.length,s,m;l--;){s=o[l],m=s.parent,("ul"===m.name||"ol"===m.name)&&s.prev&&"li"===s.prev.name&&s.prev.append(s)}}),c.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(m,l){for(var o=m.length;o--;){m[o].attr(l,null)}}),{schema:d,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:function(J,u){var e=this,s,I,F,G,E,H;return D.ie&&f.select("script,style,select,map").length>0?(E=J.innerHTML,J=J.cloneNode(!1),f.setHTML(J,E)):J=J.cloneNode(!0),s=J.ownerDocument.implementation,s.createHTMLDocument&&(I=s.createHTMLDocument(""),y("BODY"==J.nodeName?J.childNodes:[J],function(l){I.body.appendChild(I.importNode(l,!0))}),J="BODY"!=J.nodeName?I.body.firstChild:I.body,F=f.doc,f.doc=I),u=u||{},u.format=u.format||"html",u.selection&&(u.forced_root_block=""),u.no_events||(u.node=J,e.onPreProcess(u)),H=c.parse(w(u.getInner?J.innerHTML:f.getOuterHTML(J)),u),B(H),G=new q(h,d),u.content=G.serialize(H),u.cleanup||(u.content=z.trim(u.content),u.content=u.content.replace(/\uFEFF/g,"")),u.no_events||e.onPostProcess(u),F&&(f.doc=F),u.node=null,u.content},addRules:function(l){d.addValidElements(l)},setRules:function(l){d.setValidElements(l)},onPreProcess:function(l){i&&i.fire("PreProcess",l)},onPostProcess:function(l){i&&i.fire("PostProcess",l)},getTrimmedContent:a}}}),br(b5,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,y,v=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(y=Math.floor((p+j)/2),m=A[y],e.moveToElementText(m),v=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),v>0){j=y-1}else{if(!(0>v)){return{node:m}}p=y+1}}if(0>v){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:v,offset:w,inside:x}}}function h(){function i(z){var B=c(e,z),y,w,x=0,o,A,v;if(y=B.node,w=B.offset,B.inside&&!y.hasChildNodes()){return void q[z?"setStart":"setEnd"](y,0)}if(w===A){return void q[z?"setStartBefore":"setEndAfter"](y)}if(B.position<0){if(o=B.inside?y.firstChild:y.nextSibling,!o){return void q[z?"setStartAfter":"setEndAfter"](y)}if(!w){return void (3==o.nodeType?q[z?"setStart":"setEnd"](o,0):q[z?"setStartBefore":"setEndBefore"](o))}for(;o;){if(3==o.nodeType&&(v=o.nodeValue,x+=v.length,x>=w)){y=o,x-=w,x=v.length-x;break}o=o.nextSibling}}else{if(o=y.previousSibling,!o){return q[z?"setStartBefore":"setEndBefore"](y)}if(!w){return void (3==y.nodeType?q[z?"setStart":"setEnd"](o,y.nodeValue.length):q[z?"setStartAfter":"setEndAfter"](o))}for(;o;){if(3==o.nodeType&&(x+=o.nodeValue.length,x>=w)){y=o,x-=w;break}o=o.previousSibling}}q[z?"setStart":"setEnd"](y,x)}var e=f.getRng(),q=b.createRng(),t,j,p,r,m;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}m=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),r=p.parentElement(),r.innerHTML=r.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(m),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(s){var r,D,p,u,l;p=b.create("a"),r=s?C:y,D=s?o:A,u=e.duplicate(),(r==w||r==w.documentElement)&&(r=q,D=0),3==r.nodeType?(r.parentNode.insertBefore(p,r),u.moveToElementText(p),u.moveStart("character",D),b.remove(p),e.setEndPoint(s?"StartToStart":"EndToEnd",u)):(l=r.childNodes,l.length?(D>=l.length?b.insertAfter(p,l[l.length-1]):r.insertBefore(p,l[D]),u.moveToElementText(p)):r.canHaveHTML&&(r.innerHTML="<span>&#xFEFF;</span>",p=r.firstChild,u.moveToElementText(p),u.collapse(g)),e.setEndPoint(s?"StartToStart":"EndToEnd",u),b.remove(p))}var e,z,C,o,y,A,x,w=f.dom.doc,q=w.body,k,i;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,A=B.endOffset,e=q.createTextRange(),C==y&&1==C.nodeType){if(o==A&&!C.hasChildNodes()){if(C.canHaveHTML){return x=C.previousSibling,x&&!x.hasChildNodes()&&b.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",void (x&&(x.innerHTML=""))}o=b.nodeIndex(C),C=C.parentNode}if(o==A-1){try{if(i=C.childNodes[o],z=q.createControlRange(),z.addElement(i),z.select(),k=f.getRng(),k.item&&i===k.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),br(cd,[bE],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey||this.metaKeyPressed(b)},metaKeyPressed:function(b){return a.mac?b.metaKey:b.ctrlKey&&!b.altKey}}}),br(ci,[cd,bu,bn,bE,bO],function(d,b,g,c,a){var f=a.isContentEditableFalse;return function(c6,dd){function cZ(i){var h=dd.settings.object_resizing;return h===!1||c.iOS?!1:("string"!=typeof h&&(h="table,img,div"),"false"===i.getAttribute("data-mce-resize")?!1:i==dd.getBody()?!1:dd.dom.is(i,h))}function c3(j){var p,l,h,m,k;p=j.screenX-cQ,l=j.screenY-cO,cM=p*Q[2]+Z,cT=l*Q[3]+cL,cM=5>cM?5:cM,cT=5>cT?5:cT,h="IMG"==de.nodeName&&dd.settings.resize_img_proportional!==!1?!d.modifierPressed(j):d.modifierPressed(j)||"IMG"==de.nodeName&&Q[2]*Q[3]!==0,h&&(cS(p)>cS(l)?(cT=c0(cM*ae),cM=c0(cT/ae)):(cM=c0(cT/ae),cT=c0(cM*ae))),cN.setStyles(J,{width:cM,height:cT}),m=Q.startPos.x+p,k=Q.startPos.y+l,m=m>0?m:0,k=k>0?k:0,cN.setStyles(c4,{left:m,top:k,display:"block"}),c4.innerHTML=cM+" &times; "+cT,Q[2]<0&&J.clientWidth<=cM&&cN.setStyle(J,"left",be+(Z-cM)),Q[3]<0&&J.clientHeight<=cT&&cN.setStyle(J,"top",bt+(cL-cT)),p=c5.scrollWidth-e,l=c5.scrollHeight-n,p+l!==0&&cN.setStyles(c4,{left:m-p,top:k-l}),ct||(dd.fire("ObjectResizeStart",{target:de,width:Z,height:cL}),ct=!0)}function db(){function h(j,i){i&&(de.style[j]||!dd.schema.isValid(de.nodeName.toLowerCase(),j)?cN.setStyle(de,j,i):cN.setAttrib(de,j,i))}ct=!1,h("width",cM),h("height",cT),cN.unbind(o,"mousemove",c3),cN.unbind(o,"mouseup",db),r!=o&&(cN.unbind(r,"mousemove",c3),cN.unbind(r,"mouseup",db)),cN.remove(J),cN.remove(c4),t&&"TABLE"!=de.nodeName||cY(de),dd.fire("ObjectResized",{target:de,width:cM,height:cT}),cN.setAttrib(de,"style",cN.getAttrib(de,"style")),dd.nodeChanged()}function cY(q,l,v){var k,s,j,p,m;da(),dc(),k=cN.getPos(q,c5),be=k.x,bt=k.y,m=q.getBoundingClientRect(),s=m.width||m.right-m.left,j=m.height||m.bottom-m.top,de!=q&&(cU(),de=q,cM=cT=0),p=dd.fire("ObjectSelected",{target:q}),cZ(q)&&!p.isDefaultPrevented()?at(G,function(x,u){function h(i){cQ=i.screenX,cO=i.screenY,Z=de.clientWidth,cL=de.clientHeight,ae=cL/Z,Q=x,x.startPos={x:s*x[0]+be,y:j*x[1]+bt},e=c5.scrollWidth,n=c5.scrollHeight,J=de.cloneNode(!0),cN.addClass(J,"mce-clonedresizable"),cN.setAttrib(J,"data-mce-bogus","all"),J.contentEditable=!1,J.unSelectabe=!0,cN.setStyles(J,{left:be,top:bt,margin:0}),J.removeAttribute("data-mce-selected"),c5.appendChild(J),cN.bind(o,"mousemove",c3),cN.bind(o,"mouseup",db),r!=o&&(cN.bind(r,"mousemove",c3),cN.bind(r,"mouseup",db)),c4=cN.add(c5,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},Z+" &times; "+cL)}var w;return l?void (u==l&&h(v)):(w=cN.get("mceResizeHandle"+u),w&&cN.remove(w),w=cN.add(c5,"div",{id:"mceResizeHandle"+u,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+u+"-resize; margin:0; padding:0"}),c.ie&&(w.contentEditable=!1),cN.bind(w,"mousedown",function(i){i.stopImmediatePropagation(),i.preventDefault(),h(i)}),x.elm=w,void cN.setStyles(w,{left:s*x[0]+be-w.offsetWidth/2,top:j*x[1]+bt-w.offsetHeight/2}))}):da(),de.setAttribute("data-mce-selected","1")}function da(){var i,h;dc(),de&&de.removeAttribute("data-mce-selected");for(i in G){h=cN.get("mceResizeHandle"+i),h&&(cN.unbind(h),cN.remove(h))}}function c9(j){function h(m,l){if(m){do{if(m===l){return !0}}while(m=m.parentNode)}}var k,i;if(!ct&&!dd.removed){return at(cN.select("img[data-mce-selected],hr[data-mce-selected]"),function(l){l.removeAttribute("data-mce-selected")}),i="mousedown"==j.type?j.target:c6.getNode(),i=cN.$(i).closest(t?"table":"table,img,hr")[0],h(i,c5)&&(cP(),k=c6.getStart(!0),h(k,i)&&h(c6.getEnd(!0),i)&&(!t||i!=k&&"IMG"!==k.nodeName))?void cY(i):void da()}}function c7(i,h,j){i&&i.attachEvent&&i.attachEvent("on"+h,j)}function c2(i,h,j){i&&i.detachEvent&&i.detachEvent("on"+h,j)}function c1(q){var v=q.srcElement,k,h,p,j,w,m,u;k=v.getBoundingClientRect(),m=cR.clientX-k.left,u=cR.clientY-k.top;for(h in G){if(p=G[h],j=v.offsetWidth*p[0],w=v.offsetHeight*p[1],cS(j-m)<8&&cS(w-u)<8){Q=p;break}}ct=!0,dd.fire("ObjectResizeStart",{target:de,width:de.clientWidth,height:de.clientHeight}),dd.getDoc().selection.empty(),cY(v,h,cR)}function c8(h){h.preventDefault?h.preventDefault():h.returnValue=!1}function cX(i){var h=i.srcElement;if(f(h)){return void c8(i)}if(h!=de){if(dd.fire("ObjectSelected",{target:h}),cU(),0===h.id.indexOf("mceResizeHandle")){return void (i.returnValue=!1)}("IMG"==h.nodeName||"TABLE"==h.nodeName)&&(da(),de=h,c7(h,"resizestart",c1))}}function cU(){c2(de,"resizestart",c1)}function dc(){for(var i in G){var h=G[i];h.elm&&(cN.unbind(h.elm),delete h.elm)}}function cP(){try{dd.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(h){}}function cV(i){var h;if(t){h=o.body.createControlRange();try{return h.addElement(i),h.select(),!0}catch(j){}}}function cW(){de=J=null,t&&(cU(),c2(c5,"controlselect",cX))}var cN=dd.dom,at=b.each,de,J,c4,G,Q,cR,cQ,cO,be,bt,Z,cL,ae,ct,cM,cT,o=dd.getDoc(),r=document,t=c.ie&&c.ie<11,cS=Math.abs,c0=Math.round,c5=dd.getBody(),e,n;G={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var ce=".mce-content-body";return dd.contentStyles.push(ce+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+ce+" .mce-resizehandle:hover {background: #000}"+ce+" *[data-mce-selected] {outline: 1px solid black;resize: none}"+ce+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+ce+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),dd.on("init",function(){t?(dd.on("ObjectResized",function(h){"TABLE"!=h.target.nodeName&&(da(),cV(h.target))}),c7(c5,"controlselect",cX),dd.on("mousedown",function(h){cR=h})):(cP(),c.ie>=11&&(dd.on("mousedown click",function(i){var h=i.target.nodeName;!ct&&/^(TABLE|IMG|HR)$/.test(h)&&(dd.selection.select(i.target,"TABLE"==h),"mousedown"==i.type&&dd.nodeChanged())}),dd.dom.bind(c5,"mscontrolselect",function(i){function h(j){g.setEditorTimeout(dd,function(){dd.selection.select(j)})}return f(i.target)?(i.preventDefault(),void h(i.target)):void (/^(TABLE|IMG|HR)$/.test(i.target.nodeName)&&(i.preventDefault(),"IMG"==i.target.tagName&&h(i.target)))}))),dd.on("nodechange ResizeEditor ResizeWindow drop",function(h){g.requestAnimationFrame(function(){c9(h)})}),dd.on("keydown keyup",function(h){de&&"TABLE"==de.nodeName&&c9(h)}),dd.on("hide blur",da)}),dd.on("remove",dc),{isResizable:cZ,showResizeRect:cY,hideResizeRect:da,updateResizeRect:c9,controlSelect:cV,destroy:cW}}}),br(bh,[],function(){function g(a){return function(){return a}}function d(a){return function(e){return !a(e)}}function j(i,a){return function(e){return i(a(e))}}function f(){var a=b.call(arguments);return function(e){for(var i=0;i<a.length;i++){if(a[i](e)){return !0}}return !1}}function c(){var a=b.call(arguments);return function(e){for(var i=0;i<a.length;i++){if(!a[i](e)){return !1}}return !0}}function h(i){var a=b.call(arguments);return a.length-1>=i.length?i.apply(this,a.slice(1)):function(){var k=a.concat([].slice.call(arguments));return h.apply(this,k)}}var b=[].slice;return{constant:g,negate:d,and:c,or:f,curry:h,compose:j}}),br(bU,[bO,by,bA],function(z,E,k){function b(a){return g(a)?!1:A(a)?y(a.parentNode)?!1:!0:x(a)||D(a)||q(a)||B(a)}function w(c,a){for(c=c.parentNode;c&&c!=a;c=c.parentNode){if(B(c)){return !1}if(v(c)){return !0}}return !0}function j(a){return B(a)?E.reduce(a.getElementsByTagName("*"),function(d,c){return d||v(c)},!1)!==!0:!1}function C(a){return x(a)||j(a)}function F(c,a){return b(c)&&w(c,a)}var v=z.isContentEditableTrue,B=z.isContentEditableFalse,D=z.isBr,A=z.isText,y=z.matchNodeNames("script style textarea"),x=z.matchNodeNames("img input textarea hr iframe video audio object"),q=z.matchNodeNames("table"),g=k.isCaretContainer;return{isCaretCandidate:b,isInEditable:w,isAtomic:C,isEditableCaretCandidate:F}}),br(bV,[],function(){function j(a){return a?{left:k(a.left),top:k(a.top),bottom:k(a.bottom),right:k(a.right),width:k(a.width),height:k(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function p(a,c){return a=j(a),c?a.right=a.left:(a.left=a.left+a.width,a.right=a.left),a.width=0,a}function f(c,a){return c.left===a.left&&c.top===a.top&&c.bottom===a.bottom&&c.right===a.right}function b(c,a,i){return c>=0&&c<=Math.min(a.height,i.height)/2}function h(c,a){return c.bottom<a.top?!0:c.top>a.bottom?!1:b(a.top-c.bottom,c,a)}function d(c,a){return c.top>a.bottom?!0:c.bottom<a.top?!1:b(a.bottom-c.top,c,a)}function m(c,a){return c.left<a.left}function q(c,a){return c.right>a.right}function g(c,a){return h(c,a)?-1:d(c,a)?1:m(c,a)?-1:q(c,a)?1:0}var k=Math.round;return{clone:j,collapse:p,isEqual:f,isAbove:h,isBelow:d,isLeft:m,isRight:q,compare:g}}),br(bX,[],function(){function b(c){return"string"==typeof c&&c.charCodeAt(0)>=768&&a.test(c)}var a=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:b}}),br(cB,[bh,bO,bl,bY,bU,bV,bX],function(L,w,E,A,H,D,P){function x(a){return a&&/[\r\n\t ]/.test(a)}function G(c){var a=c.startContainer,d=c.startOffset,b;return x(c.toString())&&J(a.parentNode)&&(b=a.data,x(b[d-1])||x(b[d+1]))?!0:!1}function N(h){function o(v){var s=v.ownerDocument,y=s.createRange(),u=s.createTextNode("\xa0"),f=v.parentNode,c;return f.insertBefore(u,v),y.setStart(u,0),y.setEnd(u,1),c=D.clone(y.getBoundingClientRect()),f.removeChild(u),c}function b(f){var i,c;return c=f.getClientRects(),i=c.length>0?D.clone(c[0]):D.clone(f.getBoundingClientRect()),j(f)&&0===i.left?o(f):i}function a(f,c){return f=D.collapse(f,c),f.width=1,f.right=f.left+1,f}function d(c){0!==c.height&&(l.length>0&&D.isEqual(c,l[l.length-1])||l.push(c))}function p(f,c){var i=f.ownerDocument.createRange();return c<f.data.length&&P.isExtendingChar(f.data[c])?l:(c>0&&(i.setStart(f,c-1),i.setEnd(f,c),G(i)||d(a(b(i),!1))),void (c<f.data.length&&(i.setStart(f,c),i.setEnd(f,c+1),G(i)||d(a(b(i),!0)))))}var l=[],m,g;if(k(h.container())){return p(h.container(),h.offset()),l}if(M(h.container())){if(h.isAtEnd()){g=z(h.container(),h.offset()),k(g)&&p(g,g.data.length),B(g)&&!j(g)&&d(a(b(g),!1))}else{if(g=z(h.container(),h.offset()),k(g)&&p(g,0),B(g)&&h.isAtEnd()){return d(a(b(g),!1)),l}m=z(h.container(),h.offset()-1),B(m)&&!j(m)&&(I(m)||I(g)||!B(g))&&d(a(b(m),!1)),B(g)&&d(a(b(g),!0))}}return l}function q(v,e,b){function h(){return k(v)?0===e:0===e}function c(){return k(v)?e>=v.data.length:e>=v.childNodes.length}function u(){var a;return a=v.ownerDocument.createRange(),a.setStart(v,e),a.setEnd(v,e),a}function y(){return b||(b=N(new q(v,e))),b}function g(){return y().length>0}function p(a){return a&&v===a.container()&&e===a.offset()}function m(a){return z(v,a?e-1:e)}return{container:L.constant(v),offset:L.constant(e),toRange:u,getClientRects:y,isVisible:g,isAtStart:h,isAtEnd:c,isEqual:p,getNode:m}}var M=w.isElement,K=H.isCaretCandidate,I=w.matchStyleValues("display","block table"),F=w.matchStyleValues("float","left right"),B=L.and(M,K,L.negate(F)),J=L.negate(w.matchStyleValues("white-space","pre pre-line pre-wrap")),k=w.isText,j=w.isBr,O=E.nodeIndex,z=A.getNode;return q.fromRangeStart=function(a){return new q(a.startContainer,a.startOffset)},q.fromRangeEnd=function(a){return new q(a.endContainer,a.endOffset)},q.after=function(a){return new q(a.parentNode,O(a)+1)},q.before=function(a){return new q(a.parentNode,O(a))},q}),br(bs,[bO,bl,bh,by,cB],function(I,q,B,x,E){function A(c){var a=c.parentNode;return j(a)?A(a):a}function L(a){return a?x.reduce(a.childNodes,function(d,c){return j(c)&&"BR"!=c.nodeName?d=d.concat(L(c)):d.push(c),d},[]):[]}function w(c,a){for(;(c=c.previousSibling)&&G(c);){a+=c.data.length}return a}function D(a){return function(c){return a===c}}function K(c){var e,a,d;return e=L(A(c)),a=x.findIndex(e,D(c),c),e=e.slice(0,a+1),d=x.reduce(e,function(h,f,g){return G(f)&&G(e[g-1])&&h++,h},0),e=x.filter(e,I.matchNodeNames(c.nodeName)),a=x.findIndex(e,D(c),c),a-d}function k(c){var a;return a=G(c)?"text()":c.nodeName.toLowerCase(),a+"["+K(c)+"]"}function J(d,a,f){var c=[];for(a=a.parentNode;a!=d&&(!f||!f(a));a=a.parentNode){c.push(a)}return c}function H(m,g){var r,e,d=[],s,p,n;return r=g.container(),e=g.offset(),G(r)?s=w(r,e):(p=r.childNodes,e>=p.length?(s="after",e=p.length-1):s="before",r=p[e]),d.push(k(r)),n=J(m,r),n=x.filter(n,B.negate(I.isBogus)),d=d.concat(x.map(n,function(a){return k(a)})),d.reverse().join("/")+","+s}function F(c,e,a){var d=L(c);return d=x.filter(d,function(g,f){return !G(g)||!G(d[f-1])}),d=x.filter(d,I.matchNodeNames(e)),d[a]}function C(d,a){for(var g=d,c=0,f;G(g);){if(f=g.data.length,a>=c&&c+f>=a){d=g,a-=c;break}if(!G(g.nextSibling)){d=g,a=f;break}c+=f,g=g.nextSibling}return a>d.data.length&&(a=d.data.length),new E(d,a)}function z(f,d){var h,g,c;return d?(h=d.split(","),d=h[0].split("/"),c=h.length>1?h[1]:"before",g=x.reduce(d,function(i,a){return(a=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(a))?("text()"===a[1]&&(a[1]="#text"),F(i,a[1],parseInt(a[2],10))):null},f),g?G(g)?C(g,parseInt(c,10)):(c="after"===c?b(g)+1:b(g),new E(g.parentNode,c)):null):null}var G=I.isText,j=I.isBogus,b=q.nodeIndex;return{create:H,resolve:z}}),br(bB,[bE,bu,bA,bs,cB,bO],function(h,d,k,g,c,j){function b(i){var e=i.dom;this.getBookmark=function(s,z){function G(p,u){var m=0;return d.each(e.select(p),function(v){return"all"!==v.getAttribute("data-mce-bogus")?v==u?!1:void m++:void 0}),m}function t(p){function m(v){var y,w,u,x=v?"start":"end";y=p[x+"Container"],w=p[x+"Offset"],1==y.nodeType&&"TR"==y.nodeName&&(u=y.childNodes,y=u[Math.min(v?w:w-1,u.length-1)],y&&(w=v?0:y.childNodes.length,p["set"+(v?"Start":"End")](y,w)))}return m(!0),m(),p}function r(u){function m(J,C){var I=J[C?"startContainer":"endContainer"],y=J[C?"startOffset":"endOffset"],K=[],w,H,x=0;if(3==I.nodeType){if(z){for(w=I.previousSibling;w&&3==w.nodeType;w=w.previousSibling){y+=w.nodeValue.length}}K.push(y)}else{H=I.childNodes,y>=H.length&&H.length&&(x=1,y=Math.max(0,H.length-1)),K.push(e.nodeIndex(H[y],z)+x)}for(;I&&I!=v;I=I.parentNode){K.push(e.nodeIndex(I,z))}return K}var v=e.getRoot(),p={};return p.start=m(u,!0),i.isCollapsed()||(p.end=m(u)),p}function o(p){function m(v){var u;if(k.isCaretContainer(v)){if(j.isText(v)&&k.isCaretContainerBlock(v)&&(v=v.parentNode),u=v.previousSibling,f(u)){return u}if(u=v.nextSibling,f(u)){return u}}}return m(p.startContainer)||m(p.endContainer)}var n,l,q,F,B,A,a="&#xFEFF;",D;if(2==s){return A=i.getNode(),B=A?A.nodeName:null,n=i.getRng(),f(A)||"IMG"==B?{name:B,index:G(B,A)}:i.tridentSel?i.tridentSel.getBookmark(s):(A=o(n),A?(B=A.tagName,{name:B,index:G(B,A)}):r(n))}if(3==s){return n=i.getRng(),{start:g.create(e.getRoot(),c.fromRangeStart(n)),end:g.create(e.getRoot(),c.fromRangeEnd(n))}}if(s){return{rng:i.getRng()}}if(n=i.getRng(),q=e.uniqueId(),F=i.isCollapsed(),D="overflow:hidden;line-height:0px",n.duplicate||n.item){if(n.item){return A=n.item(0),B=A.nodeName,{name:B,index:G(B,A)}}l=n.duplicate();try{n.collapse(),n.pasteHTML('<span data-mce-type="bookmark" id="'+q+'_start" style="'+D+'">'+a+"</span>"),F||(l.collapse(!1),n.moveToElementText(l.parentElement()),0===n.compareEndPoints("StartToEnd",l)&&l.move("character",-1),l.pasteHTML('<span data-mce-type="bookmark" id="'+q+'_end" style="'+D+'">'+a+"</span>"))}catch(E){return null}}else{if(A=i.getNode(),B=A.nodeName,"IMG"==B){return{name:B,index:G(B,A)}}l=t(n.cloneRange()),F||(l.collapse(!1),l.insertNode(e.create("span",{"data-mce-type":"bookmark",id:q+"_end",style:D},a))),n=t(n),n.collapse(!0),n.insertNode(e.create("span",{"data-mce-type":"bookmark",id:q+"_start",style:D},a))}return i.moveToBookmark({id:q,keep:1}),{id:q}},this.moveToBookmark=function(q){function t(u){var p=q[u?"start":"end"],s,n,B,m;if(p){for(B=p[0],n=x,s=p.length-1;s>=1;s--){if(m=n.childNodes,p[s]>m.length-1){return}n=m[p[s]]}3===n.nodeType&&(B=Math.min(p[0],n.nodeValue.length)),1===n.nodeType&&(B=Math.min(p[0],n.childNodes.length)),u?z.setStart(n,B):z.setEnd(n,B)}return !0}function l(C){var p=e.get(q.id+"_"+C),D,m,B,E,n=q.keep;if(p&&(D=p.parentNode,"start"==C?(n?(D=p.firstChild,m=1):m=e.nodeIndex(p),w=v=D,r=a=m):(n?(D=p.firstChild,m=1):m=e.nodeIndex(p),v=D,a=m),!n)){for(E=p.previousSibling,B=p.nextSibling,d.each(d.grep(p.childNodes),function(o){3==o.nodeType&&(o.nodeValue=o.nodeValue.replace(/\uFEFF/g,""))});p=e.get(q.id+"_"+C);){e.remove(p,1)}E&&B&&E.nodeType==B.nodeType&&3==E.nodeType&&!h.opera&&(m=E.nodeValue.length,E.appendData(B.nodeValue),e.remove(B),"start"==C?(w=v=E,r=a=m):(v=E,a=m))}}function A(m){return !e.isBlock(m)||m.innerHTML||h.ie||(m.innerHTML='<br data-mce-bogus="1" />'),m}function y(){var n,m;return n=e.createRng(),m=g.resolve(e.getRoot(),q.start),n.setStart(m.container(),m.offset()),m=g.resolve(e.getRoot(),q.end),n.setEnd(m.container(),m.offset()),n}var z,x,w,v,r,a;if(q){if(d.isArray(q.start)){if(z=e.createRng(),x=e.getRoot(),i.tridentSel){return i.tridentSel.moveToBookmark(q)}t(!0)&&t()&&i.setRng(z)}else{"string"==typeof q.start?i.setRng(y(q)):q.id?(l("start"),l("end"),w&&(z=e.createRng(),z.setStart(A(w),r),z.setEnd(A(v),a),i.setRng(z))):q.name?i.select(e.select(q.name)[q.index]):q.rng&&i.setRng(q.rng)}}}}var f=j.isContentEditableFalse;return b.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},b}),br(bS,[bi,b5,ci,bY,bB,bO,bE,bu],function(p,h,b,k,g,v,x,j){function t(n,f,d,c){var l=this;l.dom=n,l.win=f,l.serializer=d,l.editor=c,l.bookmarkManager=new g(l),l.controlSelection=new b(l,c),l.win.getSelection||(l.tridentSel=new h(l))}var w=j.each,q=j.trim,m=x.ie;return t.prototype={setCursorLocation:function(d,a){var f=this,c=f.dom.createRng();d?(c.setStart(d,a),c.setEnd(d,a),f.setRng(c),f.collapse(!1)):(f._moveEndPoint(c,f.editor.getBody(),!0),f.setRng(c))},getContent:function(z){var B=this,y=B.getRng(),f=B.dom.create("body"),A=B.getSel(),d,u,c;return z=z||{},d=u="",z.get=!0,z.format=z.format||"html",z.selection=!0,B.editor.fire("BeforeGetContent",z),"text"==z.format?B.isCollapsed()?"":y.text||(A.toString?A.toString():""):(y.cloneContents?(c=y.cloneContents(),c&&f.appendChild(c)):y.item!==bp||y.htmlText!==bp?(f.innerHTML="<br>"+(y.item?y.item(0).outerHTML:y.htmlText),f.removeChild(f.firstChild)):f.innerHTML=y.toString(),/^\s/.test(f.innerHTML)&&(d=" "),/\s+$/.test(f.innerHTML)&&(u=" "),z.getInner=!0,z.content=B.isCollapsed()?"":d+B.serializer.serialize(f,z)+u,B.editor.fire("GetContent",z),z.content)},setContent:function(z,B){var f=this,c=f.getRng(),y,d=f.win.document,A,C;if(B=B||{format:"html"},B.set=!0,B.selection=!0,B.content=z,B.no_events||f.editor.fire("BeforeSetContent",B),z=B.content,c.insertNode){z+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=z:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=z:c.createContextualFragment?c.insertNode(c.createContextualFragment(z)):(A=d.createDocumentFragment(),C=d.createElement("div"),A.appendChild(C),C.outerHTML=z,c.insertNode(A))),y=f.dom.get("__caret"),c=d.createRange(),c.setStartBefore(y),c.setEndBefore(y),f.setRng(c),f.dom.remove("__caret");try{f.setRng(c)}catch(u){}}else{c.item&&(d.execCommand("Delete",!1,null),c=f.getRng()),/^\s+/.test(z)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+z),f.dom.remove("__mce_tmp")):c.pasteHTML(z)}B.no_events||f.editor.fire("SetContent",B)},getStart:function(s){var f=this,y=f.getRng(),l,d,u,c;if(y.duplicate||y.item){if(y.item){return y.item(0)}for(u=y.duplicate(),u.collapse(1),l=u.parentElement(),l.ownerDocument!==f.dom.doc&&(l=f.dom.getRoot()),d=c=y.parentElement();c=c.parentNode;){if(c==l){l=d;break}}return l}return l=y.startContainer,1==l.nodeType&&l.hasChildNodes()&&(s&&y.collapsed||(l=l.childNodes[Math.min(l.childNodes.length-1,y.startOffset)])),l&&3==l.nodeType?l.parentNode:l},getEnd:function(f){var c=this,l=c.getRng(),d,a;return l.duplicate||l.item?l.item?l.item(0):(l=l.duplicate(),l.collapse(0),d=l.parentElement(),d.ownerDocument!==c.dom.doc&&(d=c.dom.getRoot()),d&&"BODY"==d.nodeName?d.lastChild||d:d):(d=l.endContainer,a=l.endOffset,1==d.nodeType&&d.hasChildNodes()&&(f&&l.collapsed||(d=d.childNodes[a>0?a-1:a])),d&&3==d.nodeType?d.parentNode:d)},getBookmark:function(c,a){return this.bookmarkManager.getBookmark(c,a)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(f,c){var s=this,d=s.dom,a=d.createRng(),l;if(s.lastFocusBookmark=null,f){if(!c&&s.controlSelection.controlSelect(f)){return}l=d.nodeIndex(f),a.setStart(f.parentNode,l),a.setEnd(f.parentNode,l+1),c&&(s._moveEndPoint(a,f,!0),s._moveEndPoint(a,f)),s.setRng(a)}return f},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,f=a.getRng(),c;f.item&&(c=f.item(0),f=a.win.document.body.createTextRange(),f.moveToElementText(c)),f.collapse(!!d),a.setRng(f)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(B){function F(i,a,l){try{return a.compareBoundaryPoints(i,l)}catch(c){return -1}}var y=this,d,A,f,D,G,z;if(!y.win){return null}if(D=y.win.document,!B&&y.lastFocusBookmark){var C=y.lastFocusBookmark;return C.startContainer?(A=D.createRange(),A.setStart(C.startContainer,C.startOffset),A.setEnd(C.endContainer,C.endOffset)):A=C,A}if(B&&y.tridentSel){return y.tridentSel.getRangeAt(0)}try{(d=y.getSel())&&(A=d.rangeCount>0?d.getRangeAt(0):d.createRange?d.createRange():D.createRange())}catch(E){}if(z=y.editor.fire("GetSelectionRange",{range:A}),z.range!==A){return z.range}if(m&&A&&A.setStart&&D.selection){try{G=D.selection.createRange()}catch(E){}G&&G.item&&(f=G.item(0),A=D.createRange(),A.setStartBefore(f),A.setEndAfter(f))}return A||(A=D.createRange?D.createRange():D.body.createTextRange()),A.setStart&&9===A.startContainer.nodeType&&A.collapsed&&(f=y.dom.getRoot(),A.setStart(f,0),A.setEnd(f,0)),y.selectedRange&&y.explicitRange&&(0===F(A.START_TO_START,A,y.selectedRange)&&0===F(A.END_TO_END,A,y.selectedRange)?A=y.explicitRange:(y.selectedRange=null,y.explicitRange=null)),A},setRng:function(s,f){var y=this,l,d,u;if(s){if(s.select){y.explicitRange=null;try{s.select()}catch(c){}}else{if(y.tridentSel){if(s.cloneRange){try{y.tridentSel.addRange(s)}catch(c){}}}else{if(l=y.getSel(),u=y.editor.fire("SetSelectionRange",{range:s}),s=u.range,l){y.explicitRange=s;try{l.removeAllRanges(),l.addRange(s)}catch(c){}f===!1&&l.extend&&(l.collapse(s.endContainer,s.endOffset),l.extend(s.startContainer,s.startOffset)),y.selectedRange=l.rangeCount>0?l.getRangeAt(0):null}s.collapsed||s.startContainer!=s.endContainer||!l.setBaseAndExtent||x.ie||s.endOffset-s.startOffset<2&&s.startContainer.hasChildNodes()&&(d=s.startContainer.childNodes[s.startOffset],d&&"IMG"==d.tagName&&y.getSel().setBaseAndExtent(d,0,d,1))}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function z(i,a){for(var l=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||l}var B=this,f=B.getRng(),c,y=f.startContainer,d=f.endContainer,A=f.startOffset,C=f.endOffset,u=B.dom.getRoot();return f?f.setStart?(c=f.commonAncestorContainer,!f.collapsed&&(y==d&&2>C-A&&y.hasChildNodes()&&(c=y.childNodes[A]),3===y.nodeType&&3===d.nodeType&&(y=y.length===A?z(y.nextSibling,!0):y.parentNode,d=0===C?z(d.previousSibling,!1):d.parentNode,y&&y===d))?y:c&&3==c.nodeType?c.parentNode:c):(c=f.item?f.item(0):f.parentElement(),c.ownerDocument!==B.win.document&&(c=u),c):u},getSelectedBlocks:function(f,A){var y=this,e=y.dom,z,d,u=[];if(d=e.getRoot(),f=e.getParent(f||y.getStart(),e.isBlock),A=e.getParent(A||y.getEnd(),e.isBlock),f&&f!=d&&u.push(f),f&&A&&f!=A){z=f;for(var c=new p(f,d);(z=c.next())&&z!=A;){e.isBlock(z)&&u.push(z)}}return A&&f!=A&&A!=d&&u.push(A),u},isForward:function(){var d=this.dom,a=this.getSel(),f,c;return a&&a.anchorNode&&a.focusNode?(f=d.createRng(),f.setStart(a.anchorNode,a.anchorOffset),f.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),f.compareBoundaryPoints(f.START_TO_START,c)<=0):!0},normalize:function(){var c=this,a=c.getRng();return x.range&&new k(c.dom).normalize(a)&&c.setRng(a,c.isForward()),a},selectorChanged:function(d,a){var f=this,c;return f.selectorChangedData||(f.selectorChangedData={},c={},f.editor.on("NodeChange",function(s){var r=s.element,n=f.dom,u=n.getParents(r,null,n.getRoot()),l={};w(f.selectorChangedData,function(o,i){w(u,function(e){return n.is(e,i)?(c[i]||(w(o,function(y){y(!0,{node:e,selector:i,parents:u})}),c[i]=o),l[i]=o,!1):void 0})}),w(c,function(i,o){l[o]||(delete c[o],w(i,function(y){y(!1,{node:r,selector:o,parents:u})}))})})),f.selectorChangedData[d]||(f.selectorChangedData[d]=[]),f.selectorChangedData[d].push(a),f},getScrollContainer:function(){for(var c,a=this.dom.getRoot();a&&"BODY"!=a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(D,H){function z(f){for(var c=0,i=0,d=f;d&&d.nodeType;){c+=d.offsetLeft||0,i+=d.offsetTop||0,d=d.offsetParent}return{x:c,y:i}}var a,B,y=this,I=y.dom,A=I.getRoot(),F,G,E=0;if(v.isElement(D)){if(H===!1&&(E=D.offsetHeight),"BODY"!=A.nodeName){var C=y.getScrollContainer();if(C){return a=z(D).y-z(C).y+E,G=C.clientHeight,F=C.scrollTop,void ((F>a||a+25>F+G)&&(C.scrollTop=F>a?a:a-G+25))}}B=I.getViewPort(y.editor.getWin()),a=I.getPos(D).y+E,F=B.y,G=B.h,(a<B.y||a+25>F+G)&&y.editor.getWin().scrollTo(0,F>a?a:a-G+25)}},placeCaretAt:function(c,a){this.setRng(k.getCaretRangeFromPoint(c,a,this.editor.getDoc()))},_moveEndPoint:function(e,s,f){var d=s,l=new p(s,d),c=this.dom.schema.getNonEmptyElements();do{if(3==s.nodeType&&0!==q(s.nodeValue).length){return void (f?e.setStart(s,0):e.setEnd(s,s.nodeValue.length))}if(c[s.nodeName]&&!/^(TD|TH)$/.test(s.nodeName)){return void (f?e.setStartBefore(s):"BR"==s.nodeName?e.setEndBefore(s):e.setEndAfter(s))}if(x.ie&&x.ie<11&&this.dom.isBlock(s)&&this.dom.isEmpty(s)){return void (f?e.setStart(s,0):e.setEnd(s,0))}}while(s=f?l.next():l.prev());"BODY"==d.nodeName&&(f?e.setStart(d,0):e.setEnd(d,d.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},t}),br(bT,[bB,bu],function(c,a){function d(e){this.compare=function(j,g){function h(i){var k={};return b(e.getAttribs(i),function(m){var l=m.nodeName.toLowerCase();0!==l.indexOf("_")&&"style"!==l&&"data-mce-style"!==l&&(k[l]=e.getAttrib(i,l))}),k}function f(l,i){var m,k;for(k in l){if(l.hasOwnProperty(k)){if(m=i[k],"undefined"==typeof m){return !1}if(l[k]!=m){return !1}delete i[k]}}for(k in i){if(i.hasOwnProperty(k)){return !1}}return !0}return j.nodeName!=g.nodeName?!1:f(h(j),h(g))&&f(e.parseStyle(e.getAttrib(j,"style")),e.parseStyle(e.getAttrib(g,"style")))?!c.isBookmarkNode(j)&&!c.isBookmarkNode(g):!1}}var b=a.each;return d}),br(ca,[bu],function(b){function a(j,n){function d(i){return i.replace(/%(\w+)/g,"")}var h,f,m=j.dom,p="",g,k;if(k=j.settings.preview_styles,k===!1){return""}if(k||(k="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof n){if(n=j.formatter.get(n),!n){return}n=n[0]}return h=n.block||n.inline||"span",f=m.create(h),c(n.styles,function(l,i){l=d(l),l&&m.setStyle(f,i,l)}),c(n.attributes,function(l,i){l=d(l),l&&m.setAttrib(f,i,l)}),c(n.classes,function(i){i=d(i),m.hasClass(f,i)||m.addClass(f,i)}),j.fire("PreviewFormats"),m.setStyles(f,{position:"absolute",left:-65535}),j.getBody().appendChild(f),g=m.getStyle(j.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,c(k.split(" "),function(e){var i=m.getStyle(f,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=m.getStyle(j.getBody(),e,!0),"#ffffff"==m.toHex(i).toLowerCase())||"color"==e&&"#000000"==m.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===g){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*g+"px"}"border"==e&&i&&(p+="padding:0 2px;"),p+=e+":"+i+";"}}),j.fire("AfterPreviewFormats"),m.remove(f),p}var c=b.each;return{getCssText:a}}),br(cg,[bi,bY,bB,bT,bu,ca],function(d,b,g,c,a,f){return function(dz){function dk(h){return h.nodeType&&(h=h.nodeName),!!dz.schema.getTextBlockElements()[h.toLowerCase()]}function dp(h){return/^(TH|TD)$/.test(h.nodeName)}function dw(h){return h&&/^(IMG)$/.test(h.nodeName)}function dj(j,h){return dl.getParents(j,h,dl.getRoot())}function dv(h){return 1===h.nodeType&&"_mce_caret"===h.id}function du(){dm({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(j,h,k){c9(k,function(l,m){dl.setAttrib(j,m,l)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),c9("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(h){dm(h,{block:h,remove:"all"})}),dm(dz.settings.formats)}function ds(){dz.addShortcut("meta+b","bold_desc","Bold"),dz.addShortcut("meta+i","italic_desc","Italic"),dz.addShortcut("meta+u","underline_desc","Underline");for(var h=1;6>=h;h++){dz.addShortcut("access+"+h,"",["FormatBlock",!1,"h"+h])}dz.addShortcut("access+7","",["FormatBlock",!1,"p"]),dz.addShortcut("access+8","",["FormatBlock",!1,"div"]),dz.addShortcut("access+9","",["FormatBlock",!1,"address"])}function dn(h){return h?c6[h]:c6}function dm(j,h){j&&("string"!=typeof j?c9(j,function(l,k){dm(k,l)}):(h=h.length?h:[h],c9(h,function(k){k.deep===dd&&(k.deep=!k.selector),k.split===dd&&(k.split=!k.selector||k.inline),k.remove===dd&&k.selector&&!k.inline&&(k.remove="none"),k.selector&&k.inline&&(k.mixed=!0,k.block_expand=!0),"string"==typeof k.classes&&(k.classes=k.classes.split(/\s+/))}),c6[j]=h))}function dt(h){return h&&c6[h]&&delete c6[h],c6}function di(j){var h;return dz.dom.getParent(j,function(k){return h=dz.dom.getStyle(k,"text-decoration"),h&&"none"!==h}),h}function dc(j){var h;1===j.nodeType&&j.parentNode&&1===j.parentNode.nodeType&&(h=di(j.parentNode),dz.dom.getStyle(j,"color")&&h?dz.dom.setStyle(j,"text-decoration",h):dz.dom.getStyle(j,"text-decoration")===h&&dz.dom.setStyle(j,"text-decoration",null))}function dx(F,s,j){function x(p,l){if(l=l||E,p){if(l.onformat&&l.onformat(p,l,s,j),c9(l.styles,function(u,v){dl.setStyle(p,v,c0(u,s))}),l.styles){var h=dl.getAttrib(p,"style");h&&p.setAttribute("data-mce-style",h)}c9(l.attributes,function(u,v){dl.setAttrib(p,v,c0(u,s))}),c9(l.classes,function(u){u=c0(u,s),dl.hasClass(p,u)||dl.addClass(p,u)})}}function q(){function u(H,I){var l=new d(I);for(j=l.current();j;j=l.prev()){if(j.childNodes.length>1||j==H||"BR"==j.tagName){return j}}}var G=dz.selection.getRng(),p=G.startContainer,C=G.endContainer;if(p!=C&&0===G.endOffset){var v=u(p,C),h=3==v.nodeType?v.length:v.childNodes.length;G.setEnd(v,h)}return G}function w(H,C,I){var u=[],p,G,v=!0;p=E.inline||E.block,G=dl.create(p),x(G),n.walk(H,function(J){function l(N){var M,L,P,K,O;return O=v,M=N.nodeName.toLowerCase(),L=N.parentNode.nodeName.toLowerCase(),1===N.nodeType&&c8(N)&&(O=v,v="true"===c8(N),K=!0),cL(M,"br")?(h=0,void (E.block&&dl.remove(N))):E.wrapper&&dg(N,F,s)?void (h=0):v&&!K&&E.block&&!E.wrapper&&dk(M)&&o(L,p)?(N=dl.rename(N,p),x(N),u.push(N),void (h=0)):E.selector&&(c9(B,function(Q){return"collapsed" in Q&&Q.collapsed!==m?void 0:dl.is(N,Q.selector)&&!dv(N)?(x(N,Q),P=!0,!1):void 0}),!E.inline||P)?void (h=0):void (!v||K||!o(p,M)||!o(L,p)||!I&&3===N.nodeType&&1===N.nodeValue.length&&65279===N.nodeValue.charCodeAt(0)||dv(N)||E.inline&&cS(N)?(h=0,c9(c7(N.childNodes),l),K&&(v=O),h=0):(h||(h=dl.clone(G,dy),N.parentNode.insertBefore(h,N),u.push(h)),h.appendChild(N)))}var h;c9(J,l)}),E.links===!0&&c9(u,function(l){function h(J){"A"===J.nodeName&&x(J,E),c9(c7(J.childNodes),h)}h(l)}),c9(u,function(J){function l(M){var L=0;return c9(M.childNodes,function(N){cQ(N)||c5(N)||L++}),L}function K(M){var L,N;return c9(M.childNodes,function(O){return 1!=O.nodeType||c5(O)||dv(O)?void 0:(L=O,dy)}),L&&!c5(L)&&bt(L,E)&&(N=dl.clone(L,dy),x(N),dl.replace(N,M,r),dl.remove(L,1)),N||M}var h;if(h=l(J),(u.length>1||!cS(J))&&0===h){return void dl.remove(J,1)}if(E.inline||E.wrapper){if(E.exact||1!==h||(J=K(J)),c9(B,function(L){c9(dl.select(L.inline,J),function(M){c5(M)||cO(L,s,M,L.exact?M:null)})}),dg(J.parentNode,F,s)){return dl.remove(J,1),J=0,r}E.merge_with_parents&&dl.getParent(J.parentNode,function(L){return dg(L,F,s)?(dl.remove(J,1),J=0,r):void 0}),J&&E.merge_siblings!==!1&&(J=db(cX(J),J),J=db(J,cX(J,r)))}})}var B=dn(F),E=B[0],A,y,m=!j&&dr.isCollapsed();if("false"!==c8(dr.getNode())){if(E){if(j){j.nodeType?(y=dl.createRng(),y.setStartBefore(j),y.setEndAfter(j),w(cN(y,B),null,!0)):w(j,null,!0)}else{if(m&&E.inline&&!dl.select("td.mce-item-selected,th.mce-item-selected").length){at("apply",F,s)}else{var z=dz.selection.getNode();cW||!B[0].defaultBlock||dl.getParent(z,dl.isBlock)||dx(B[0].defaultBlock),dz.selection.setRng(q()),A=dr.getBookmark(),w(cN(dr.getRng(r),B),A),E.styles&&(E.styles.color||E.styles.textDecoration)&&(dh(z,dc,"childNodes"),dc(z)),dr.moveToBookmark(A),be(dr.getRng(r)),dz.nodeChanged()}}}}else{j=dr.getNode();for(var D=0,k=B.length;k>D;D++){if(B[D].ceFalseOverride&&dl.is(j,B[D].selector)){return void x(j,B[D])}}}}function c1(A,H,q,j){function u(y){var J,x,C,h,p;if(1===y.nodeType&&c8(y)&&(h=E,E="true"===c8(y),p=!0),J=c7(y.childNodes),E&&!p){for(x=0,C=v.length;C>x&&!cO(v[x],H,y,y);x++){}}if(l.deep&&J.length){for(x=0,C=J.length;C>x;x++){u(J[x])}p&&(E=h)}}function m(p){var h;return c9(dj(p.parentNode).reverse(),function(x){var s;h||"_start"==x.id||"_end"==x.id||(s=dg(x,A,H,j),s&&s.split!==!1&&(h=x))}),h}function I(J,x,h,C){var p,L,N,y,K,M;if(J){for(M=J.parentNode,p=x.parentNode;p&&p!=M;p=p.parentNode){for(L=dl.clone(p,dy),K=0;K<v.length;K++){if(cO(v[K],H,L,L)){L=0;break}}L&&(N&&L.appendChild(N),y||(y=L),N=L)}!C||l.mixed&&cS(J)||(x=dl.split(J,x)),N&&(h.parentNode.insertBefore(N,h),y.appendChild(h))}return x}function D(h){return I(m(h),h,h,!0)}function B(p){var h=dl.get(p?"_start":"_end"),s=h[p?"firstChild":"lastChild"];return c5(s)&&(s=s[p?"firstChild":"lastChild"]),3==s.nodeType&&0===s.data.length&&(s=p?h.previousSibling||h.nextSibling:h.nextSibling||h.previousSibling),dl.remove(h,!0),s}function z(s){var h,x,p=s.commonAncestorContainer;if(s=cN(s,v,r),l.split){if(h=t(s,r),x=t(s),h!=x){if(/^(TR|TH|TD)$/.test(h.nodeName)&&h.firstChild&&(h="TR"==h.nodeName?h.firstChild.firstChild||h:h.firstChild||h),p&&/^T(HEAD|BODY|FOOT|R)$/.test(p.nodeName)&&dp(x)&&x.firstChild&&(x=x.firstChild||x),dl.isChildOf(h,x)&&!cS(x)&&!dp(h)&&!dp(x)){return h=cR(h,"span",{id:"_start","data-mce-type":"bookmark"}),D(h),void (h=B(r))}h=cR(h,"span",{id:"_start","data-mce-type":"bookmark"}),x=cR(x,"span",{id:"_end","data-mce-type":"bookmark"}),D(h),D(x),h=B(r),x=B()}else{h=x=D(h)}s.startContainer=h.parentNode?h.parentNode:h,s.startOffset=cT(h),s.endContainer=x.parentNode?x.parentNode:x,s.endOffset=cT(x)+1}n.walk(s,function(y){c9(y,function(C){u(C),1===C.nodeType&&"underline"===dz.dom.getStyle(C,"text-decoration")&&C.parentNode&&"underline"===di(C.parentNode)&&cO({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,C)})})}var v=dn(A),l=v[0],w,F,E=!0;if(q){return void (q.nodeType?(F=dl.createRng(),F.setStartBefore(q),F.setEndAfter(q),z(F)):z(q))}if("false"!==c8(dr.getNode())){dr.isCollapsed()&&l.inline&&!dl.select("td.mce-item-selected,th.mce-item-selected").length?at("remove",A,H,j):(w=dr.getBookmark(),z(dr.getRng(r)),dr.moveToBookmark(w),l.inline&&cY(A,H,dr.getStart())&&be(dr.getRng(!0)),dz.nodeChanged())}else{q=dr.getNode();for(var k=0,G=v.length;G>k&&(!v[k].ceFalseOverride||!cO(v[k],H,q,q));k++){}}}function df(k,h,l){var j=dn(k);!cY(k,h,l)||"toggle" in j[0]&&!j[0].toggle?dx(k,h,l):c1(k,h,l)}function dg(q,v,k,h){function p(C,A,z){var D,y,B=A[z],x;if(A.onmatch){return A.onmatch(C,A,z)}if(B){if(B.length===dd){for(D in B){if(B.hasOwnProperty(D)){if(y="attributes"===z?dl.getAttrib(C,D):c4(C,D),h&&!y&&!A.exact){return}if((!h||A.exact)&&!cL(y,c3(c0(B[D],k),D))){return}}}}else{for(x=0;x<B.length;x++){if("attributes"===z?dl.getAttrib(C,B[x]):c4(C,B[x])){return A}}}}return A}var j=dn(v),u,w,m;if(j&&q){for(w=0;w<j.length;w++){if(u=j[w],bt(q,u)&&p(q,u,"attributes")&&p(q,u,"styles")){if(m=u.classes){for(w=0;w<m.length;w++){if(!dl.hasClass(q,m[w])){return}}}return u}}}}function cY(l,j,m){function k(q){var p=dl.getRoot();return q===p?!1:(q=dl.getParent(q,function(s){return s.parentNode===p||!!dg(s,l,j,!0)}),dg(q,l,j))}var h;return m?k(m):(m=dr.getNode(),k(m)?r:(h=dr.getStart(),h!=m&&k(h)?r:dy))}function cP(l,j){var m,k=[],h={};return m=dr.getStart(),dl.getParent(m,function(s){var q,p;for(q=0;q<l.length;q++){p=l[q],!h[p]&&dg(s,p,j)&&(h[p]=!0,k.push(p))}},dl.getRoot()),k}function dA(m){var k=dn(m),q,l,j,p,h;if(k){for(q=dr.getStart(),l=dj(q),p=k.length-1;p>=0;p--){if(h=k[p].selector,!h||k[p].defaultBlock){return r}for(j=l.length-1;j>=0;j--){if(dl.is(l[j],h)){return r}}}}return dy}function ct(k,h,l){var j;return e||(e={},j={},dz.on("NodeChange",function(p){var m=dj(p.element),q={};m=a.grep(m,function(s){return 1==s.nodeType&&!s.getAttribute("data-mce-bogus")}),c9(e,function(u,s){c9(m,function(v){return dg(v,s,{},u.similar)?(j[s]||(c9(u,function(w){w(!0,{node:v,format:s,parents:m})}),j[s]=u),q[s]=u,!1):void 0})}),c9(j,function(s,u){q[u]||(delete j[u],c9(s,function(v){v(!1,{node:p.element,format:u,parents:m})}))})})),c9(k.split(","),function(m){e[m]||(e[m]=[],e[m].similar=l),e[m].push(h)}),this}function dq(h){return f.getCssText(dz,h)}function bt(j,h){return cL(j,h.inline)?r:cL(j,h.block)?r:h.selector?1==j.nodeType&&dl.is(j,h.selector):void 0}function cL(j,h){return j=j||"",h=h||"",j=""+(j.nodeName||j),h=""+(h.nodeName||h),j.toLowerCase()==h.toLowerCase()}function c4(j,h){return c3(dl.getStyle(j,h),h)}function c3(j,h){return("color"==h||"backgroundColor"==h)&&(j=dl.toHex(j)),"fontWeight"==h&&700==j&&(j="bold"),"fontFamily"==h&&(j=j.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+j}function c0(j,h){return"string"!=typeof j?j=j(h):h&&(j=j.replace(/%(\w+)/g,function(k,l){return h[l]||k})),j}function cQ(h){return h&&3===h.nodeType&&/^([\t \r\n]+|)$/.test(h.nodeValue)}function cR(k,h,l){var j=dl.create(h,l);return k.parentNode.insertBefore(j,k),j.appendChild(k),j}function cN(H,s,j){function x(y){function m(J){return"BR"==J.nodeName&&J.getAttribute("data-mce-bogus")&&!J.nextSibling}var v,l,I,h,p;if(v=l=y?A:F,h=y?"previousSibling":"nextSibling",p=dl.getRoot(),3==v.nodeType&&!cQ(v)&&(y?G>0:E<v.nodeValue.length)){return v}for(;;){if(!s[0].block_expand&&cS(l)){return l}for(I=l[h];I;I=I[h]){if(!c5(I)&&!cQ(I)&&!m(I)){return l}}if(l==p||l.parentNode==p){v=l;break}l=l.parentNode}return v}function q(l,h){for(h===dd&&(h=3===l.nodeType?l.length:l.childNodes.length);l&&l.hasChildNodes();){l=l.childNodes[h],l&&(h=3===l.nodeType?l.length:l.childNodes.length)}return{node:l,offset:h}}function w(l){for(var h=l;h;){if(1===h.nodeType&&c8(h)){return"false"===c8(h)?h:l}h=h.parentNode}return l}function D(v,K,p){function I(M,L){var O,N,l=M.nodeValue;return"undefined"==typeof L&&(L=p?l.length:0),p?(O=l.lastIndexOf(" ",L),N=l.lastIndexOf("\xa0",L),O=O>N?O:N,-1===O||j||O++):(O=l.indexOf(" ",L),N=l.indexOf("\xa0",L),O=-1!==O&&(-1===N||N>O)?O:N),O}var y,h,J,m;if(3===v.nodeType){if(J=I(v,K),-1!==J){return{container:v,offset:J}}m=v}for(y=new d(v,dl.getParent(v,cS)||dz.getBody());h=y[p?"prev":"next"]();){if(3===h.nodeType){if(m=h,J=I(h),-1!==J){return{container:h,offset:J}}}else{if(cS(h)){break}}}return m?(K=p?0:m.length,{container:m,offset:K}):void 0}function C(v,p){var l,y,h,m;for(3==v.nodeType&&0===v.nodeValue.length&&v[p]&&(v=v[p]),l=dj(v),y=0;y<l.length;y++){for(h=0;h<s.length;h++){if(m=s[h],!("collapsed" in m&&m.collapsed!==H.collapsed)&&dl.is(l[y],m.selector)){return l[y]}}}return v}function B(p,l){var m,h=dl.getRoot();if(s[0].wrapper||(m=dl.getParent(p,s[0].block,h)),m||(m=dl.getParent(3==p.nodeType?p.parentNode:p,function(v){return v!=h&&dk(v)})),m&&s[0].wrapper&&(m=dj(m,"ul,ol").reverse()[0]||m),!m){for(m=p;m[l]&&!cS(m[l])&&(m=m[l],!cL(m,"br"));){}}return m||p}var z,u,k,A=H.startContainer,G=H.startOffset,F=H.endContainer,E=H.endOffset;if(1==A.nodeType&&A.hasChildNodes()&&(z=A.childNodes.length-1,A=A.childNodes[G>z?z:G],3==A.nodeType&&(G=0)),1==F.nodeType&&F.hasChildNodes()&&(z=F.childNodes.length-1,F=F.childNodes[E>z?z:E-1],3==F.nodeType&&(E=F.nodeValue.length)),A=w(A),F=w(F),(c5(A.parentNode)||c5(A))&&(A=c5(A)?A:A.parentNode,A=A.nextSibling||A,3==A.nodeType&&(G=0)),(c5(F.parentNode)||c5(F))&&(F=c5(F)?F:F.parentNode,F=F.previousSibling||F,3==F.nodeType&&(E=F.length)),s[0].inline&&(H.collapsed&&(k=D(A,G,!0),k&&(A=k.container,G=k.offset),k=D(F,E),k&&(F=k.container,E=k.offset)),u=q(F,E),u.node)){for(;u.node&&0===u.offset&&u.node.previousSibling;){u=q(u.node.previousSibling)}u.node&&u.offset>0&&3===u.node.nodeType&&" "===u.node.nodeValue.charAt(u.offset-1)&&u.offset>1&&(F=u.node,F.splitText(u.offset-1))}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==A.nodeType&&0!==G||(A=x(!0)),s[0].inline&&3==F.nodeType&&E!==F.nodeValue.length||(F=x())),s[0].selector&&s[0].expand!==dy&&!s[0].inline&&(A=C(A,"previousSibling"),F=C(F,"nextSibling")),(s[0].block||s[0].selector)&&(A=B(A,"previousSibling"),F=B(F,"nextSibling"),s[0].block&&(cS(A)||(A=x(!0)),cS(F)||(F=x()))),1==A.nodeType&&(G=cT(A),A=A.parentNode),1==F.nodeType&&(E=cT(F)+1,F=F.parentNode),{startContainer:A,startOffset:G,endContainer:F,endOffset:E}}function cV(j,h){return h.links&&"A"==j.tagName}function cO(m,k,q,l){var j,p,h;if(!bt(q,m)&&!cV(q,m)){return dy}if("all"!=m.remove){for(c9(m.styles,function(s,u){s=c3(c0(s,k),u),"number"==typeof u&&(u=s,l=0),(m.remove_similar||!l||cL(c4(l,u),s))&&dl.setStyle(q,u,""),h=1}),h&&""===dl.getAttrib(q,"style")&&(q.removeAttribute("style"),q.removeAttribute("data-mce-style")),c9(m.attributes,function(u,s){var v;if(u=c0(u,k),"number"==typeof s&&(s=u,l=0),!l||cL(dl.getAttrib(l,s),u)){if("class"==s&&(u=dl.getAttrib(q,s),u&&(v="",c9(u.split(/\s+/),function(w){/mce\-\w+/.test(w)&&(v+=(v?" ":"")+w)}),v))){return void dl.setAttrib(q,s,v)}"class"==s&&q.removeAttribute("className"),i.test(s)&&q.removeAttribute("data-mce-"+s),q.removeAttribute(s)}}),c9(m.classes,function(s){s=c0(s,k),(!l||dl.hasClass(l,s))&&dl.removeClass(q,s)}),p=dl.getAttribs(q),j=0;j<p.length;j++){if(0!==p[j].nodeName.indexOf("_")){return dy}}}return"none"!=m.remove?(cU(q,m),r):void 0}function cU(l,j){function m(q,p,s){return q=cX(q,p,s),!q||"BR"==q.nodeName||cS(q)}var k=l.parentNode,h;j.block&&(cW?k==dl.getRoot()&&(j.list_block&&cL(l,j.list_block)||c9(c7(l.childNodes),function(p){o(cW,p.nodeName.toLowerCase())?h?h.appendChild(p):(h=cR(p,cW),dl.setAttribs(h,dz.settings.forced_root_block_attrs)):h=0})):cS(l)&&!cS(k)&&(m(l,dy)||m(l.firstChild,r,1)||l.insertBefore(dl.create("br"),l.firstChild),m(l,r)||m(l.lastChild,dy,1)||l.appendChild(dl.create("br")))),j.selector&&j.inline&&!cL(j.inline,l)||dl.remove(l,1)}function cX(j,h,k){if(j){for(h=h?"nextSibling":"previousSibling",j=k?j:j[h];j;j=j[h]){if(1==j.nodeType||!cQ(j)){return j}}}}function db(l,k){function p(s,q){for(j=s;j;j=j[q]){if(3==j.nodeType&&0!==j.nodeValue.length){return s}if(1==j.nodeType&&!c5(j)){return j}}return s}var j,m,h=new c(dl);if(l&&k&&(l=p(l,"previousSibling"),k=p(k,"nextSibling"),h.compare(l,k))){for(j=l.nextSibling;j&&j!=k;){m=j,j=j.nextSibling,l.appendChild(m)}return dl.remove(k),c9(c7(k.childNodes),function(q){l.appendChild(q)}),l}return k}function t(j,m){var k,h,l;return k=j[m?"startContainer":"endContainer"],h=j[m?"startOffset":"endOffset"],1==k.nodeType&&(l=k.childNodes.length-1,!m&&h&&h--,k=k.childNodes[h>l?l:h]),3===k.nodeType&&m&&h>=k.nodeValue.length&&(k=new d(k,dz.getBody()).next()||k),3!==k.nodeType||m||0!==h||(k=new d(k,dz.getBody()).prev()||k),k}function at(E,q,j,w){function m(l){var h=dl.create("span",{id:y,"data-mce-bogus":!0,style:C?"color:red":""});return l&&h.appendChild(dz.getDoc().createTextNode(cM)),h}function s(l,h){for(;l;){if(3===l.nodeType&&l.nodeValue!==cM||l.childNodes.length>1){return !1}h&&1===l.nodeType&&h.push(l),l=l.firstChild}return !0}function B(h){for(;h;){if(h.id===y){return h}h=h.parentNode}}function D(h){var l;if(h){for(l=new d(h,h),h=l.current();h;h=l.next()){if(3===h.nodeType){return h}}}}function A(p,h){var u,l;if(p){l=dr.getRng(!0),s(p)?(h!==!1&&(l.setStartBefore(p),l.setEndBefore(p)),dl.remove(p)):(u=D(p),u.nodeValue.charAt(0)===cM&&(u.deleteData(0,1),l.startContainer==u&&l.startOffset>0&&l.setStart(u,l.startOffset-1),l.endContainer==u&&l.endOffset>0&&l.setEnd(u,l.endOffset-1)),dl.remove(p,1)),dr.setRng(l)}else{if(p=B(dr.getStart()),!p){for(;p=dl.get(y);){A(p,!1)}}}}function z(){var G,v,u,p,F,h,H;G=dr.getRng(!0),p=G.startOffset,h=G.startContainer,H=h.nodeValue,v=B(dr.getStart()),v&&(u=D(v)),H&&p>0&&p<H.length&&/\w/.test(H.charAt(p))&&/\w/.test(H.charAt(p-1))?(F=dr.getBookmark(),G.collapse(!0),G=cN(G,dn(q)),G=n.split(G),dx(q,j,G),dr.moveToBookmark(F)):(v&&u.nodeValue===cM?dx(q,j,v):(v=m(!0),u=v.firstChild,G.insertNode(v),p=1,dx(q,j,v)),dr.setCursorLocation(u,p))}function x(){var J=dr.getRng(!0),O,M,F,L,N,K,I=[],G,v;for(O=J.startContainer,M=J.startOffset,N=O,3==O.nodeType&&(M!=O.nodeValue.length&&(L=!0),N=N.parentNode);N;){if(dg(N,q,j,w)){K=N;break}N.nextSibling&&(L=!0),I.push(N),N=N.parentNode}if(K){if(L){F=dr.getBookmark(),J.collapse(!0),J=cN(J,dn(q),!0),J=n.split(J),c1(q,j,J),dr.moveToBookmark(F)}else{for(v=m(),N=v,G=I.length-1;G>=0;G--){N.appendChild(dl.clone(I[G],!1)),N=N.firstChild}N.appendChild(dl.doc.createTextNode(cM)),N=N.firstChild;var H=dl.getParent(K,dk);H&&dl.isEmpty(H)?K.parentNode.replaceChild(v,K):dl.insertAfter(v,K),dr.setCursorLocation(N,1),dl.isEmpty(K)&&dl.remove(K)}}}function k(){var h;h=B(dr.getStart()),h&&!dl.isEmpty(h)&&dh(h,function(l){1!=l.nodeType||l.id===y||dl.isEmpty(l)||dl.setAttrib(l,"data-mce-bogus",null)},"childNodes")}var y="_mce_caret",C=dz.settings.caret_debug;dz._hasCaretEvents||(cZ=function(){var l=[],h;if(s(B(dr.getStart()),l)){for(h=l.length;h--;){dl.setAttrib(l[h],"data-mce-bogus","1")}}},da=function(l){var h=l.keyCode;A(),8==h&&dr.isCollapsed()&&dr.getStart().innerHTML==cM&&A(B(dr.getStart())),(37==h||39==h)&&A(B(dr.getStart())),k()},dz.on("SetContent",function(h){h.selection&&k()}),dz._hasCaretEvents=!0),"apply"==E?z():x()}function be(m){var v=m.startContainer,q=m.startOffset,k,u,j,p,h;if((m.startContainer!=m.endContainer||!dw(m.startContainer.childNodes[m.startOffset]))&&(3==v.nodeType&&q>=v.nodeValue.length&&(q=cT(v),v=v.parentNode,k=!0),1==v.nodeType)){for(p=v.childNodes,v=p[Math.min(q,p.length-1)],u=new d(v,dl.getParent(v,dl.isBlock)),(q>p.length-1||k)&&u.next(),j=u.current();j;j=u.next()){if(3==j.nodeType&&!cQ(j)){return h=dl.create("a",{"data-mce-bogus":"all"},cM),j.parentNode.insertBefore(h,j),m.setStart(j,0),dr.setRng(m),void dl.remove(h)}}}}var c6={},dl=dz.dom,dr=dz.selection,n=new b(dl),o=dz.schema.isValidChild,cS=dl.isBlock,cW=dz.settings.forced_root_block,cT=dl.nodeIndex,cM="\ufeff",i=/^(src|href|style)$/,dy=!1,r=!0,e,dd,c8=dl.getContentEditable,da,cZ,c5=g.isBookmarkNode,c9=a.each,c7=a.grep,dh=a.walk,c2=a.extend;c2(this,{get:dn,register:dm,unregister:dt,apply:dx,remove:c1,toggle:df,match:cY,matchAll:cP,matchNode:dg,canApply:dA,formatChanged:ct,getCssText:dq}),du(),ds(),dz.on("BeforeGetContent",function(h){cZ&&"raw"!=h.format&&cZ()}),dz.on("mouseup keydown",function(h){da&&da(h)})}}),br(cc,[cd,bE],function(b,a){return function(k){function g(){return k.serializer.getTrimmedContent()}function d(c){k.setDirty(c)}function j(c){f.typing=!1,f.add({},c)}var f=this,p=0,t=[],h,m,q=0;return k.on("init",function(){f.add()}),k.on("BeforeExecCommand",function(i){var c=i.command;"Undo"!=c&&"Redo"!=c&&"mceRepaint"!=c&&f.beforeChange()}),k.on("ExecCommand",function(i){var c=i.command;"Undo"!=c&&"Redo"!=c&&"mceRepaint"!=c&&j(i)}),k.on("ObjectResizeStart Cut",function(){f.beforeChange()}),k.on("SaveContent ObjectResized blur",j),k.on("DragEnd",j),k.on("KeyUp",function(e){var c=e.keyCode;e.isDefaultPrevented()||((c>=33&&36>=c||c>=37&&40>=c||45==c||13==c||e.ctrlKey)&&(j(),k.nodeChanged()),(46==c||8==c||a.mac&&(91==c||93==c))&&k.nodeChanged(),m&&f.typing&&(k.isDirty()||(d(t[0]&&g()!=t[0].content),k.isDirty()&&k.fire("change",{level:t[0],lastLevel:null})),k.fire("TypingUndo"),m=!1,k.nodeChanged()))}),k.on("KeyDown",function(i){var c=i.keyCode;if(!i.isDefaultPrevented()){if(c>=33&&36>=c||c>=37&&40>=c||45==c){return void (f.typing&&j(i))}var l=i.ctrlKey&&!i.altKey||i.metaKey;!(16>c||c>20)||224==c||91==c||f.typing||l||(f.beforeChange(),f.typing=!0,f.add({},i),m=!0)}}),k.on("MouseDown",function(c){f.typing&&j(c)}),k.addShortcut("meta+z","","Undo"),k.addShortcut("meta+y,meta+shift+z","","Redo"),k.on("AddUndo Undo Redo ClearUndos",function(c){c.isDefaultPrevented()||k.nodeChanged()}),f={data:t,typing:!1,beforeChange:function(){q||(h=k.selection.getBookmark(2,!0))},add:function(l,e){var s,u=k.settings,r;if(l=l||{},l.content=g(),q||k.removed){return null}if(r=t[p],k.fire("BeforeAddUndo",{level:l,lastLevel:r,originalEvent:e}).isDefaultPrevented()){return null}if(r&&r.content==l.content){return null}if(t[p]&&(t[p].beforeBookmark=h),u.custom_undo_redo_levels&&t.length>u.custom_undo_redo_levels){for(s=0;s<t.length-1;s++){t[s]=t[s+1]}t.length--,p=t.length}l.bookmark=k.selection.getBookmark(2,!0),p<t.length-1&&(t.length=p+1),t.push(l),p=t.length-1;var n={level:l,lastLevel:r,originalEvent:e};return k.fire("AddUndo",n),p>0&&(d(!0),k.fire("change",n)),l},undo:function(){var c;return f.typing&&(f.add(),f.typing=!1),p>0&&(c=t[--p],k.setContent(c.content,{format:"raw"}),k.selection.moveToBookmark(c.beforeBookmark),d(!0),k.fire("undo",{level:c})),c},redo:function(){var c;return p<t.length-1&&(c=t[++p],k.setContent(c.content,{format:"raw"}),k.selection.moveToBookmark(c.bookmark),d(!0),k.fire("redo",{level:c})),c},clear:function(){t=[],p=0,f.typing=!1,k.fire("ClearUndos")},hasUndo:function(){return p>0||f.typing&&t[0]&&g()!=t[0].content},hasRedo:function(){return p<t.length-1&&!this.typing},transact:function(c){f.beforeChange();try{q++,c()}finally{q--}f.add()}}}}),br(b3,[bi,bY,bE],function(c,a,d){var b=d.ie&&d.ie<11;return function(h){function e(cQ){function cT(o){return o&&n.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==n.getContentEditable(o)}function cR(o){return o&&/^(TD|TH|CAPTION)$/.test(o.nodeName)}function cP(v){var o;n.isBlock(v)&&(o=q.getRng(),v.appendChild(n.create("span",null,"\xa0")),q.select(v),v.lastChild.outerHTML="",q.setRng(o))}function cU(w){var o=w,x=[],v;if(o){for(;o=o.firstChild;){if(n.isBlock(o)){return}1!=o.nodeType||k[o.nodeName.toLowerCase()]||x.push(o)}for(v=x.length;v--;){o=x[v],!o.hasChildNodes()||o.firstChild==o.lastChild&&""===o.firstChild.nodeValue?n.remove(o):"A"==o.nodeName&&" "===(o.innerText||o.textContent)&&n.remove(o)}}}function bt(y){function z(o){for(;o;){if(1==o.nodeType||3==o.nodeType&&o.data&&/[\r\n\s]/.test(o.data)){return o}o=o.nextSibling}}var x,B,v,C=y,w;if(y){if(d.ie&&d.ie<9&&Q&&Q.firstChild&&Q.firstChild==Q.lastChild&&"BR"==Q.firstChild.tagName&&n.remove(Q.firstChild),/^(LI|DT|DD)$/.test(y.nodeName)){var A=z(y.firstChild);A&&/^(UL|OL|DL)$/.test(A.nodeName)&&y.insertBefore(n.doc.createTextNode("\xa0"),y.firstChild)}if(v=n.createRng(),d.ie||y.normalize(),y.hasChildNodes()){for(x=new c(y,y);B=x.current();){if(3==B.nodeType){v.setStart(B,0),v.setEnd(B,0);break}if(j[B.nodeName.toLowerCase()]){v.setStartBefore(B),v.setEndBefore(B);break}C=B,B=x.next()}B||(v.setStart(C,0),v.setEnd(C,0))}else{"BR"==y.nodeName?y.nextSibling&&n.isBlock(y.nextSibling)?((!u||9>u)&&(w=n.create("br"),y.parentNode.insertBefore(w,y)),v.setStartBefore(y),v.setEndBefore(y)):(v.setStartAfter(y),v.setEndAfter(y)):(v.setStart(y,0),v.setEnd(y,0))}q.setRng(v),n.remove(w),q.scrollIntoView(y)}}function Y(v){var o=g.forced_root_block;o&&o.toLowerCase()===v.tagName.toLowerCase()&&n.setAttribs(v,g.forced_root_block_attrs)}function cV(o){o.innerHTML=b?"":'<br data-mce-bogus="1">'}function cM(y){var w=cL,A,v,z,x=p.getTextInlineElements();if(y||"TABLE"==X?(A=n.create(y||i),Y(A)):A=Q.cloneNode(!1),z=A,g.keep_styles!==!1){do{if(x[w.nodeName]){if("_mce_caret"==w.id){continue}v=w.cloneNode(!1),n.setAttrib(v,"id",""),A.hasChildNodes()?(v.appendChild(A.firstChild),A.appendChild(v)):(z=v,A.appendChild(v))}}while(w=w.parentNode)}return b||(z.innerHTML='<br data-mce-bogus="1">'),A}function ae(v){var x,w,o;if(3==cL.nodeType&&(v?K>0:K<cL.nodeValue.length)){return !1}if(cL.parentNode==Q&&l&&!v){return !0}if(v&&1==cL.nodeType&&cL==Q.firstChild){return !0}if("TABLE"===cL.nodeName||cL.previousSibling&&"TABLE"==cL.previousSibling.nodeName){return l&&!v||!l&&v}for(x=new c(cL,Q),3==cL.nodeType&&(v&&0===K?x.prev():v||K!=cL.nodeValue.length||x.next());w=x.current();){if(1===w.nodeType){if(!w.getAttribute("data-mce-bogus")&&(o=w.nodeName.toLowerCase(),k[o]&&"br"!==o)){return !1}}else{if(3===w.nodeType&&!/^[ \t\r\n]*$/.test(w.nodeValue)){return !1}}v?x.prev():x.next()}return !0}function be(z,C){var x,v,w,D,y,B,A=i||"P";if(v=n.getParent(z,n.isBlock),!v||!cT(v)){if(v=v||cN,B=v==h.getBody()||cR(v)?v.nodeName.toLowerCase():v.parentNode.nodeName.toLowerCase(),!v.hasChildNodes()){return x=n.create(A),Y(x),v.appendChild(x),t.setStart(x,0),t.setEnd(x,0),x}for(D=z;D.parentNode!=v;){D=D.parentNode}for(;D&&!n.isBlock(D);){w=D,D=D.previousSibling}if(w&&p.isValidChild(B,A.toLowerCase())){for(x=n.create(A),Y(x),w.parentNode.insertBefore(x,w),D=w;D&&!n.isBlock(D);){y=D.nextSibling,x.appendChild(D),D=y}t.setStart(z,C),t.setEnd(z,C)}}return z}function ct(){function v(y){for(var x=ce[y?"firstChild":"lastChild"];x&&1!=x.nodeType;){x=x[y?"nextSibling":"previousSibling"]}return x===Q}function o(){var x=ce.parentNode;return/^(LI|DT|DD)$/.test(x.nodeName)?x:ce}if(ce!=h.getBody()){var w=ce.parentNode.nodeName;/^(OL|UL|LI)$/.test(w)&&(i="LI"),G=i?cM(i):n.create("BR"),v(!0)&&v()?"LI"==w?n.insertAfter(G,o()):n.replace(G,ce):v(!0)?"LI"==w?(n.insertAfter(G,o()),G.appendChild(n.doc.createTextNode(" ")),G.appendChild(ce)):ce.parentNode.insertBefore(G,ce):v()?(n.insertAfter(G,o()),cP(G)):(ce=o(),cO=t.cloneRange(),cO.setStartAfter(Q),cO.setEndAfter(ce),Z=cO.extractContents(),"LI"==i&&"LI"==Z.firstChild.nodeName?(G=Z.firstChild,n.insertAfter(Z,ce)):(n.insertAfter(Z,ce),n.insertAfter(G,ce))),n.remove(Q),bt(G),m.add()}}function J(){h.execCommand("InsertLineBreak",!1,cQ)}function cW(o){do{3===o.nodeType&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild}while(o)}function s(w){var o=n.getRoot(),x,v;for(x=w;x!==o&&"false"!==n.getContentEditable(x);){"true"===n.getContentEditable(x)&&(v=x),x=x.parentNode}return x!==o?v:o}function cS(v){var o;b||(v.normalize(),o=v.lastChild,(!o||/^(left|right)$/gi.test(n.getStyle(o,"float",!0)))&&n.add(v,"br"))}function r(){G=/^(H[1-6]|PRE|FIGURE)$/.test(X)&&"HGROUP"!=f?cM(i):cM(),g.end_container_on_empty_block&&cT(ce)&&n.isEmpty(Q)?G=n.split(ce,Q):n.insertAfter(G,Q),bt(G)}var t,cO,cN,cL,K,Q,u,at,G,Z,ce,X,f,i,l;if(t=q.getRng(!0),!cQ.isDefaultPrevented()){if(!t.collapsed){return void h.execCommand("Delete")}if(new a(n).normalize(t),cL=t.startContainer,K=t.startOffset,i=(g.force_p_newlines?"p":"")||g.forced_root_block,i=i?i.toUpperCase():"",u=n.doc.documentMode,at=cQ.shiftKey,1==cL.nodeType&&cL.hasChildNodes()&&(l=K>cL.childNodes.length-1,cL=cL.childNodes[Math.min(K,cL.childNodes.length-1)]||cL,K=l&&3==cL.nodeType?cL.nodeValue.length:0),cN=s(cL)){if(m.beforeChange(),!n.isBlock(cN)&&cN!=n.getRoot()){return void ((!i||at)&&J())}if((i&&!at||!i&&at)&&(cL=be(cL,K)),Q=n.getParent(cL,n.isBlock),ce=Q?n.getParent(Q.parentNode,n.isBlock):null,X=Q?Q.nodeName.toUpperCase():"",f=ce?ce.nodeName.toUpperCase():"","LI"!=f||cQ.ctrlKey||(Q=ce,X=f),/^(LI|DT|DD)$/.test(X)){if(!i&&at){return void J()}if(n.isEmpty(Q)){return void ct()}}if("PRE"==X&&g.br_in_pre!==!1){if(!at){return void J()}}else{if(!i&&!at&&"LI"!=X||i&&at){return void J()}}i&&Q===h.getBody()||(i=i||"P",ae()?r():ae(!0)?(G=Q.parentNode.insertBefore(cM(),Q),cP(G),bt(Q)):(cO=t.cloneRange(),cO.setEndAfter(Q),Z=cO.extractContents(),cW(Z),G=Z.firstChild,n.insertAfter(Z,Q),cU(G),cS(Q),n.isEmpty(Q)&&cV(Q),G.normalize(),n.isEmpty(G)?(n.remove(G),r()):bt(G)),n.setAttrib(G,"id",""),h.fire("NewBlock",{newBlock:G}),m.add())}}}var n=h.dom,q=h.selection,g=h.settings,m=h.undoManager,p=h.schema,k=p.getNonEmptyElements(),j=p.getMoveCaretBeforeOnEnterElements();h.on("keydown",function(f){13==f.keyCode&&e(f)!==!1&&f.preventDefault()})}}),br(bQ,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,E,r,q,n,i,e=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,E=k.startOffset,r=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),E=-1*A.move("character",e),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",e)-E)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){i=F,F=F.nextSibling,f.remove(i);continue}n||(n=f.create(a,g.settings.forced_root_block_attrs),F.parentNode.insertBefore(n,F),o=!0),i=F,F=F.nextSibling,n.appendChild(i)}else{n=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,E),k.setEnd(r,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",E),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),br(a6,[b4,bE,bu,bT,bY,bi],function(y,k,b,v,j,B){var D=b.each,t=b.extend,A=b.map,C=b.inArray,z=b.explode,x=k.ie,w=k.ie&&k.ie<11,q=!0,g=!1;return function(F){function J(N,M,R,L){var P,E,r=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(N)||L&&L.skip_focus||F.focus(),L=F.fire("BeforeExecCommand",{command:N,ui:M,value:R}),L.isDefaultPrevented()){return !1}if(E=N.toLowerCase(),P=h.exec[E]){return P(E,M,R),F.fire("ExecCommand",{command:N,ui:M,value:R}),!0}if(D(F.plugins,function(S){return S.execCommand&&S.execCommand(N,M,R)?(F.fire("ExecCommand",{command:N,ui:M,value:R}),r=!0,!1):void 0}),r){return r}if(F.theme&&F.theme.execCommand&&F.theme.execCommand(N,M,R)){return F.fire("ExecCommand",{command:N,ui:M,value:R}),!0}try{r=F.getDoc().execCommand(N,M,R)}catch(Q){}return r?(F.fire("ExecCommand",{command:N,ui:M,value:R}),!0):!1}function o(E){var r;if(!F._isHidden()){if(E=E.toLowerCase(),r=h.state[E]){return r(E)}try{return F.getDoc().queryCommandState(E)}catch(L){}return !1}}function l(E){var r;if(!F._isHidden()){if(E=E.toLowerCase(),r=h.value[E]){return r(E)}try{return F.getDoc().queryCommandValue(E)}catch(L){}}}function K(E,r){r=r||"exec",D(E,function(L,M){D(M.toLowerCase().split(","),function(N){h[r][N]=L})})}function u(E,r,L){E=E.toLowerCase(),h.exec[E]=function(P,N,Q,M){return r.call(L||F,N,Q,M)}}function m(E){if(E=E.toLowerCase(),h.exec[E]){return !0}try{return F.getDoc().queryCommandSupported(E)}catch(r){}return !1}function n(E,r,L){E=E.toLowerCase(),h.state[E]=function(){return r.call(L||F)}}function p(E,r,L){E=E.toLowerCase(),h.value[E]=function(){return r.call(L||F)}}function f(r){return r=r.toLowerCase(),!!h.exec[r]}function O(E,L,r){return L===bp&&(L=g),r===bp&&(r=null),F.getDoc().execCommand(E,L,r)}function c(r){return s.match(r)}function I(r,E){s.toggle(r,E?{value:E}:bp),F.nodeChanged()}function a(r){e=G.getBookmark(r)}function d(){G.moveToBookmark(e)}var H,G,s,h={state:{},exec:{},value:{}},i=F.settings,e;F.on("PreInit",function(){H=F.dom,G=F.selection,i=F.settings,s=F.formatter}),t(this,{execCommand:J,queryCommandState:o,queryCommandValue:l,queryCommandSupported:m,addCommands:K,addCommand:u,addQueryStateHandler:n,addQueryValueHandler:p,hasCustomCommand:f}),K({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){F.undoManager.add()},"Cut,Copy,Paste":function(M){var L=F.getDoc(),E;try{O(M)}catch(N){E=q}if(E||!L.queryCommandSupported(M)){var r=F.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");k.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),F.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(G.isCollapsed()){var r=G.getNode();return void ("A"==r.tagName&&F.dom.remove(r,!0))}s.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(E){var r=E.substring(7);"full"==r&&(r="justify"),D("left,center,right,justify".split(","),function(L){r!=L&&s.remove("align"+L)}),"none"!=r&&I("align"+r)},"InsertUnorderedList,InsertOrderedList":function(E){var r,L;O(E),r=H.getParent(G.getNode(),"ol,ul"),r&&(L=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(L.nodeName)&&(a(),H.split(L,r),d()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){I(r)},"ForeColor,HiliteColor,FontName":function(E,r,L){I(E,L)},FontSize:function(N,L,P){var M,E;P>=1&&7>=P&&(E=z(i.font_size_style_values),M=z(i.font_size_classes),P=M?M[P-1]||P:E[P-1]||P),I(N,P)},RemoveFormat:function(r){s.remove(r)},mceBlockQuote:function(){I("blockquote")},FormatBlock:function(E,r,L){return I(L||"p")},mceCleanup:function(){var r=G.getBookmark();F.setContent(F.getContent({cleanup:q}),{cleanup:q}),G.moveToBookmark(r)},mceRemoveNode:function(L,E,M){var r=M||G.getNode();r!=F.getBody()&&(a(),F.dom.remove(r,q),d())},mceSelectNodeDepth:function(L,E,M){var r=0;H.getParent(G.getNode(),function(N){return 1==N.nodeType&&r++==M?(G.select(N),g):void 0},F.getBody())},mceSelectNode:function(E,r,L){G.select(L)},mceInsertContent:function(Z,bt,be){function cR(S){function N(cT){return R[cT]&&3==R[cT].nodeType}var T,R,E;return T=G.getRng(!0),R=T.startContainer,E=T.startOffset,3==R.nodeType&&(E>0?S=S.replace(/^&nbsp;/," "):N("previousSibling")||(S=S.replace(/^ /,"&nbsp;")),E<R.length?S=S.replace(/&nbsp;(<br>|)$/," "):N("nextSibling")||(S=S.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),S}function ct(){var N,E,R;N=G.getRng(!0),E=N.startContainer,R=N.startOffset,3==E.nodeType&&N.collapsed&&("\xa0"===E.data[R]?(E.deleteData(R,1),/[\u00a0| ]$/.test(be)||(be+=" ")):"\xa0"===E.data[R-1]&&(E.deleteData(R-1,1),/[\u00a0| ]$/.test(be)||(be=" "+be)))}function cP(E){if(P){for(U=E.firstChild;U;U=U.walk(!0)){L[U.name]&&U.attr("data-mce-new","true")}}}function X(){if(P){var N=F.getBody(),E=new v(H);D(H.select("*[data-mce-new]"),function(S){S.removeAttribute("data-mce-new");for(var R=S.parentNode;R&&R!=N;R=R.parentNode){E.compare(R,S)&&H.remove(S,!0)}})}}function cO(N){function E(T){for(var S=F.getBody();T&&T!==S;T=T.parentNode){if("false"===F.dom.getContentEditable(T)){return T}}return null}var R;if(N){if(G.scrollIntoView(N),R=E(N)){return H.remove(N),void G.select(R)}ae=H.createRng(),U=N.previousSibling,U&&3==U.nodeType?(ae.setStart(U,U.nodeValue.length),x||(V=N.nextSibling,V&&3==V.nodeType&&(U.appendData(V.data),V.parentNode.removeChild(V)))):(ae.setStartBefore(N),ae.setEndBefore(N)),H.remove(N),G.setRng(ae)}}var cM,ce,at,cN,W,Q,cQ,ae,U,V,Y,P,cS,L=F.schema.getTextInlineElements();"string"!=typeof be&&(P=be.merge,cS=be.data,be=be.content),/^ | $/.test(be)&&(be=cR(be)),cM=F.parser,ce=new y({validate:i.validate},F.schema),Y='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',Q={content:be,format:"html",selection:!0},F.fire("BeforeSetContent",Q),be=Q.content,-1==be.indexOf("{$caret}")&&(be+="{$caret}"),be=be.replace(/\{\$caret\}/,Y),ae=G.getRng();var cL=ae.startContainer||(ae.parentElement?ae.parentElement():null),r=F.getBody();cL===r&&G.isCollapsed()&&H.isBlock(r.firstChild)&&H.isEmpty(r.firstChild)&&(ae=H.createRng(),ae.setStart(r.firstChild,0),ae.setEnd(r.firstChild,0),G.setRng(ae)),G.isCollapsed()||(F.getDoc().execCommand("Delete",!1,null),ct()),at=G.getNode();var M={context:at.nodeName.toLowerCase(),data:cS};if(W=cM.parse(be,M),cP(W),U=W.lastChild,"mce_marker"==U.attr("id")){for(cQ=U,U=U.prev;U;U=U.walk(!0)){if(3==U.type||!H.isBlock(U.name)){F.schema.isValidChild(U.parent.name,"span")&&U.parent.insert(cQ,U,"br"===U.name);break}}}if(F._selectionOverrides.showBlockCaretContainer(at),M.invalid){for(G.setContent(Y),at=G.getNode(),cN=F.getBody(),9==at.nodeType?at=U=cN:U=at;U!==cN;){at=U,U=U.parentNode}be=at==cN?cN.innerHTML:H.getOuterHTML(at),be=ce.serialize(cM.parse(be.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return ce.serialize(W)}))),at==cN?H.setHTML(cN,be):H.setOuterHTML(at,be)}else{be=ce.serialize(W),U=at.firstChild,V=at.lastChild,!U||U===V&&"BR"===U.nodeName?H.setHTML(at,be):G.setContent(be)}X(),cO(H.get("mce_marker")),F.fire("SetContent",Q),F.addVisual()},mceInsertRawHTML:function(E,r,L){G.setContent("tiny_mce_marker"),F.setContent(F.getContent().replace(/tiny_mce_marker/g,function(){return L}))},mceToggleFormat:function(E,r,L){I(L)},mceSetContent:function(E,r,L){F.setContent(L)},"Indent,Outdent":function(L){var E,M,r;E=i.indentation,M=/[a-z%]+$/i.exec(E),E=parseInt(E,10),o("InsertUnorderedList")||o("InsertOrderedList")?O(L):(i.forced_root_block||H.getParent(G.getNode(),H.isBlock)||s.apply("div"),D(G.getSelectedBlocks(),function(P){if("false"!==H.getContentEditable(P)&&"LI"!=P.nodeName){var N=F.getParam("indent_use_margin",!1)?"margin":"padding";N+="rtl"==H.getStyle(P,"direction",!0)?"Right":"Left","outdent"==L?(r=Math.max(0,parseInt(P.style[N]||0,10)-E),H.setStyle(P,N,r?r+M:"")):(r=parseInt(P.style[N]||0,10)+E+M,H.setStyle(P,N,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){F.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){F.hasVisual=!F.hasVisual,F.addVisual()},mceReplaceContent:function(E,r,L){F.execCommand("mceInsertContent",!1,L.replace(/\{\$selection\}/g,G.getContent({format:"text"})))},mceInsertLink:function(M,E,N){var L;"string"==typeof N&&(N={href:N}),L=H.getParent(G.getNode(),"a"),N.href=N.href.replace(" ","%20"),L&&N.href||s.remove("link"),N.href&&s.apply("link",N,L)},selectAll:function(){var E=H.getRoot(),r;G.getRng().setStart?(r=H.createRng(),r.setStart(E,0),r.setEnd(E,E.childNodes.length),G.setRng(r)):(r=G.getRng(),r.item||(r.moveToElementText(E),r.select()))},"delete":function(){O("Delete");var r=F.getBody();H.isEmpty(r)&&(F.setContent(""),r.firstChild&&H.isBlock(r.firstChild)?F.selection.setCursorLocation(r.firstChild,0):F.selection.setCursorLocation(r,0))},mceNewDocument:function(){F.setContent("")},InsertLineBreak:function(Y,P,T){function V(){for(var bt=new B(S,M),be,ce=F.schema.getNonEmptyElements();be=bt.next();){if(ce[be.nodeName.toLowerCase()]||be.length>0){return !0}}}var Q=T,U,ae,N,Z=G.getRng(!0);new j(H).normalize(Z);var X=Z.startOffset,S=Z.startContainer;if(1==S.nodeType&&S.hasChildNodes()){var W=X>S.childNodes.length-1;S=S.childNodes[Math.min(X,S.childNodes.length-1)]||S,X=W&&3==S.nodeType?S.nodeValue.length:0}var M=H.getParent(S,H.isBlock),r=M?M.nodeName.toUpperCase():"",at=M?H.getParent(M.parentNode,H.isBlock):null,R=at?at.nodeName.toUpperCase():"",E=Q&&Q.ctrlKey;"LI"!=R||E||(M=at,r=R),S&&3==S.nodeType&&X>=S.nodeValue.length&&(w||V()||(U=H.create("br"),Z.insertNode(U),Z.setStartAfter(U),Z.setEndAfter(U),ae=!0)),U=H.create("br"),Z.insertNode(U);var L=H.doc.documentMode;return w&&"PRE"==r&&(!L||8>L)&&U.parentNode.insertBefore(H.doc.createTextNode("\r"),U),N=H.create("span",{},"&nbsp;"),U.parentNode.insertBefore(N,U),G.scrollIntoView(N),H.remove(N),ae?(Z.setStartBefore(U),Z.setEndBefore(U)):(Z.setStartAfter(U),Z.setEndAfter(U)),G.setRng(Z),F.undoManager.add(),q}}),K({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(M){var E="align"+M.substring(7),N=G.isCollapsed()?[H.getParent(G.getNode(),H.isBlock)]:G.getSelectedBlocks(),L=A(N,function(r){return !!s.matchNode(r,E)});return -1!==C(L,q)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){return c(r)},mceBlockQuote:function(){return c("blockquote")},Outdent:function(){var r;if(i.inline_styles){if((r=H.getParent(G.getStart(),H.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return q}if((r=H.getParent(G.getEnd(),H.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return q}}return o("InsertUnorderedList")||o("InsertOrderedList")||!i.inline_styles&&!!H.getParent(G.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(E){var r=H.getParent(G.getNode(),"ul,ol");return r&&("insertunorderedlist"===E&&"UL"===r.tagName||"insertorderedlist"===E&&"OL"===r.tagName)}},"state"),K({"FontSize,FontName":function(E){var r=0,L;return(L=H.getParent(G.getNode(),"span"))&&(r="fontsize"==E?L.style.fontSize:L.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),K({Undo:function(){F.undoManager.undo()},Redo:function(){F.undoManager.redo()}})}}),br(aK,[bu],function(d){function b(k,m){var i=this,j,h;if(k=c(k),m=i.settings=m||{},j=m.base_uri,/^([\w\-]+):([^\/]{2})/i.test(k)||/^\s*#/.test(k)){return void (i.source=k)}var n=0===k.indexOf("//");0!==k.indexOf("/")||n||(k=(j?j.protocol||"http":"http")+"://mce_host"+k),/^[\w\-]*:?\/\//.test(k)||(h=m.base_uri?m.base_uri.path:new b(location.href).directory,""===m.base_uri.protocol?k="//mce_host"+i.toAbsPath(h,k):(k=/([^#?]*)([#?]?.*)/.exec(k),k=(j&&j.protocol||"http")+"://mce_host"+i.toAbsPath(h,k[1])+k[2])),k=k.replace(/@@/g,"(mce_at)"),k=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(k),g(a,function(e,o){var l=k[o];l&&(l=l.replace(/\(mce_at\)/g,"@@")),i[e]=l}),j&&(i.protocol||(i.protocol=j.protocol),i.userInfo||(i.userInfo=j.userInfo),i.port||"mce_host"!==i.host||(i.port=j.port),i.host&&"mce_host"!==i.host||(i.host=j.host),i.source=""),n&&(i.protocol="")}var g=d.each,c=d.trim,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f={ftp:21,http:80,https:443,mailto:25};return b.prototype={setPath:function(i){var h=this;i=/^(.*?)\/?(\w+)?$/.exec(i),h.path=i[0],h.directory=i[1],h.file=i[2],h.source="",h.getURI()},toRelative:function(k){var m=this,j;if("./"===k){return k}if(k=new b(k,{base_uri:m}),"mce_host"!=k.host&&m.host!=k.host&&k.host||m.port!=k.port||m.protocol!=k.protocol&&""!==k.protocol){return k.getURI()}var h=m.getURI(),l=k.getURI();return h==l||"/"==h.charAt(h.length-1)&&h.substr(0,h.length-1)==l?h:(j=m.toRelPath(m.path,k.path),k.query&&(j+="?"+k.query),k.anchor&&(j+="#"+k.anchor),j)},toAbsolute:function(h,i){return h=new b(h,{base_uri:this}),h.getURI(i&&this.isSameOrigin(h))},isSameOrigin:function(i){if(this.host==i.host&&this.protocol==i.protocol){if(this.port==i.port){return !0}var h=f[this.protocol];if(h&&(this.port||h)==(i.port||h)){return !0}}return !1},toRelPath:function(m,k){var q,l=0,j="",p,h;if(m=m.substring(0,m.lastIndexOf("/")),m=m.split("/"),q=k.split("/"),m.length>=q.length){for(p=0,h=m.length;h>p;p++){if(p>=q.length||m[p]!=q[p]){l=p+1;break}}}if(m.length<q.length){for(p=0,h=q.length;h>p;p++){if(p>=m.length||m[p]!=q[p]){l=p+1;break}}}if(1===l){return k}for(p=0,h=m.length-(l-1);h>p;p++){j+="../"}for(p=l-1,h=q.length;h>p;p++){j+=p!=l-1?"/"+q[p]:q[p]}return j},toAbsPath:function(n,k){var m,j=0,p=[],h,l;for(h=/\/$/.test(k)?"/":"",n=n.split("/"),k=k.split("/"),g(n,function(i){i&&p.push(i)}),n=p,m=k.length-1,p=[];m>=0;m--){0!==k[m].length&&"."!==k[m]&&(".."!==k[m]?j>0?j--:p.push(k[m]):j++)}return m=n.length-j,l=0>=m?p.reverse().join("/"):n.slice(0,m).join("/")+"/"+p.reverse().join("/"),0!==l.indexOf("/")&&(l="/"+l),h&&l.lastIndexOf("/")!==l.length-1&&(l+=h),l},getURI:function(i){var h,j=this;return(!j.source||i)&&(h="",i||(h+=j.protocol?j.protocol+"://":"//",j.userInfo&&(h+=j.userInfo+"@"),j.host&&(h+=j.host),j.port&&(h+=":"+j.port)),j.path&&(h+=j.path),j.query&&(h+="?"+j.query),j.anchor&&(h+="#"+j.anchor),j.source=h),j.source}},b.parseDataUri=function(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}},b}),br(cr,[bu],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s=this;if(!f&&(s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,o,k,i;f=!0,o=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(k in j){i=j[k],"function"==typeof i&&m[k]?o[k]=q(k,i):o[k]=i}return p.prototype=o,p.constructor=p,p.extend=a,p},b}),br(a1,[bu],function(b){function a(x){function h(){return !1}function e(){return !0}function k(r,f){var t,n,d,u;if(r=r.toLowerCase(),f=f||{},f.type=r,f.target||(f.target=w),f.preventDefault||(f.preventDefault=function(){f.isDefaultPrevented=e},f.stopPropagation=function(){f.isPropagationStopped=e},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=e},f.isDefaultPrevented=h,f.isPropagationStopped=h,f.isImmediatePropagationStopped=h),x.beforeFire&&x.beforeFire(f),t=p[r]){for(n=0,d=t.length;d>n;n++){if(u=t[n],u.once&&v(r,u.func),f.isImmediatePropagationStopped()){return f.stopPropagation(),f}if(u.func.call(w,f)===!1){return f.preventDefault(),f}}}return f}function g(u,A,n,B){var f,z,d;if(A===!1&&(A=h),A){for(A={func:A},B&&b.extend(A,B),z=u.toLowerCase().split(" "),d=z.length;d--;){u=z[d],f=p[u],f||(f=p[u]=[],m(u,!0)),n?f.unshift(A):f.push(A)}}return q}function v(u,l){var A,s,f,z,d;if(u){for(z=u.toLowerCase().split(" "),A=z.length;A--;){if(u=z[A],s=p[u],!u){for(f in p){m(f,!1),delete p[f]}return q}if(s){if(l){for(d=s.length;d--;){s[d].func===l&&(s=s.slice(0,d).concat(s.slice(d+1)),p[u]=s)}}else{s.length=0}s.length||(m(u,!1),delete p[u])}}}else{for(u in p){m(u,!1)}p={}}return q}function y(f,d,i){return g(f,d,i,{once:!0})}function j(d){return d=d.toLowerCase(),!(!p[d]||0===p[d].length)}var q=this,w,p={},m;x=x||{},w=x.scope||q,m=x.toggleEvent||h,q.fire=k,q.on=g,q.off=v,q.once=y,q.has=j}var c=b.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return a.isNative=function(d){return !!c[d.toLowerCase()]},a}),br(aA,[],function(){function a(b){this.create=b.create}return a.create=function(b,c){return new a({create:function(h,g){function f(e){h.set(g,e.value)}function j(i){b.set(c,i.value)}var d;return h.on("change:"+g,j),b.on("change:"+c,f),d=h._bindings,d||(d=h._bindings=[],h.on("destroy",function(){for(var i=d.length;i--;){d[i]()}})),d.push(function(){b.off("change:"+c,f)}),b.get(c)}})},a}),br(bP,[a1],function(b){function a(c){return c._eventDispatcher||(c._eventDispatcher=new b({scope:c,toggleEvent:function(e,d){b.isNative(e)&&c.toggleNativeEvent&&c.toggleNativeEvent(e,d)}})),c._eventDispatcher}return{fire:function(f,h,d){var c=this;if(c.removed&&"remove"!==f){return h}if(h=a(c).fire(f,h,d),d!==!1&&c.parent){for(var g=c.parent();g&&!h.isPropagationStopped();){g.fire(f,h,!1),g=g.parent()}}return h},on:function(d,f,c){return a(this).on(d,f,c)},off:function(c,d){return a(this).off(c,d)},once:function(c,d){return a(this).once(c,d)},hasEventListeners:function(c){return a(this).has(c)}}}),br(cy,[aA,bP,cr,bu],function(d,b,g,c){function a(h){return h.nodeType>0}function f(j,i){var k,h;if(j===i){return !0}if(null===j||null===i){return j===i}if("object"!=typeof j||"object"!=typeof i){return j===i}if(c.isArray(i)){if(j.length!==i.length){return !1}for(k=j.length;k--;){if(!f(j[k],i[k])){return !1}}}if(a(j)||a(i)){return j===i}h={};for(k in i){if(!f(j[k],i[k])){return !1}h[k]=!0}for(k in j){if(!h[k]&&!f(j[k],i[k])){return !1}}return !0}return g.extend({Mixins:[b],init:function(e){var i,h;e=e||{};for(i in e){h=e[i],h instanceof d&&(e[i]=h.create(this,i))}this.data=e},set:function(j,l){var k,h,e=this.data[j];if(l instanceof d&&(l=l.create(this,j)),"object"==typeof j){for(k in j){this.set(k,j[k])}return this}return f(e,l)||(this.data[j]=l,h={target:this,name:j,value:l,oldValue:e},this.fire("change:"+j,h),this.fire("change",h)),this},get:function(h){return this.data[h]},has:function(h){return h in this.data},bind:function(e){return d.create(this,e)},destroy:function(){this.fire("destroy")}})}),br(aS,[cr],function(g){function d(k){for(var a=[],l=k.length,i;l--;){i=k[l],i.__checked||(a.push(i),i.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,h,b=g.extend({init:function(m){function v(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function q(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.classes.contains(a[l])){return !1}}return !0}):void 0}function w(l,a,o){return l?function(s){var e=s[l]?s[l]():"";return a?"="===a?e===o:"*="===a?e.indexOf(o)>=0:"~="===a?(" "+e+" ").indexOf(" "+o+" ")>=0:"!="===a?e!=o:"^="===a?0===e.indexOf(o):"$="===a?e.substr(e.length-o.length)===o:!1:!!o}:void 0}function k(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=r(l[1],[]),function(o){return !n(o,a)}):(l=l[2],function(e,s,o){return"first"===l?0===s:"last"===l?s===o-1:"even"===l?s%2===0:"odd"===l?s%2===1:e[l]?e[l]():!1})):void 0}function p(o,l,t){function a(u){u&&l.push(u)}var s;return s=j.exec(o.replace(c,"")),a(v(s[1])),a(i(s[2])),a(q(s[3])),a(w(s[4],s[5],s[6])),a(k(s[7])),l.pseudo=!!s[7],l.direct=t,l}function r(x,u){var z=[],s,y,l;do{if(f.exec(""),y=f.exec(x),y&&(x=y[3],z.push(y[1]),y[2])){s=y[3];break}}while(y);for(s&&r(s,u),x=[],l=0;l<z.length;l++){">"!=z[l]&&x.push(p(z[l],[],">"===z[l-1]))}return u.push(x),u}var n=this.match;this._selectors=r(m,[])},match:function(A,F){var q,k,x,p,D,G,w,C,E,B,z,y,v;for(F=F||this._selectors,q=0,k=F.length;k>q;q++){for(D=F[q],p=D.length,v=A,y=0,x=p-1;x>=0;x--){for(C=D[x];v;){if(C.pseudo){for(z=v.parent().items(),E=B=z.length;E--&&z[E]!==v;){}}for(G=0,w=C.length;w>G;G++){if(!C[G](v,E,B)){G=w+1;break}}if(G===w){y++;break}if(x===p-1){break}v=v.parent()}}if(y===p){return !0}}return !1},find:function(p){function q(w,A,v){var n,y,B,r,x,z=A[v];for(n=0,y=w.length;y>n;n++){for(x=w[n],B=0,r=z.length;r>B;B++){if(!z[B](x,n,y)){B=r+1;break}}if(B===r){v==A.length-1?o.push(x):x.items&&q(x.items(),A,v+1)}else{if(z.direct){return}}x.items&&q(x.items(),A,v)}}var o=[],k,m,a=this._selectors;if(p.items){for(k=0,m=a.length;m>k;k++){q(p.items(),a[k],0)}m>1&&(o=d(o))}return h||(h=b.Collection),new h(o)}});return b}),br(cK,[bu,aS,cr],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this},addClass:function(a){return this.each(function(e){e.classes.add(a)})},removeClass:function(a){return this.each(function(e){e.classes.remove(a)})}},g.each("fire on off show hide append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),br(bC,[bu,bl],function(b,a){var c=0;return{id:function(){return"mceu_"+c++},createFragment:function(d){return a.DOM.createFragment(d)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(g){var d,h;if(g.getBoundingClientRect){var f=g.getBoundingClientRect();d=Math.max(f.width||f.right-f.left,g.offsetWidth),h=Math.max(f.height||f.bottom-f.bottom,g.offsetHeight)}else{d=g.offsetWidth,h=g.offsetHeight}return{width:d,height:h}},getPos:function(d,f){return a.DOM.getPos(d,f)},getViewPort:function(d){return a.DOM.getViewPort(d)},get:function(d){return document.getElementById(d)},addClass:function(d,f){return a.DOM.addClass(d,f)},removeClass:function(d,f){return a.DOM.removeClass(d,f)},hasClass:function(d,f){return a.DOM.hasClass(d,f)},toggleClass:function(f,g,d){return a.DOM.toggleClass(f,g,d)},css:function(f,g,d){return a.DOM.setStyle(f,g,d)},getRuntimeStyle:function(d,f){return a.DOM.getStyle(d,f,!0)},on:function(g,h,f,d){return a.DOM.bind(g,h,f,d)},off:function(f,g,d){return a.DOM.unbind(f,g,d)},fire:function(f,g,d){return a.DOM.fire(f,g,d)},innerHtml:function(d,f){a.DOM.setHTML(d,f)}}}),br(aC,[],function(){return{parseBox:function(b){var a,c=10;if(b){return"number"==typeof b?(b=b||0,{top:b,left:b,bottom:b,right:b}):(b=b.split(" "),a=b.length,1===a?b[1]=b[2]=b[3]=b[0]:2===a?(b[2]=b[0],b[3]=b[1]):3===a&&(b[3]=b[1]),{top:parseInt(b[0],c)||0,right:parseInt(b[1],c)||0,bottom:parseInt(b[2],c)||0,left:parseInt(b[3],c)||0})}},measureBox:function(c,a){function d(e){var f=document.defaultView;return f?(e=e.replace(/[A-Z]/g,function(g){return"-"+g}),f.getComputedStyle(c,null).getPropertyValue(e)):c.currentStyle[e]}function b(g){var f=parseFloat(d(g),10);return isNaN(f)?0:f}return{top:b(a+"TopWidth"),right:b(a+"RightWidth"),bottom:b(a+"BottomWidth"),left:b(a+"LeftWidth")}}}}),br(bc,[bu],function(b){function a(){}function c(d){this.cls=[],this.cls._map={},this.onchange=d||a,this.prefix=""}return b.extend(c.prototype,{add:function(d){return d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change()),this},remove:function(f){if(this.contains(f)){for(var d=0;d<this.cls.length&&this.cls[d]!==f;d++){}this.cls.splice(d,1),delete this.cls._map[f],this._change()}return this},toggle:function(f,d){var g=this.contains(f);return g!==d&&(g?this.remove(f):this.add(f),this._change()),this},contains:function(d){return !!this.cls._map[d]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),c.prototype.toString=function(){var f;if(this.clsValue){return this.clsValue}f="";for(var d=0;d<this.cls.length;d++){d>0&&(f+=" "),f+=this.prefix+this.cls[d]}return f},c}),br(aZ,[bn],function(b){var a={},c;return{add:function(e){var d=e.parent();if(d){if(!d._layout||d._layout.isNative()){return}a[d._id]||(a[d._id]=d),c||(c=!0,b.requestAnimationFrame(function(){var g,f;c=!1;for(g in a){f=a[g],f.state.get("rendered")&&f.reflow()}a={}},document.body))}},remove:function(d){a[d._id]&&delete a[d._id]}}}),br(aI,[cr,bu,a1,cy,cK,bC,bF,aC,bc,aZ],function(G,k,z,w,C,y,J,q,B,I){function j(a){return a._eventDispatcher||(a._eventDispatcher=new z({scope:a,toggleEvent:function(c,d){d&&z.isNative(c)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[c]=!0,a.state.get("rendered")&&H(a))}})),a._eventDispatcher}function H(K){function O(c){var d=K.getParentCtrl(c.target);d&&d.fire(c.type,c)}function g(){var c=M._lastHoverCtrl;c&&(c.fire("mouseleave",{target:c.getEl()}),c.parents().each(function(d){d.fire("mouseleave",{target:d.getEl()})}),M._lastHoverCtrl=null)}function a(e){var Q=K.getParentCtrl(e.target),m=M._lastHoverCtrl,d=0,u,c,l;if(Q!==m){if(M._lastHoverCtrl=Q,c=Q.parents().toArray().reverse(),c.push(Q),m){for(l=m.parents().toArray().reverse(),l.push(m),d=0;d<l.length&&c[d]===l[d];d++){}for(u=l.length-1;u>=d;u--){m=l[u],m.fire("mouseleave",{target:m.getEl()})}}for(u=d;u<c.length;u++){Q=c[u],Q.fire("mouseenter",{target:Q.getEl()})}}}function v(c){c.preventDefault(),"mousewheel"==c.type?(c.deltaY=-1/40*c.wheelDelta,c.wheelDeltaX&&(c.deltaX=-1/40*c.wheelDeltaX)):(c.deltaX=0,c.deltaY=c.detail),c=K.fire("wheel",c)}var f,P,p,M,N,L;if(N=K._nativeEvents){for(p=K.parents().toArray(),p.unshift(K),f=0,P=p.length;!M&&P>f;f++){M=p[f]._eventsRoot}for(M||(M=p[p.length-1]||K),K._eventsRoot=M,P=f,f=0;P>f;f++){p[f]._eventsRoot=M}var h=M._delegates;h||(h=M._delegates={});for(L in N){if(!N){return !1}"wheel"!==L||D?("mouseenter"===L||"mouseleave"===L?M._hasMouseEnter||(J(M.getEl()).on("mouseleave",g).on("mouseover",a),M._hasMouseEnter=1):h[L]||(J(M.getEl()).on(L,O),h[L]=!0),N[L]=!1):F?J(K.getEl()).on("mousewheel",v):J(K.getEl()).on("DOMMouseScroll",v)}}}var F="onmousewheel" in document,D=!1,A="mce-",x,E=0,b={Statics:{classPrefix:A},isRtl:function(){return x.rtl},classPrefix:A,init:function(d){function h(i){var c;for(i=i.split(" "),c=0;c<i.length;c++){a.classes.add(i[c])}}var a=this,f,g;a.settings=d=k.extend({},a.Defaults,d),a._id=d.id||"mceu_"+E++,a._aria={role:d.role},a._elmCache={},a.$=J,a.state=new w({visible:!0,active:!1,disabled:!1,value:""}),a.data=new w(d.data),a.classes=new B(function(){a.state.get("rendered")&&(a.getEl().className=this.toString())}),a.classes.prefix=a.classPrefix,f=d.classes,f&&(a.Defaults&&(g=a.Defaults.classes,g&&f!=g&&h(g)),h(f)),k.each("title text name visible disabled active value".split(" "),function(c){c in d&&a[c](d[c])}),a.on("click",function(){return a.disabled()?!1:void 0}),a.settings=d,a.borderBox=q.parseBox(d.border),a.paddingBox=q.parseBox(d.padding),a.marginBox=q.parseBox(d.margin),d.hidden&&a.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(c){for(var a,d=this.getRoot().controlIdLookup;c&&d&&!(a=d[c.id]);){c=c.parentNode}return a},initLayoutRect:function(){var R=this,Y=R.settings,K,o,N=R.getEl(),V,M,T,X,S,Q,O,L;K=R.borderBox=R.borderBox||q.measureBox(N,"border"),R.paddingBox=R.paddingBox||q.measureBox(N,"padding"),R.marginBox=R.marginBox||q.measureBox(N,"margin"),L=y.getSize(N),Q=Y.minWidth,O=Y.minHeight,T=Q||L.width,X=O||L.height,V=Y.width,M=Y.height,S=Y.autoResize,S="undefined"!=typeof S?S:!V&&!M,V=V||T,M=M||X;var s=K.left+K.right,P=K.top+K.bottom,W=Y.maxWidth||65535,U=Y.maxHeight||65535;return R._layoutRect=o={x:Y.x||0,y:Y.y||0,w:V,h:M,deltaW:s,deltaH:P,contentW:V-s,contentH:M-P,innerW:V-s,innerH:M-P,startMinWidth:Q||0,startMinHeight:O||0,minW:Math.min(T,W),minH:Math.min(X,U),maxW:W,maxH:U,autoResize:S,scrollW:0},R._lastLayoutRect={},o},layoutRect:function(m){var u=this,f=u._layoutRect,c,h,d,p,v,g;return f||(f=u.initLayoutRect()),m?(d=f.deltaW,p=f.deltaH,m.x!==v&&(f.x=m.x),m.y!==v&&(f.y=m.y),m.minW!==v&&(f.minW=m.minW),m.minH!==v&&(f.minH=m.minH),h=m.w,h!==v&&(h=h<f.minW?f.minW:h,h=h>f.maxW?f.maxW:h,f.w=h,f.innerW=h-d),h=m.h,h!==v&&(h=h<f.minH?f.minH:h,h=h>f.maxH?f.maxH:h,f.h=h,f.innerH=h-p),h=m.innerW,h!==v&&(h=h<f.minW-d?f.minW-d:h,h=h>f.maxW-d?f.maxW-d:h,f.innerW=h,f.w=h+d),h=m.innerH,h!==v&&(h=h<f.minH-p?f.minH-p:h,h=h>f.maxH-p?f.maxH-p:h,f.innerH=h,f.h=h+p),m.contentW!==v&&(f.contentW=m.contentW),m.contentH!==v&&(f.contentH=m.contentH),c=u._lastLayoutRect,(c.x!==f.x||c.y!==f.y||c.w!==f.w||c.h!==f.h)&&(g=x.repaintControls,g&&g.map&&!g.map[u._id]&&(g.push(u),g.map[u._id]=!0),c.x=f.x,c.y=f.y,c.w=f.w,c.h=f.h),u):f},repaint:function(){var p=this,M,g,d,m,f,K,N,h,v,L;v=document.createRange?function(a){return a}:Math.round,M=p.getEl().style,m=p._layoutRect,h=p._lastRepaintRect||{},f=p.borderBox,K=f.left+f.right,N=f.top+f.bottom,m.x!==h.x&&(M.left=v(m.x)+"px",h.x=m.x),m.y!==h.y&&(M.top=v(m.y)+"px",h.y=m.y),m.w!==h.w&&(L=v(m.w-K),M.width=(L>=0?L:0)+"px",h.w=m.w),m.h!==h.h&&(L=v(m.h-N),M.height=(L>=0?L:0)+"px",h.h=m.h),p._hasBody&&m.innerW!==h.innerW&&(L=v(m.innerW),d=p.getEl("body"),d&&(g=d.style,g.width=(L>=0?L:0)+"px"),h.innerW=m.innerW),p._hasBody&&m.innerH!==h.innerH&&(L=v(m.innerH),d=d||p.getEl("body"),d&&(g=g||d.style,g.height=(L>=0?L:0)+"px"),h.innerH=m.innerH),p._lastRepaintRect=h,p.fire("repaint",{},!1)},on:function(d,a){function f(h){var g,i;return"string"!=typeof h?h:function(e){return g||c.parentsAndSelf().each(function(m){var l=m.settings.callbacks;return l&&(g=l[h])?(i=m,!1):void 0}),g?g.call(i,e):(e.action=h,void this.fire("execute",e))}}var c=this;return j(c).on(d,f(a)),c},off:function(c,a){return j(this).off(c,a),this},fire:function(f,c,g){var d=this;if(c=c||{},c.control||(c.control=d),c=j(d).fire(f,c),g!==!1&&d.parent){for(var a=d.parent();a&&!c.isPropagationStopped();){a.fire(f,c,!1),a=a.parent()}}return c},hasEventListeners:function(a){return j(this).has(a)},parents:function(d){var a=this,f,c=new C;for(f=a.parent();f;f=f.parent()){c.add(f)}return d&&(c=c.filter(d)),c},parentsAndSelf:function(a){return new C(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(c){var a=c?this._id+"-"+c:this._id;return this._elmCache[a]||(this._elmCache[a]=J("#"+a)[0]),this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(d,a){var f=this,c=f.getEl(f.ariaTarget);return"undefined"==typeof a?f._aria[d]:(f._aria[d]=a,f.state.get("rendered")&&c.setAttribute("role"==d?d:"aria-"+d,a),f)},encode:function(c,a){return a!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(d){return"&#"+d.charCodeAt(0)+";"})},translate:function(a){return x.translate?x.translate(a):a},before:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a),!0),a},after:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a)),a},remove:function(){var g=this,c=g.getEl(),l=g.parent(),f,a;if(g.items){var h=g.items().toArray();for(a=h.length;a--;){h[a].remove()}}l&&l.items&&(f=[],l.items().each(function(e){e!==g&&f.push(e)}),l.items().set(f),l._lastRect=null),g._eventsRoot&&g._eventsRoot==g&&J(c).off();var d=g.getRoot().controlIdLookup;return d&&delete d[g._id],c&&c.parentNode&&c.parentNode.removeChild(c),g.state.set("rendered",!1),g.state.destroy(),g.fire("remove"),g},renderBefore:function(a){return J(a).before(this.renderHtml()),this.postRender(),this},renderTo:function(a){return J(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var h=this,p=h.settings,d,a,g,c,v;h.$el=J(h.getEl()),h.state.set("rendered",!0);for(c in p){0===c.indexOf("on")&&h.on(c.substr(2),p[c])}if(h._eventsRoot){for(g=h.parent();!v&&g;g=g.parent()){v=g._eventsRoot}if(v){for(c in v._nativeEvents){h._nativeEvents[c]=!0}}}H(h),p.style&&(d=h.getEl(),d&&(d.setAttribute("style",p.style),d.style.cssText=p.style)),h.settings.border&&(a=h.borderBox,h.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));var f=h.getRoot();f.controlIdLookup||(f.controlIdLookup={}),f.controlIdLookup[h._id]=h;for(var m in h._aria){h.aria(m,h._aria[m])}h.state.get("visible")===!1&&(h.getEl().style.display="none"),h.bindStates(),h.state.on("change:visible",function(e){var l=e.value,i;h.state.get("rendered")&&(h.getEl().style.display=l===!1?"none":"",h.getEl().getBoundingClientRect()),i=h.parent(),i&&(i._lastRect=null),h.fire(l?"show":"hide"),I.add(h)}),h.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(p){function M(o,c){var s,l,a=o;for(s=l=0;a&&a!=c&&a.nodeType;){s+=a.offsetLeft||0,l+=a.offsetTop||0,a=a.offsetParent}return{x:s,y:l}}var g=this.getEl(),d=g.parentNode,m,f,K,N,h,v,L=M(g,d);return m=L.x,f=L.y,K=g.offsetWidth,N=g.offsetHeight,h=d.clientWidth,v=d.clientHeight,"end"==p?(m-=h-K,f-=v-N):"center"==p&&(m-=h/2-K/2,f-=v/2-N/2),d.scrollLeft=m,d.scrollTop=f,this},getRoot:function(){for(var d=this,a,f=[];d;){if(d.rootControl){a=d.rootControl;break}f.push(d),a=d,d=d.parent()}a||(a=this);for(var c=f.length;c--;){f[c].rootControl=a}return a},reflow:function(){I.remove(this);var a=this.parent();return a._layout&&!a._layout.isNative()&&a.reflow(),this}};return k.each("text title visible disabled active value".split(" "),function(a){b[a]=function(c){return 0===arguments.length?this.state.get(a):("undefined"!=typeof c&&this.state.set(a,c),this)}}),x=G.extend(b)}),br(cD,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),br(bg,[],function(){return function(P){function B(a){return a&&1===a.nodeType}function I(a){return a=a||E,B(a)?a.getAttribute("role"):null}function F(c){for(var a,b=c||E;b=b.parentNode;){if(a=I(b)){return a}}}function L(a){var b=E;return B(b)?b.getAttribute("aria-"+a):void 0}function H(b){var a=b.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a}function T(a){return H(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(I(a))?!0:!1}function D(b){function a(f){if(1==f.nodeType&&"none"!=f.style.display){T(f)&&c.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}var c=[];return a(b||S.getEl()),c}function K(c){var a,d;c=c||k,d=c.parents().toArray(),d.unshift(c);for(var b=0;b<d.length&&(a=d[b],!a.settings.ariaRoot);b++){}return a}function R(b){var a=K(b),c=D(a.getEl());a.settings.ariaRemember&&"lastAriaIndex" in a?A(a.lastAriaIndex,c):A(0,c)}function A(b,a){return 0>b?b=a.length-1:b>=a.length&&(b=0),a[b]&&a[b].focus(),b}function Q(d,b){var f=-1,c=K();b=b||D(c.getEl());for(var a=0;a<b.length;a++){b[a]===E&&(f=a)}f+=d,c.lastAriaIndex=A(f,b)}function O(){var a=F();"tablist"==a?Q(-1,D(E.parentNode)):k.parent().submenu?z():Q(-1)}function M(){var b=I(),a=F();"tablist"==a?Q(1,D(E.parentNode)):"menuitem"==b&&"menu"==a&&L("haspopup")?j():Q(1)}function J(){Q(-1)}function G(){var b=I(),a=F();"menuitem"==b&&"menubar"==a?j():"button"==b&&L("haspopup")?j({key:"down"}):Q(1)}function N(b){var a=F();if("tablist"==a){var c=D(k.getEl("body"))[0];c&&c.focus()}else{Q(b.shiftKey?-1:1)}}function z(){k.fire("cancel")}function j(a){a=a||{},k.fire("click",{target:E,aria:a})}var S=P.root,E,k;try{E=document.activeElement}catch(q){E=document.body}return k=S.getParentCtrl(E),S.on("keydown",function(b){function a(d,c){H(E)||c(d)!==!1&&d.preventDefault()}if(!b.isDefaultPrevented()){switch(b.keyCode){case 37:a(b,O);break;case 39:a(b,M);break;case 38:a(b,J);break;case 40:a(b,G);break;case 27:z();break;case 14:case 13:case 32:a(b,j);break;case 9:N(b)!==!1&&b.preventDefault()}}}),S.on("focusin",function(a){E=a.target,k=a.control}),{focusFirst:R}}}),br(aQ,[aI,cK,aS,cD,bg,bu,bF,bc,aZ],function(j,p,f,b,h,d,m,q,g){var k={};return j.extend({init:function(a){var c=this;c._super(a),a=c.settings,a.fixed&&c.state.set("fixed",!0),c._items=new p,c.isRtl()&&c.classes.add("rtl"),c.bodyClasses=new q(function(){c.state.get("rendered")&&(c.getEl("body").className=this.toString())}),c.bodyClasses.prefix=c.classPrefix,c.classes.add("container"),c.bodyClasses.add("container-body"),a.containerCls&&c.classes.add(a.containerCls),c._layout=b.create((a.layout||"")+"layout"),c.settings.items?c.add(c.settings.items):c.add(c.render()),c._hasBody=!0},items:function(){return this._items},find:function(a){return a=k[a]=k[a]||new f(a),a.find(this)},add:function(c){var a=this;return a.items().add(a.create(c)).parent(a),a},focus:function(o){var c=this,s,l,a;return o&&(l=c.keyboardNav||c.parents().eq(-1)[0].keyboardNav)?void l.focusFirst(c):(a=c.find("*"),c.statusbar&&a.add(c.statusbar.items()),a.each(function(i){return i.settings.autofocus?(s=null,!1):void (i.canFocus&&(s=s||i))}),s&&s.focus(),c)},replace:function(o,c){for(var s,l=this.items(),a=l.length;a--;){if(l[a]===o){l[a]=c;break}}a>=0&&(s=c.getEl(),s&&s.parentNode.removeChild(s),s=o.getEl(),s&&s.parentNode.removeChild(s)),c.parent(this)},create:function(l){var o=this,e,c=[];return d.isArray(l)||(l=[l]),d.each(l,function(a){a&&(a instanceof j||("string"==typeof a&&(a={type:a}),e=d.extend({},o.settings.defaults,a),a.type=e.type=e.type||a.type||o.settings.defaultType||(e.defaults?e.defaults.type:null),a=b.create(e)),c.push(a))}),c},renderNew:function(){var a=this;return a.items().each(function(c,i){var e;c.parent(a),c.state.get("rendered")||(e=a.getEl("body"),e.hasChildNodes()&&i<=e.childNodes.length-1?m(e.childNodes[i]).before(c.renderHtml()):m(e).append(c.renderHtml()),c.postRender(),g.add(c))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(c){var a=this;return a.items().set(a.create(c).concat(a.items().toArray())),a.renderNew()},insert:function(v,s,x){var u=this,l,w,c;return v=u.create(v),l=u.items(),!x&&s<l.length-1&&(s+=1),s>=0&&s<l.length&&(w=l.slice(0,s).toArray(),c=l.slice(s).toArray(),l.set(w.concat(v,c))),u.renderNew()},fromJSON:function(c){var a=this;for(var i in c){a.find("#"+i).value(c[i])}return a},toJSON:function(){var c=this,a={};return c.find("*").each(function(l){var o=l.name(),i=l.value();o&&"undefined"!=typeof i&&(a[o]=i)}),a},renderHtml:function(){var c=this,a=c._layout,i=this.settings.role;return c.preRender(),a.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"'+(i?' role="'+this.settings.role+'"':"")+'><div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+a.renderHtml(c)+"</div></div>"},postRender:function(){var c=this,a;return c.items().exec("postRender"),c._super(),c._layout.postRender(c),c.state.set("rendered",!0),c.settings.style&&c.$el.css(c.settings.style),c.settings.border&&(a=c.borderBox,c.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),c.parent()||(c.keyboardNav=new h({root:c})),c},initLayoutRect:function(){var c=this,a=c._super();return c._layout.recalc(c),a},recalc:function(){var c=this,a=c._layoutRect,i=c._lastRect;return i&&i.w==a.w&&i.h==a.h?void 0:(c._layout.recalc(c),a=c.layoutRect(),c._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(g.remove(this),this.visible()){for(j.repaintControls=[],j.repaintControls.map={},this.recalc(),a=j.repaintControls.length;a--;){j.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),j.repaintControls=[]}return this}})}),br(au,[bF],function(b){function a(k){var q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}function c(f){var d,g;if(f.changedTouches){for(d="screenX screenY pageX pageY clientX clientY".split(" "),g=0;g<d.length;g++){f[d[g]]=f.changedTouches[0][d[g]]}}}return function(e,k){function g(){return w.getElementById(k.handle||e)}var t,w=k.document||document,j,q,v,p,n,m;k=k||{},q=function(f){var i=a(w),d,h;c(f),f.preventDefault(),j=f.button,d=g(),n=f.screenX,m=f.screenY,h=window.getComputedStyle?window.getComputedStyle(d,null).getPropertyValue("cursor"):d.runtimeStyle.cursor,t=b("<div>").css({position:"absolute",top:0,left:0,width:i.width,height:i.height,zIndex:2147483647,opacity:0.0001,cursor:h}).appendTo(w.body),b(w).on("mousemove touchmove",p).on("mouseup touchend",v),k.start(f)},p=function(d){return c(d),d.button!==j?v(d):(d.deltaX=d.screenX-n,d.deltaY=d.screenY-m,d.preventDefault(),void k.drag(d))},v=function(d){c(d),b(w).off("mousemove touchmove",p).off("mouseup touchend",v),t.remove(),k.stop&&k.stop(d)},this.destroy=function(){b(g()).off()},b(g()).on("mousedown touchstart",q)}}),br(cF,[bF,au],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,E){var x,w,q,n,k,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),b(c.getEl("absend")).css(B,c.layoutRect()[o]-1),!z){return void b(w).css("display","none")}b(w).css("display","block"),x=c.getEl("body"),q=c.getEl("scroll"+F+"t"),n=x["client"+G]-2*e,n-=j&&i?w["client"+E]:0,k=x["scroll"+G],r=n/k,D={},D[B]=x["offset"+C]+e,D[A]=n,b(w).css(D),D={},D[B]=x["scroll"+C]*r,D[A]=n*r,b(q).css(D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,j=c._id+"-scroll"+q,o=c.classPrefix;b(c.getEl()).append('<div id="'+j+'" class="'+o+"scrollbar "+o+"scrollbar-"+q+'"><div id="'+j+'t" class="'+o+'scrollbar-thumb"></div></div>'),c.draghelper=new a(j+"t",{start:function(){p=c.getEl("body")["scroll"+m],b("#"+j).addClass(o+"active")},drag:function(v){var n,l,w,s,r=c.layoutRect();l=r.contentW>r.innerW,w=r.contentH>r.innerH,s=c.getEl("body")["client"+i]-2*e,s-=l&&w?c.getEl("scroll"+q)["client"+h]:0,n=s/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b("#"+j).removeClass(o+"active")}})}c.classes.add("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b(c.getEl("body")).on("scroll",f)),f())}}}),br(cb,[aQ,cF],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.bodyClasses+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1" role="group">'+(d._preBodyHtml||"")+f+"</div>"}})}),br(aH,[bC],function(b){function a(z,j,e){var m,g,x,A,k,w,y,v,q,p;return q=b.getViewPort(),g=b.getPos(j),x=g.x,A=g.y,z.state.get("fixed")&&"static"==b.getRuntimeStyle(document.body,"position")&&(x-=q.x,A-=q.y),m=z.getEl(),p=b.getSize(m),k=p.width,w=p.height,p=b.getSize(j),y=p.width,v=p.height,e=(e||"").split(""),"b"===e[0]&&(A+=v),"r"===e[1]&&(x+=y),"c"===e[0]&&(A+=Math.round(v/2)),"c"===e[1]&&(x+=Math.round(y/2)),"b"===e[3]&&(A-=w),"r"===e[4]&&(x-=k),"c"===e[3]&&(A-=Math.round(w/2)),"c"===e[4]&&(x-=Math.round(k/2)),{x:x,y:A,w:k,h:w}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this.state.get("fixed")){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d.state.get("rendered")?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),br(ac,[bC],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),br(am,[cb,aH,ac,bC,bF,bn],function(L,w,E,A,H,D){function P(b,a){for(;b;){if(b==a){return !0}b=b.parent()}}function x(c){for(var a=k.length;a--;){var d=k[a],b=d.getParentCtrl(c.target);if(d.settings.autohide){if(b&&(P(b,d)||d.parent()===b)){continue}c=d.fire("autohide",{target:c.target}),c.isDefaultPrevented()||d.hide()}}}function G(){F||(F=function(a){2!=a.button&&x(a)},H(document).on("click touchstart",F))}function N(){B||(B=function(){var a;for(a=k.length;a--;){M(k[a])}},H(window).on("scroll",B))}function q(){if(!J){var b=document.documentElement,a=b.clientWidth,c=b.clientHeight;J=function(){document.all&&a==b.clientWidth&&c==b.clientHeight||(a=b.clientWidth,c=b.clientHeight,z.hideAll())},H(window).on("resize",J)}}function M(b){function a(e,g){for(var f,d=0;d<k.length;d++){if(k[d]!=b){for(f=k[d].parent();f&&(f=f.parent());){f==b&&k[d].fixed(e).moveBy(0,g).repaint()}}}}var c=A.getViewPort().y;b.settings.autofix&&(b.state.get("fixed")?b._autoFixY>c&&(b.fixed(!1).layoutRect({y:b._autoFixY}).repaint(),a(!1,b._autoFixY-c)):(b._autoFixY=b.layoutRect().y,b._autoFixY<c&&(b.fixed(!0).layoutRect({y:0}).repaint(),a(!0,c-b._autoFixY))))}function K(f,c){var h,d=z.zIndex||65535,g;if(f){j.push(c)}else{for(h=j.length;h--;){j[h]===c&&j.splice(h,1)}}if(j.length){for(h=0;h<j.length;h++){j[h].modal&&(d++,g=j[h]),j[h].getEl().style.zIndex=d,j[h].zIndex=d,d++}}var b=document.getElementById(c.classPrefix+"modal-block");g?H(b).css("z-index",g.zIndex-1):b&&(b.parentNode.removeChild(b),O=!1),z.currentZIndex=d}function I(b){var a;for(a=k.length;a--;){k[a]===b&&k.splice(a,1)}for(a=j.length;a--;){j[a]===b&&j.splice(a,1)}}var F,B,J,k=[],j=[],O,z=L.extend({Mixins:[w,E],init:function(b){var a=this;a._super(b),a._eventsRoot=a,a.classes.add("floatpanel"),b.autohide&&(G(),q(),k.push(a)),b.autofix&&(N(),a.on("move",function(){M(this)})),a.on("postrender show",function(d){if(d.control==a){var f,c=a.classPrefix;a.modal&&!O&&(f=H("#"+c+"modal-block"),f[0]||(f=H('<div id="'+c+'modal-block" class="'+c+"reset "+c+'fade"></div>').appendTo(a.getContainerElm())),D.setTimeout(function(){f.addClass(c+"in"),H(a.getEl()).addClass(c+"in")}),O=!0),K(!0,a)}}),a.on("show",function(){a.parents().each(function(c){return c.state.get("fixed")?(a.fixed(!0),!1):void 0})}),b.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.classes.add("popover").add("bottom").add(a.isRtl()?"end":"start"))},fixed:function(b){var a=this;if(a.state.get("fixed")!=b){if(a.state.get("rendered")){var c=A.getViewPort();b?a.layoutRect().y-=c.y:a.layoutRect().y+=c.y}a.classes.toggle("fixed",b),a.state.set("fixed",b)}return a},show:function(){var b=this,a,c=b._super();for(a=k.length;a--&&k[a]!==b;){}return -1===a&&k.push(b),c},hide:function(){return I(this),K(!1,this),this._super()},hideAll:function(){z.hideAll()},close:function(){var a=this;return a.fire("close").isDefaultPrevented()||(a.remove(),K(!1,a)),a},remove:function(){I(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});return z.hideAll=function(){for(var b=k.length;b--;){var a=k[b];a&&a.settings.autohide&&(a.hide(),k.splice(b,1))}},z}),br(ap,[am,cb,bC,bF,au,aC,bE,bn],function(v,A,j,b,m,g,y,B){function k(d){var c="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",f=b("meta[name=viewport]")[0],a;y.overrideViewPort!==!1&&(f||(f=document.createElement("meta"),f.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(f)),a=f.getAttribute("content"),a&&"undefined"!=typeof q&&(q=a),f.setAttribute("content",d?c:q))}function x(c){for(var a=0;a<w.length;a++){if(w[a]._fullscreen){return}}b([document.documentElement,document.body]).removeClass(c+"fullscreen")}function z(){function c(){var h,d=j.getWindowSize(),f;for(h=0;h<w.length;h++){f=w[h].layoutRect(),w[h].moveTo(w[h].settings.x||Math.max(0,d.w/2-f.w/2),w[h].settings.y||Math.max(0,d.h/2-f.h/2))}}var a={w:window.innerWidth,h:window.innerHeight};B.setInterval(function(){var d=window.innerWidth,f=window.innerHeight;(a.w!=d||a.h!=f)&&(a={w:d,h:f},b(window).trigger("resize"))},100),b(window).on("resize",c)}var w=[],q="",p=v.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var c=this;c._super(a),c.isRtl()&&c.classes.add("rtl"),c.classes.add("window"),c.bodyClasses.add("window-body"),c.state.set("fixed",!0),a.buttons&&(c.statusbar=new A({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:c.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),c.statusbar.classes.add("foot"),c.statusbar.parent(c)),c.on("click",function(d){-1!=d.target.className.indexOf(c.classPrefix+"close")&&c.close()}),c.on("cancel",function(){c.close()}),c.aria("describedby",c.describedBy||c._id+"-none"),c.aria("label",a.title),c._fullscreen=!1},recalc:function(){var l=this,f=l.statusbar,h,d,n,c;l._fullscreen&&(l.layoutRect(j.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),h=l.layoutRect(),l.settings.title&&!l._fullscreen&&(d=h.headerW,d>h.w&&(n=h.x-Math.max(0,d/2),l.layoutRect({w:d,x:n}),c=!0)),f&&(f.layoutRect({w:l.layoutRect().innerW}).recalc(),d=f.layoutRect().minW+h.deltaW,d>h.w&&(n=h.x-Math.max(0,d-h.w),l.layoutRect({w:d,x:n}),c=!0)),c&&l.recalc()},initLayoutRect:function(){var l=this,f=l._super(),h=0,d;if(l.settings.title&&!l._fullscreen){d=l.getEl("head");var n=j.getSize(d);f.headerW=n.width,f.headerH=n.height,h+=f.headerH}l.statusbar&&(h+=l.statusbar.layoutRect().h),f.deltaH+=h,f.minH+=h,f.h+=h;var c=j.getWindowSize();return f.x=l.settings.x||Math.max(0,c.w/2-f.w/2),f.y=l.settings.y||Math.max(0,c.h/2-f.h/2),f},renderHtml:function(){var u=this,f=u._layout,D=u._id,l=u.classPrefix,d=u.settings,C="",c="",h=d.html;return u.preRender(),f.preRender(u),d.title&&(C='<div id="'+D+'-head" class="'+l+'window-head"><div id="'+D+'-title" class="'+l+'title">'+u.encode(d.title)+'</div><button type="button" class="'+l+'close" aria-hidden="true">\xd7</button><div id="'+D+'-dragh" class="'+l+'dragh"></div></div>'),d.url&&(h='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),"undefined"==typeof h&&(h=f.renderHtml(u)),u.statusbar&&(c=u.statusbar.renderHtml()),'<div id="'+D+'" class="'+u.classes+'" hidefocus="1"><div class="'+u.classPrefix+'reset" role="application">'+C+'<div id="'+D+'-body" class="'+u.bodyClasses+'">'+h+"</div>"+c+"</div></div>"},fullscreen:function(r){var o=this,n=document.documentElement,f,d=o.classPrefix,s;if(r!=o._fullscreen){if(b(window).on("resize",function(){var c;if(o._fullscreen){if(f){o._timer||(o._timer=B.setTimeout(function(){var i=j.getWindowSize();o.moveTo(0,0).resizeTo(i.w,i.h),o._timer=0},50))}else{c=(new Date).getTime();var a=j.getWindowSize();o.moveTo(0,0).resizeTo(a.w,a.h),(new Date).getTime()-c>50&&(f=!0)}}}),s=o.layoutRect(),o._fullscreen=r,r){o._initial={x:s.x,y:s.y,w:s.w,h:s.h},o.borderBox=g.parseBox("0"),o.getEl("head").style.display="none",s.deltaH-=s.headerH+2,b([n,document.body]).addClass(d+"fullscreen"),o.classes.add("fullscreen");var h=j.getWindowSize();o.moveTo(0,0).resizeTo(h.w,h.h)}else{o.borderBox=g.parseBox(o.settings.border),o.getEl("head").style.display="",s.deltaH+=s.headerH,b([n,document.body]).removeClass(d+"fullscreen"),o.classes.remove("fullscreen"),o.moveTo(o._initial.x,o._initial.y).resizeTo(o._initial.w,o._initial.h)}}return o.reflow()},postRender:function(){var c=this,a;setTimeout(function(){c.classes.add("in")},0),c._super(),c.statusbar&&c.statusbar.postRender(),c.focus(),this.dragHelper=new m(c._id+"-dragh",{start:function(){a={x:c.layoutRect().x,y:c.layoutRect().y}},drag:function(d){c.moveTo(a.x+d.deltaX,a.y+d.deltaY)}}),c.on("submit",function(d){d.isDefaultPrevented()||c.close()}),w.push(c),k(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var c=this,a;for(c.dragHelper.destroy(),c._super(),c.statusbar&&this.statusbar.remove(),a=w.length;a--;){w[a]===c&&w.splice(a,1)}k(w.length>0),x(c.classPrefix)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});return y.desktop||z(),p}),br(aR,[ap],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function d(h,g,i){return{type:"button",text:h,subtype:i?"primary":"",onClick:function(j){j.control.parents()[1].close(),e(g)}}}var c,e=f.callback||function(){};switch(f.buttons){case a.OK_CANCEL:c=[d("Ok",!0,!0),d("Cancel",!1)];break;case a.YES_NO:case a.YES_NO_CANCEL:c=[d("Yes",1,!0),d("No",0)],f.buttons==a.YES_NO_CANCEL&&c.push(d("Cancel",-1));break;default:c=[d("Ok",!0,!0)]}return new b({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){e(!1)}}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),br(ag,[ap,aR],function(b,a){return function(f){function d(){return e.length?e[e.length-1]:void 0}var c=this,e=[];c.windows=e,f.on("remove",function(){for(var g=e.length;g--;){e[g].close()}}),c.open=function(h,j){var g;return f.editorManager.setActive(f),h.title=h.title||" ",h.url=h.url||h.file,h.url&&(h.width=parseInt(h.width||320,10),h.height=parseInt(h.height||240,10)),h.body&&(h.items={defaults:h.defaults,type:h.bodyType||"form",items:h.body}),h.url||h.buttons||(h.buttons=[{text:"Ok",subtype:"primary",onclick:function(){g.find("form")[0].submit()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new b(h),e.push(g),g.on("close",function(){for(var i=e.length;i--;){e[i]===g&&e.splice(i,1)}e.length||f.focus()}),h.data&&g.on("postRender",function(){this.find("*").each(function(i){var k=i.name();k in h.data&&i.value(h.data[k])})}),g.features=h||{},g.params=j||{},1===e.length&&f.nodeChanged(),g.renderTo().reflow()},c.alert=function(j,h,g){a.alert(j,function(){h?h.call(g||this):f.focus()})},c.confirm=function(h,i,g){a.confirm(h,function(j){i.call(g||this,j)})},c.close=function(){d()&&d().close()},c.getParams=function(){return d()?d().params:null},c.setParams=function(g){d()&&(d().params=g)},c.getWindows=function(){return e}}}),br(ab,[aI,aH],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d.state.get("text"))+"</div></div>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.getEl().lastChild.innerHTML=c.encode(d.value)}),c._super()},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),br(ak,[aI,ab],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&(f.on("mouseenter",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.classes.toggle("tooltip-n","bc-tc"==e),h.classes.toggle("tooltip-nw","bc-tl"==e),h.classes.toggle("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",g.ariaLabel||g.tooltip)},tooltip:function(){return d||(d=new a({type:"tooltip"}),d.renderTo()),d},postRender:function(){var g=this,f=g.settings;g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&g.focus()},bindStates:function(){function g(i){h.aria("disabled",i),h.classes.toggle("disabled",i)}function f(i){h.aria("pressed",i),h.classes.toggle("active",i)}var h=this;return h.state.on("change:disabled",function(e){g(e.value)}),h.state.on("change:active",function(i){f(i.value)}),h.state.get("disabled")&&g(!0),h.state.get("active")&&f(!0),h._super()},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),br(cE,[ak],function(a){return a.extend({Defaults:{value:0},init:function(c){var b=this;b._super(c),b.classes.add("progress"),b.settings.filter||(b.settings.filter=function(d){return Math.round(d)})},renderHtml:function(){var c=this,b=c._id,d=this.classPrefix;return'<div id="'+b+'" class="'+c.classes+'"><div class="'+d+'bar-container"><div class="'+d+'bar"></div></div><div class="'+d+'text">0%</div></div>'},postRender:function(){var b=this;return b._super(),b.value(b.settings.value),b},bindStates:function(){function c(d){d=b.settings.filter(d),b.getEl().lastChild.innerHTML=d+"%",b.getEl().firstChild.firstChild.style.width=d+"%"}var b=this;return b.state.on("change:value",function(d){c(d.value)}),c(b.state.get("value")),b._super()}})}),br(al,[aI,aH,cE],function(b,a,c){return b.extend({Mixins:[a],Defaults:{classes:"widget notification"},init:function(f){var d=this;d._super(f),f.text&&d.text(f.text),f.icon&&(d.icon=f.icon),f.color&&(d.color=f.color),f.type&&d.classes.add("notification-"+f.type),f.timeout&&(f.timeout<0||f.timeout>0)&&!f.closeButton?d.closeButton=!1:(d.classes.add("has-close"),d.closeButton=!0),f.progressBar&&(d.progressBar=new c),d.on("click",function(g){-1!=g.target.className.indexOf(d.classPrefix+"close")&&d.close()})},renderHtml:function(){var h=this,f=h.classPrefix,k="",g="",d="",j="";return h.icon&&(k='<i class="'+f+"ico "+f+"i-"+h.icon+'"></i>'),h.color&&(j=' style="background-color: '+h.color+'"'),h.closeButton&&(g='<button type="button" class="'+f+'close" aria-hidden="true">\xd7</button>'),h.progressBar&&(d=h.progressBar.renderHtml()),'<div id="'+h._id+'" class="'+h.classes+'"'+j+' role="presentation">'+k+'<div class="'+f+'notification-inner">'+h.state.get("text")+"</div>"+d+g+"</div>"},bindStates:function(){var d=this;return d.state.on("change:text",function(e){d.getEl().childNodes[1].innerHTML=e.value}),d.progressBar&&d.progressBar.bindStates(),d._super()},close:function(){var d=this;return d.fire("close").isDefaultPrevented()||d.remove(),d},repaint:function(){var f=this,d,g;d=f.getEl().style,g=f._layoutRect,d.left=g.x+"px",d.top=g.y+"px",d.zIndex=131070}})}),br(aY,[al,bn],function(b,a){return function(j){function g(){return c.length?c[c.length-1]:void 0}function e(){a.requestAnimationFrame(function(){h(),d()})}function h(){for(var i=0;i<c.length;i++){c[i].moveTo(0,0)}}function d(){if(c.length>0){var l=c.slice(0,1)[0],i=j.inline?j.getElement():j.getContentAreaContainer();if(l.moveRel(i,"tc-tc"),c.length>1){for(var k=1;k<c.length;k++){c[k].moveRel(c[k-1].getEl(),"bc-tc")}}}}var f=this,c=[];f.notifications=c,j.on("remove",function(){for(var i=c.length;i--;){c[i].close()}}),j.on("ResizeEditor",d),j.on("ResizeWindow",e),f.open=function(i){var k;return j.editorManager.setActive(j),k=new b(i),c.push(k),i.timeout>0&&(k.timer=setTimeout(function(){k.close()},i.timeout)),k.on("close",function(){var l=c.length;for(k.timer&&j.getWin().clearTimeout(k.timer);l--;){c[l]===k&&c.splice(l,1)}d()}),k.renderTo(),d(),k},f.close=function(){g()&&g().close()},f.getNotifications=function(){return c}}}),br(aP,[bl],function(b){function a(e,g,f){for(var d=[];g&&g!=e;g=g.parentNode){d.push(b.nodeIndex(g,f))}return d}function c(h,f){var j,g,d;for(g=h,j=f.length-1;j>=0;j--){if(d=g.childNodes,f[j]>d.length-1){return null}g=d[f[j]]}return g}return{create:a,resolve:c}}),br(az,[cd,bY,bi,aP,cq,cn,bE,bu,bn,bA],function(j,p,f,b,h,d,m,q,g,k){return function(c8){function dh(v,u){try{c8.getDoc().execCommand(v,!1,u)}catch(w){}}function dg(){var u=c8.getDoc().documentMode;return u?u:6}function de(u){return u.isDefaultPrevented()}function db(v){var u,w;v.dataTransfer&&(c8.selection.isCollapsed()&&"IMG"==v.target.tagName&&be.select(v.target),u=c8.selection.getContent(),u.length>0&&(w=c1+escape(c8.id)+","+escape(u),v.dataTransfer.setData(cU,w)))}function da(v){var u;return v.dataTransfer&&(u=v.dataTransfer.getData(cU),u&&u.indexOf(c1)>=0)?(u=u.substr(c1.length).split(","),{id:unescape(u[0]),html:unescape(u[1])}):null}function df(u){c8.queryCommandSupported("mceInsertClipboardContent")?c8.execCommand("mceInsertClipboardContent",!1,{content:u}):c8.execCommand("mceInsertContent",!1,u)}function c7(){function A(w){var v=u.schema.getBlockElements(),x=c8.getBody();if("BR"!=w.nodeName){return !1}for(w=w;w!=x&&!v[w.nodeName];w=w.parentNode){if(w.nextSibling){return !1}}return !0}function z(w,v){var x;for(x=w.nextSibling;x&&x!=v;x=x.nextSibling){if((3!=x.nodeType||0!==i.trim(x.data).length)&&x!==v){return !1}}return x===v}function K(C,w,y){var E,v,x;for(x=u.schema.getNonEmptyElements(),E=new f(y||C,C);v=E[w?"next":"prev"]();){if(x[v.nodeName]&&!A(v)){return v}if(3==v.nodeType&&v.data.length>0){return v}}}function G(y){var E,x,v,C,w;if(!y.collapsed&&(E=u.getParent(p.getNode(y.startContainer,y.startOffset),u.isBlock),x=u.getParent(p.getNode(y.endContainer,y.endOffset),u.isBlock),w=c8.schema.getTextBlockElements(),E!=x&&w[E.nodeName]&&w[x.nodeName]&&"false"!==u.getContentEditable(E)&&"false"!==u.getContentEditable(x))){return y.deleteContents(),v=K(E,!1),C=K(x,!0),u.isEmpty(x)||i(E).append(x.childNodes),i(x).remove(),v?1==v.nodeType?"BR"==v.nodeName?(y.setStartBefore(v),y.setEndBefore(v)):(y.setStartAfter(v),y.setEndAfter(v)):(y.setStart(v,v.data.length),y.setEnd(v,v.data.length)):C&&(1==C.nodeType?(y.setStartBefore(C),y.setEndBefore(C)):(y.setStart(C,0),y.setEnd(C,0))),J.setRng(y),!0}}function F(C,P){var y,w,x,v,N,E;if(!C.collapsed){return C}if(N=C.startContainer,E=C.startOffset,3==N.nodeType){if(P){if(E<N.data.length){return C}}else{if(E>0){return C}}}if(y=p.getNode(C.startContainer,C.startOffset),x=u.getParent(y,u.isBlock),w=K(c8.getBody(),P,y),v=u.getParent(w,u.isBlock),!y||!w){return C}if(v&&x!=v){if(P){if(!z(x,v)){return C}1==y.nodeType?"BR"==y.nodeName?C.setStartBefore(y):C.setStartAfter(y):C.setStart(y,y.data.length),1==w.nodeType?C.setEnd(w,0):C.setEndBefore(w)}else{if(!z(v,x)){return C}1==w.nodeType?"BR"==w.nodeName?C.setStartBefore(w):C.setStartAfter(w):C.setStart(w,w.data.length),1==y.nodeType?C.setEnd(y,0):C.setEndBefore(y)}}return C}function B(w){var v=J.getRng();return v=F(v,w),G(v)?!0:void 0}function M(Q,U){function x(V,W){return v=i(W).parents().filter(function(Y,X){return !!c8.schema.getTextInlineElements()[X.nodeName]}),C=V.cloneNode(!1),v=q.map(v,function(X){return X=X.cloneNode(!1),C.hasChildNodes()?(X.appendChild(C.firstChild),C.appendChild(X)):C.appendChild(X),C.appendChild(X),X}),v.length?(y=u.create("br"),v[0].appendChild(y),u.replace(C,V),U.setStartBefore(y),U.setEndBefore(y),c8.selection.setRng(U),y):null}function E(V){return V&&c8.schema.getTextBlockElements()[V.tagName]}var w,T,C,S,R,P,N,y,v;if(U.collapsed&&(P=U.startContainer,N=U.startOffset,T=u.getParent(P,u.isBlock),E(T))){if(1==P.nodeType){if(P=P.childNodes[N],P&&"BR"!=P.tagName){return}if(R=Q?T.nextSibling:T.previousSibling,u.isEmpty(T)&&E(R)&&u.isEmpty(R)&&x(T,P)){return u.remove(R),!0}}else{if(3==P.nodeType){if(w=b.create(T,P),S=T.cloneNode(!0),P=b.resolve(S,w),Q){if(N>=P.data.length){return}P.deleteData(N,1)}else{if(0>=N){return}P.deleteData(N-1,1)}if(u.isEmpty(S)){return x(T,P)}}}}}function I(x){var v,y,w;B(x)||(q.each(c8.getBody().getElementsByTagName("*"),function(C){"SPAN"==C.tagName&&C.setAttribute("mce-data-marked",1),!C.hasAttribute("data-mce-style")&&C.hasAttribute("style")&&c8.dom.setAttrib(C,"style",c8.dom.getAttrib(C,"style"))}),v=new L(function(){}),v.observe(c8.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),c8.getDoc().execCommand(x?"ForwardDelete":"Delete",!1,null),y=c8.selection.getRng(),w=y.startContainer.parentNode,q.each(v.takeRecords(),function(E){if(u.isChildOf(E.target,c8.getBody())){if("style"==E.attributeName){var C=E.target.getAttribute("data-mce-style");C?E.target.setAttribute("style",C):E.target.removeAttribute("style")}q.each(E.addedNodes,function(Q){if("SPAN"==Q.nodeName&&!Q.getAttribute("mce-data-marked")){var P,N;Q==w&&(P=y.startOffset,N=Q.firstChild),u.remove(Q,!0),N&&(y.setStart(N,P),y.setEnd(N,P),c8.selection.setRng(y))}})}}),v.disconnect(),q.each(c8.dom.select("span[mce-data-marked]"),function(C){C.removeAttribute("mce-data-marked")}))}var H=c8.getDoc(),u=c8.dom,J=c8.selection,L=window.MutationObserver,O,D;L||(O=!0,L=function(){function x(E){var C=E.relatedNode||E.target;y.push({target:C,addedNodes:[C]})}function v(E){var C=E.relatedNode||E.target;y.push({target:C,attributeName:E.attrName})}var y=[],w;this.observe=function(C){w=C,w.addEventListener("DOMSubtreeModified",x,!1),w.addEventListener("DOMNodeInsertedIntoDocument",x,!1),w.addEventListener("DOMNodeInserted",x,!1),w.addEventListener("DOMAttrModified",v,!1)},this.disconnect=function(){w.removeEventListener("DOMSubtreeModified",x,!1),w.removeEventListener("DOMNodeInsertedIntoDocument",x,!1),w.removeEventListener("DOMNodeInserted",x,!1),w.removeEventListener("DOMAttrModified",v,!1)},this.takeRecords=function(){return y}}),c8.on("keydown",function(y){var w=y.keyCode==cR,E=y.ctrlKey||y.metaKey;if(!de(y)&&(w||y.keyCode==cN)){var x=c8.selection.getRng(),v=x.startContainer,C=x.startOffset;if(w&&y.shiftKey){return}if(M(w,x)){return void y.preventDefault()}if(!E&&x.collapsed&&3==v.nodeType&&(w?C<v.data.length:C>0)){return}y.preventDefault(),E&&c8.selection.getSel().modify("extend",w?"forward":"backward",y.metaKey?"lineboundary":"word"),I(w)}}),c8.on("keypress",function(x){if(!de(x)&&!J.isCollapsed()&&x.charCode>31&&!j.metaKeyPressed(x)){var N,C,w,E,v,y;N=c8.selection.getRng(),y=String.fromCharCode(x.charCode),x.preventDefault(),C=i(N.startContainer).parents().filter(function(Q,P){return !!c8.schema.getTextInlineElements()[P.nodeName]}),I(!0),C=C.filter(function(Q,P){return !i.contains(c8.getBody(),P)}),C.length?(w=u.createFragment(),C.each(function(Q,P){P=P.cloneNode(!1),w.hasChildNodes()?(P.appendChild(w.firstChild),w.appendChild(P)):(v=P,w.appendChild(P)),w.appendChild(P)}),v.appendChild(c8.getDoc().createTextNode(y)),E=u.getParent(N.startContainer,u.isBlock),u.isEmpty(E)?i(E).empty().append(w):N.insertNode(w),N.setStart(v.firstChild,1),N.setEnd(v.firstChild,1),c8.selection.setRng(N)):c8.selection.setContent(y)}}),c8.addCommand("Delete",function(){I()}),c8.addCommand("ForwardDelete",function(){I(!0)}),O||(c8.on("dragstart",function(v){D=J.getRng(),db(v)}),c8.on("drop",function(v){if(!de(v)){var w=da(v);w&&(v.preventDefault(),g.setEditorTimeout(c8,function(){var x=p.getCaretRangeFromPoint(v.x,v.y,H);D&&(J.setRng(D),D=null),I(),J.setRng(x),df(w.html)}))}}),c8.on("cut",function(v){de(v)||!v.clipboardData||c8.selection.isCollapsed()||(v.preventDefault(),v.clipboardData.clearData(),v.clipboardData.setData("text/html",c8.selection.getContent()),v.clipboardData.setData("text/plain",c8.selection.getContent({format:"text"})),g.setEditorTimeout(c8,function(){I(!0)}))}))}function c3(){function u(x){var w=cO.create("body"),y=x.cloneContents();return w.appendChild(y),be.serializer.serialize(w,{format:"html"})}function v(A){if(!A.setStart){if(A.item){return !1}var y=A.duplicate();return y.moveToElementText(c8.getBody()),p.compareRanges(A,y)}var x=u(A),z=cO.createRng();z.selectNode(c8.getBody());var w=u(z);return x===w}c8.on("keydown",function(z){var x=z.keyCode,y,w;if(!de(z)&&(x==cR||x==cN)){if(y=c8.selection.isCollapsed(),w=c8.getBody(),y&&!cO.isEmpty(w)){return}if(!y&&!v(c8.selection.getRng())){return}z.preventDefault(),c8.setContent(""),w.firstChild&&cO.isBlock(w.firstChild)?c8.selection.setCursorLocation(w.firstChild,0):c8.selection.setCursorLocation(w,0),c8.nodeChanged()}})}function di(){c8.shortcuts.add("meta+a",null,"SelectAll")}function cW(){c8.settings.content_editable||cO.bind(c8.getDoc(),"mousedown mouseup",function(v){var u;if(v.target==c8.getDoc().documentElement){if(u=be.getRng(),c8.getBody().focus(),"mousedown"==v.type){if(k.isCaretContainer(u.startContainer)){return}be.placeCaretAt(v.clientX,v.clientY)}else{be.setRng(u)}}})}function c5(){c8.on("keydown",function(v){if(!de(v)&&v.keyCode===cN){if(!c8.getBody().getElementsByTagName("hr").length){return}if(be.isCollapsed()&&0===be.getRng(!0).startOffset){var u=be.getNode(),w=u.previousSibling;if("HR"==u.nodeName){return cO.remove(u),void v.preventDefault()}w&&w.nodeName&&"hr"===w.nodeName.toLowerCase()&&(cO.remove(w),v.preventDefault())}}})}function c6(){window.Range.prototype.getClientRects||c8.on("mousedown",function(v){if(!de(v)&&"HTML"===v.target.nodeName){var u=c8.getBody();u.blur(),g.setEditorTimeout(c8,function(){u.focus()})}})}function cT(){c8.on("click",function(v){var u=v.target;/^(IMG|HR)$/.test(u.nodeName)&&"false"!==cO.getContentEditableParent(u)&&(v.preventDefault(),be.getSel().setBaseAndExtent(u,0,u,1),c8.nodeChanged()),"A"==u.nodeName&&cO.hasClass(u,"mce-item-anchor")&&(v.preventDefault(),be.select(u))})}function ct(){function v(){var w=cO.getAttribs(be.getStart().cloneNode(!1));return function(){var x=be.getStart();x!==c8.getBody()&&(cO.setAttrib(x,"style",null),e(w,function(y){x.setAttributeNode(y.cloneNode(!0))}))}}function u(){return !be.isCollapsed()&&cO.getParent(be.getStart(),cO.isBlock)!=cO.getParent(be.getEnd(),cO.isBlock)}c8.on("keypress",function(x){var w;return de(x)||8!=x.keyCode&&46!=x.keyCode||!u()?void 0:(w=v(),c8.getDoc().execCommand("delete",!1,null),w(),x.preventDefault(),!1)}),cO.bind(c8.getDoc(),"cut",function(x){var w;!de(x)&&u()&&(w=v(),g.setEditorTimeout(c8,function(){w()}))})}function dk(){document.body.setAttribute("role","application")}function t(){c8.on("keydown",function(v){if(!de(v)&&v.keyCode===cN&&be.isCollapsed()&&0===be.getRng(!0).startOffset){var u=be.getNode().previousSibling;if(u&&u.nodeName&&"table"===u.nodeName.toLowerCase()){return v.preventDefault(),!1}}})}function dc(){dg()>7||(dh("RespectVisibilityInDesign",!0),c8.contentStyles.push(".mceHideBrInPre pre br {display: none}"),cO.addClass(c8.getBody(),"mceHideBrInPre"),dj.addNodeFilter("pre",function(x){for(var v=x.length,z,w,y,u;v--;){for(z=x[v].getAll("br"),w=z.length;w--;){y=z[w],u=y.prev,u&&3===u.type&&"\n"!=u.value.charAt(u.value-1)?u.value+="\n":y.parent.insert(new h("#text",3),y,!0).value="\n"}}}),l.addNodeFilter("pre",function(x){for(var v=x.length,z,w,u,y;v--;){for(z=x[v].getAll("br"),w=z.length;w--;){u=z[w],y=u.prev,y&&3==y.type&&(y.value=y.value.replace(/\r?\n$/,""))}}}))}function s(){cO.bind(c8.getBody(),"mouseup",function(){var v,u=be.getNode();"IMG"==u.nodeName&&((v=cO.getStyle(u,"width"))&&(cO.setAttrib(u,"width",v.replace(/[^0-9%]+/g,"")),cO.setStyle(u,"width","")),(v=cO.getStyle(u,"height"))&&(cO.setAttrib(u,"height",v.replace(/[^0-9%]+/g,"")),cO.setStyle(u,"height","")))})}function at(){c8.on("keydown",function(w){var z,x,v,y,u;if(!de(w)&&w.keyCode==j.BACKSPACE&&(z=be.getRng(),x=z.startContainer,v=z.startOffset,y=cO.getRoot(),u=x,z.collapsed&&0===v)){for(;u&&u.parentNode&&u.parentNode.firstChild==u&&u.parentNode!=y;){u=u.parentNode}"BLOCKQUOTE"===u.tagName&&(c8.formatter.toggle("blockquote",null,u),z=cO.createRng(),z.setStart(x,0),z.setEnd(x,0),be.setRng(z))}})}function cY(){function u(){c8._refreshContentEditable(),dh("StyleWithCSS",!1),dh("enableInlineTableEditing",!1),c.object_resizing||dh("enableObjectResizing",!1)}c.readonly||c8.on("BeforeExecCommand MouseDown",u)}function cX(){function u(){e(cO.select("a"),function(w){var v=w.parentNode,x=cO.getRoot();if(v.lastChild===w){for(;v&&!cO.isBlock(v);){if(v.parentNode.lastChild!==v||v===x){return}v=v.parentNode}cO.add(v,"br",{"data-mce-bogus":1})}})}c8.on("SetContent ExecCommand",function(v){("setcontent"==v.type||"mceInsertLink"===v.command)&&u()})}function cV(){c.forced_root_block&&c8.on("init",function(){dh("DefaultParagraphSeparator",c.forced_root_block)})}function cL(){c8.on("keydown",function(v){var u;de(v)||v.keyCode!=cN||(u=c8.getDoc().selection.createRange(),u&&u.item&&(v.preventDefault(),c8.undoManager.beforeChange(),cO.remove(u.item(0)),c8.undoManager.add()))})}function cM(){var u;dg()>=10&&(u="",e("p div h1 h2 h3 h4 h5 h6".split(" "),function(v,w){u+=(w>0?",":"")+v+":empty"}),c8.contentStyles.push(u+"{padding-right: 1px !important}"))}function bt(){dg()<9&&(dj.addNodeFilter("noscript",function(w){for(var u=w.length,x,v;u--;){x=w[u],v=x.firstChild,v&&x.attr("data-mce-innertext",v.value)}}),l.addNodeFilter("noscript",function(x){for(var v=x.length,y,w,u;v--;){y=x[v],w=x[v].firstChild,w?w.value=d.decode(w.value):(u=y.attributes.map["data-mce-innertext"],u&&(y.attr("data-mce-innertext",null),w=new h("#text",3),w.value=u,w.raw=!0,y.append(w)))}}))}function cQ(){function z(E,C){var F=v.createTextRange();try{F.moveToPoint(E,C)}catch(D){F=null}return F}function w(C){var D;C.button?(D=z(C.x,C.y),D&&(D.compareEndPoints("StartToStart",u)>0?D.setEndPoint("StartToStart",u):D.setEndPoint("EndToEnd",u),D.select())):B()}function B(){var C=y.selection.createRange();u&&!C.item&&0===C.compareEndPoints("StartToEnd",C)&&u.select(),cO.unbind(y,"mouseup",B),cO.unbind(y,"mousemove",w),u=A=0}var y=cO.doc,v=y.body,A,u,x;y.documentElement.unselectable=!0,cO.bind(y,"mousedown contextmenu",function(C){if("HTML"===C.target.nodeName){if(A&&B(),x=y.documentElement,x.scrollHeight>x.clientHeight){return}A=1,u=z(C.x,C.y),u&&(cO.bind(y,"mouseup",B),cO.bind(y,"mousemove",w),cO.getRoot().focus(),u.select())}})}function ce(){c8.on("keyup focusin mouseup",function(u){65==u.keyCode&&j.metaKeyPressed(u)||be.normalize()},!0)}function cP(){c8.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function cS(){c8.inline||c8.on("keydown",function(){document.activeElement==document.body&&c8.getWin().focus()})}function c2(){c8.inline||(c8.contentStyles.push("body {min-height: 150px}"),c8.on("click",function(v){var u;if("HTML"==v.target.nodeName){if(m.ie>11){return void c8.getBody().focus()}u=c8.selection.getRng(),c8.getBody().focus(),c8.selection.setRng(u),c8.selection.normalize(),c8.nodeChanged()}}))}function n(){m.mac&&c8.on("keydown",function(u){!j.metaKeyPressed(u)||u.shiftKey||37!=u.keyCode&&39!=u.keyCode||(u.preventDefault(),c8.selection.getSel().modify("move",37==u.keyCode?"backward":"forward","lineboundary"))})}function o(){dh("AutoUrlDetect",!1)}function r(){c8.on("click",function(v){var u=v.target;do{if("A"===u.tagName){return void v.preventDefault()}}while(u=u.parentNode)}),c8.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function cZ(){c8.on("init",function(){c8.dom.bind(c8.getBody(),"submit",function(u){u.preventDefault()})})}function c9(){dj.addNodeFilter("br",function(v){for(var u=v.length;u--;){"Apple-interchange-newline"==v[u].attr("class")&&v[u].remove()}})}function dd(){c8.on("dragstart",function(u){db(u)}),c8.on("drop",function(v){if(!de(v)){var w=da(v);if(w&&w.id!=c8.id){v.preventDefault();var u=p.getCaretRangeFromPoint(v.x,v.y,c8.getDoc());be.setRng(u),df(w.html)}}})}var e=q.each,i=c8.$,cN=j.BACKSPACE,cR=j.DELETE,cO=c8.dom,be=c8.selection,c=c8.settings,dj=c8.parser,l=c8.serializer,a=m.gecko,c4=m.ie,c0=m.webkit,c1="data:text/mce-internal,",cU=c4?"Text":"URL";at(),c3(),ce(),c0&&(c7(),cW(),cT(),cV(),cZ(),t(),c9(),m.iOS?(cS(),c2(),r()):di()),c4&&m.ie<11&&(c5(),dk(),dc(),s(),cL(),cM(),bt(),cQ()),m.ie>=11&&(c2(),t()),m.ie&&(di(),o(),dd()),a&&(c5(),c6(),ct(),cY(),cX(),cP(),n(),t())}}),br(a0,[bP,bl,bu],function(h,d,k){function g(i,a){return"selectionchange"==a?i.getDoc():!i.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(a)?i.getDoc().documentElement:i.settings.event_root?(i.eventRoot||(i.eventRoot=j.select(i.settings.event_root)[0]),i.eventRoot):i.getBody()}function c(o,l){function p(i){return !i.hidden&&!i.readonly}var a=g(o,l),m;if(o.delegates||(o.delegates={}),!o.delegates[l]){if(o.settings.event_root){if(b||(b={},o.editorManager.on("removeEditor",function(){var e;if(!o.editorManager.activeEditor&&b){for(e in b){o.dom.unbind(g(o,e))}b=null}})),b[l]){return}m=function(u){for(var q=u.target,n=o.editorManager.editors,t=n.length;t--;){var e=n[t].getBody();(e===q||j.isChildOf(q,e))&&p(n[t])&&n[t].fire(l,u)}},b[l]=m,j.bind(a,l,m)}else{m=function(e){p(o)&&o.fire(l,e)},j.bind(a,l,m),o.delegates[l]=m}}}var j=d.DOM,b,f={bindPendingEventDelegates:function(){var a=this;k.each(a._pendingNativeEvents,function(e){c(a,e)})},toggleNativeEvent:function(i,a){var l=this;"focus"!=i&&"blur"!=i&&(a?l.initialized?c(l,i):l._pendingNativeEvents?l._pendingNativeEvents.push(i):l._pendingNativeEvents=[i]:l.initialized&&(l.dom.unbind(g(l,i),i,l.delegates[i]),delete l.delegates[i]))},unbindAllNativeEvents:function(){var i=this,a;if(i.delegates){for(a in i.delegates){i.dom.unbind(g(i,a),a,i.delegates[a])}delete i.delegates}i.inline||(i.getBody().onload=null,i.dom.unbind(i.getWin()),i.dom.unbind(i.getDoc())),i.dom.unbind(i.getBody()),i.dom.unbind(i.getContainer())}};return f=k.extend({},h,f)}),br(a7,[],function(){function b(f,c,g){try{f.getDoc().execCommand(c,!1,g)}catch(d){}}function a(c,e){var d=c.readonly?"readonly":"design";e!=d&&("readonly"==e?(c.selection.controlSelection.hideResizeRect(),c.readonly=!0,c.getBody().contentEditable=!1):(c.readonly=!1,c.getBody().contentEditable=!0,b(c,"StyleWithCSS",!1),b(c,"enableInlineTableEditing",!1),b(c,"enableObjectResizing",!1),c.focus(),c.nodeChanged()),c.fire("SwitchMode",{mode:e}))}return{setMode:a}}),br(aB,[bu,bE],function(d,b){var g=d.each,c=d.explode,a={f9:120,f10:121,f11:122},f=d.makeMap("alt,ctrl,shift,meta,access");return function(h){function i(p,n,k,r){var m,q,o;o={func:k,scope:r||h,desc:h.translate(n)},g(c(p,"+"),function(l){l in f?o[l]=!0:/^[0-9]{2,}$/.test(l)?o.keyCode=parseInt(l,10):(o.charCode=l.charCodeAt(0),o.keyCode=a[l]||l.toUpperCase().charCodeAt(0))}),m=[o.keyCode];for(q in f){o[q]?m.push(q):o[q]=!1}return o.id=m.join(","),o.access&&(o.alt=!0,b.mac?o.ctrl=!0:o.shift=!0),o.meta&&(b.mac?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o}var e=this,j={};h.on("keyup keypress keydown",function(k){(k.altKey||k.ctrlKey||k.metaKey)&&!k.isDefaultPrevented()&&g(j,function(l){return l.ctrl==k.ctrlKey&&l.meta==k.metaKey&&l.alt==k.altKey&&l.shift==k.shiftKey&&(k.keyCode==l.keyCode||k.charCode&&k.charCode==l.charCode)?(k.preventDefault(),"keydown"==k.type&&l.func.call(l.scope),!0):void 0})}),e.add=function(p,n,q,k){var m;return m=q,"string"==typeof q?q=function(){h.execCommand(m,!1,null)}:d.isArray(m)&&(q=function(){h.execCommand(m[0],m[1],m[2])}),g(c(p.toLowerCase()),function(o){var l=i(o,n,q,k);j[l.id]=l}),!0},e.remove=function(l){var k=i(l);return j[k.id]?(delete j[k.id],!0):!1}}}),br(cC,[bK,bu,bh],function(b,a,c){return function(e){function n(f){var d,h;return h={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},d=h[f.blob().type.toLowerCase()]||"dat",f.id()+"."+d}function g(f,d){return f?f.replace(/\/$/,"")+"/"+d.replace(/^\//,""):d}function w(d){return{id:d.id,blob:d.blob,base64:d.base64,filename:c.constant(n(d))}}function y(m,h,r,f){var i,d,o;i=new XMLHttpRequest,i.open("POST",e.url),i.withCredentials=e.credentials,o=f(),i.upload.onprogress=function(s){var l=Math.round(s.loaded/s.total*100);o.progressBar.value(l)},i.onload=function(){var l;return o.close(),200!=i.status?void r("HTTP Error: "+i.status):(l=JSON.parse(i.responseText),l&&"string"==typeof l.location?void h(g(e.basePath,l.location)):void r("Invalid JSON: "+i.responseText))},d=new FormData,d.append("file",m.blob(),n(m)),i.send(d)}function k(){return new b(function(d){d([])})}function v(d){return d.then(function(f){return f})["catch"](function(f){return f})}function x(l,f,m){var h=l(m),d=v(h);return delete j[f],j[f]=d,d}function t(d,f){return a.map(d,function(i){var h=i.id();return j[h]?j[h]:x(f,h,i)})}function q(f,l){function d(i){return new b(function(o){var m=e.handler;m(w(i),function(r){o({url:r,blobInfo:i,status:!0})},function(r){o({url:"",blobInfo:i,status:!1,error:r})},l)})}var h=t(f,d);return b.all(h)}function p(f,d){return e.url||e.handler!==y?q(f,d):k()}var j={};return e=a.extend({credentials:!1,handler:y},e),{upload:p}}}),br(aJ,[bK],function(d){function b(e){return new d(function(h){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200==this.status&&h(this.response)},i.send()})}function g(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}}function c(e){return new d(function(l){var k,j,m;e=g(e);try{k=atob(e.data)}catch(h){return void l(new Blob([]))}for(j=new Uint8Array(k.length),m=0;m<j.length;m++){j[m]=k.charCodeAt(m)}l(new Blob([j],{type:e.type}))})}function a(h){return 0===h.indexOf("blob:")?b(h):0===h.indexOf("data:")?c(h):null}function f(e){return new d(function(h){var i=new FileReader;i.onloadend=function(){h(i.result)},i.readAsDataURL(e)})}return{uriToBlob:a,blobToDataUri:f,parseDataUri:g}}),br(cp,[bK,by,bh,aJ,bE],function(d,b,g,c,a){var f=0;return function(h){function i(k,n){function j(q,p){var r,o;return 0===q.src.indexOf("blob:")?(o=h.getByUri(q.src),void (o&&p({image:q,blobInfo:o}))):(r=c.parseDataUri(q.src).data,o=h.findFirst(function(s){return s.base64()===r}),void (o?p({image:q,blobInfo:o}):c.uriToBlob(q.src).then(function(v){var t="blobid"+f++,u=h.create(t,v,r);h.add(u),p({image:q,blobInfo:u})})))}var m,l;return n||(n=g.constant(!0)),m=b.filter(k.getElementsByTagName("img"),function(p){var o=p.src;return a.fileApi?p.hasAttribute("data-mce-bogus")?!1:p.hasAttribute("data-mce-placeholder")?!1:o&&o!=a.transparentSrc?0===o.indexOf("blob:")?!0:0===o.indexOf("data:")?n(p):!1:!1:!1}),l=b.map(m,function(o){var p;return e[o.src]?new d(function(q){e[o.src].then(function(r){q({image:o,blobInfo:r.blobInfo})})}):(p=new d(function(q){j(o,q)}).then(function(q){return delete e[q.image.src],q})["catch"](function(q){return delete e[o.src],q}),e[o.src]=p,p)}),d.all(l)}var e={};return{findAll:i}}}),br(aj,[by,bh],function(b,a){return function(){function m(i,c,l){return{id:k(i),blob:k(c),base64:k(l),blobUri:k(URL.createObjectURL(c))}}function h(c){f(c.id())||d.push(c)}function f(c){return j(function(i){return i.id()===c})}function j(c){return b.filter(d,c)[0]}function e(c){return j(function(i){return i.blobUri()==c})}function g(){b.each(d,function(c){URL.revokeObjectURL(c.blobUri())}),d=[]}var d=[],k=a.constant;return{create:m,add:h,get:f,getByUri:e,findFirst:j,destroy:g}}}),br(cv,[by,cC,cp,aj],function(c,a,d,b){return function(q){function j(f){return function(g){return q.selection?f(g):[]}}function B(h,f,i){var g=0;do{g=h.indexOf(f,g),-1!==g&&(h=h.substring(0,g)+i+h.substr(g+f.length),g+=i.length-f.length+1)}while(-1!==g);return h}function E(g,f,h){return g=B(g,'src="'+f+'"','src="'+h+'"'),g=B(g,'data-mce-src="'+f+'"','data-mce-src="'+h+'"')}function n(f,g){c.each(q.undoManager.data,function(h){h.content=E(h.content,f,g)})}function z(){return q.notificationManager.open({text:q.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function D(f){return t||(t=new a({url:A.images_upload_url,basePath:A.images_upload_base_path,credentials:A.images_upload_credentials,handler:A.images_upload_handler})),w().then(j(function(g){var h;return h=c.map(g,function(i){return i.blobInfo}),t.upload(h,z).then(j(function(i){return i=c.map(i,function(m,o){var l=g[o].image;return n(l.src,m.url),q.$(l).attr({src:m.url,"data-mce-src":q.convertURL(m.url,"src")}),{element:l,status:m.status}}),f&&f(i),i}))}))}function x(f){return A.automatic_uploads!==!1?D(f):void 0}function w(){return C||(C=new d(e)),C.findAll(q.getBody(),A.images_dataimg_filter).then(j(function(f){return c.each(f,function(g){n(g.image.src,g.blobInfo.blobUri()),g.image.src=g.blobInfo.blobUri()}),f}))}function r(){e.destroy(),C=t=null}function k(f){return f.replace(/src="(blob:[^"]+)"/g,function(g,i){var h=e.getByUri(i);return h||(h=c.reduce(q.editorManager.editors,function(m,l){return m||l.editorUpload.blobCache.getByUri(i)},null)),h?'src="data:'+h.blob().type+";base64,"+h.base64()+'"':g})}var e=new b,t,C,A=q.settings;return q.on("setContent",function(){q.settings.automatic_uploads!==!1?x():w()}),q.on("RawSaveContent",function(f){f.content=k(f.content)}),q.on("getContent",function(f){f.source_view||"raw"==f.format||(f.content=k(f.content))}),{blobCache:e,uploadImages:D,uploadImagesAuto:x,scanForImages:w,destroy:r}}}),br(bo,[bh,bi,bO,cB,bA,bU],function(X,H,O,K,T,M){function at(a){return a>0}function I(a){return 0>a}function Q(d,g,c,b,f){var a=new H(d,b);if(I(g)){if(J(d)&&(d=a.prev(!0),c(d))){return d}for(;d=a.prev(f);){if(c(d)){return d}}}if(at(g)){if(J(d)&&(d=a.next(!0),c(d))){return d}for(;d=a.next(f);){if(c(d)){return d}}}return null}function Z(b,a){for(b=b.parentNode;b&&b!=a;b=b.parentNode){if(ae(b)){return b}}return a}function F(b,a){for(;b&&b!=a;){if(A(b)){return b}b=b.parentNode}return null}function Y(b,a,c){return F(b.container(),c)==F(a.container(),c)}function W(b,a,c){return Z(b.container(),c)==Z(a.container(),c)}function U(c,a){var d,b;return a?(d=a.container(),b=a.offset(),q(d)?d.childNodes[b+c]:null):null}function P(b,a){var c=a.ownerDocument.createRange();return b?(c.setStartBefore(a),c.setEndBefore(a)):(c.setStartAfter(a),c.setEndAfter(a)),c}function L(b,a,c){return F(a,b)==F(c,b)}function V(d,b,f){var c,a;for(a=d?"previousSibling":"nextSibling";f&&f!=b;){if(c=f[a],B(c)&&(c=c[a]),J(c)){if(L(b,c,f)){return c}break}if(be(c)){break}f=f.parentNode}return null}function D(g,m,b){var d,i,n,f,h=G(V,!0,m),k=G(V,!1,m);if(i=b.startContainer,n=b.startOffset,T.isCaretContainerBlock(i)){if(q(i)||(i=i.parentNode),f=i.getAttribute("data-mce-caret"),"before"==f&&(d=i.nextSibling,J(d))){return j(d)}if("after"==f&&(d=i.previousSibling,J(d))){return R(d)}}if(!b.collapsed){return b}if(O.isText(i)){if(B(i)){if(1===g){if(d=k(i)){return j(d)}if(d=h(i)){return R(d)}}if(-1===g){if(d=h(i)){return R(d)}if(d=k(i)){return j(d)}}return b}if(T.endsWithCaretContainer(i)&&n>=i.data.length-1){return 1===g&&(d=k(i))?j(d):b}if(T.startsWithCaretContainer(i)&&1>=n){return -1===g&&(d=h(i))?R(d):b}if(n===i.data.length){return d=k(i),d?j(d):b}if(0===n){return d=h(i),d?R(d):b}}return b}function z(b,a){return J(U(b,a))}var ae=O.isContentEditableTrue,J=O.isContentEditableFalse,A=O.matchStyleValues("display","block table table-cell table-caption"),B=T.isCaretContainer,G=X.curry,q=O.isElement,be=M.isCaretCandidate,j=G(P,!0),R=G(P,!1);return{isForwards:at,isBackwards:I,findNode:Q,getEditingHost:Z,getParentBlock:F,isInSameBlock:Y,isInSameEditingHost:W,isBeforeContentEditableFalse:G(z,0),isAfterContentEditableFalse:G(z,-1),normalizeRange:D}}),br(bW,[bO,bU,cB,bo,by,bh],function(G,k,z,w,C,y){function J(c,a){for(var d=[];c&&c!=a;){d.push(c),c=c.parentNode}return d}function q(c,a){return c.hasChildNodes()&&a<c.childNodes.length?c.childNodes[a]:null}function B(c,a){if(D(c)){if(x(a.previousSibling)&&!H(a.previousSibling)){return z.before(a)}if(H(a)){return z(a,0)}}if(A(c)){if(x(a.nextSibling)&&!H(a.nextSibling)){return z.after(a)}if(H(a)){return z(a,a.data.length)}}return A(c)?z.after(a):z.before(a)}function I(f,n,g){var h,i,a,l,m,o,d;if(!F(g)||!n){return null}if(d=n,h=d.container(),i=d.offset(),H(h)){if(A(f)&&i>0){return z(h,--i)}if(D(f)&&i<h.length){return z(h,++i)}a=h}else{if(A(f)&&i>0&&(l=q(h,i-1),x(l))){return !E(l)&&(m=w.findNode(l,f,b,l))?H(m)?z(m,m.data.length):z.after(m):H(l)?z(l,l.data.length):z.before(l)}if(D(f)&&i<h.childNodes.length&&(l=q(h,i),x(l))){return !E(l)&&(m=w.findNode(l,f,b,l))?H(m)?z(m,0):z.before(m):H(l)?z(l,0):z.after(l)}a=d.getNode()}return(D(f)&&d.isAtEnd()||A(f)&&d.isAtStart())&&(a=w.findNode(a,f,y.constant(!0),g,!0),b(a))?B(f,a):(l=w.findNode(a,f,b,g),o=C.last(C.filter(J(h,g),j)),!o||l&&o.contains(l)?l?B(f,l):null:d=D(f)?z.after(o):z.before(o))}var j=G.isContentEditableFalse,H=G.isText,F=G.isElement,D=w.isForwards,A=w.isBackwards,x=k.isCaretCandidate,E=k.isAtomic,b=k.isEditableCaretCandidate;return function(a){return{next:function(c){return I(1,c,a)},prev:function(c){return I(-1,c,a)}}}}),br(cu,[bA,cB,bO,bY,bF,bV,bn],function(h,d,k,g,c,j,b){var f=k.isContentEditableFalse;return function(A,i){function a(C,E){var B=j.collapse(C.getBoundingClientRect(),E),t,p,u,m,D;return"BODY"==A.tagName?(t=A.ownerDocument.documentElement,p=A.scrollLeft||t.scrollLeft,u=A.scrollTop||t.scrollTop):(D=A.getBoundingClientRect(),p=A.scrollLeft-D.left,u=A.scrollTop-D.top),B.left+=p,B.right+=p,B.top+=u,B.bottom+=u,B.width=1,m=C.offsetWidth-C.clientWidth,m>0&&(E&&(m*=-1),B.left+=m,B.right+=m),B}function q(){var u,p,t,l,m;for(u=c("*[contentEditable=false]",A),l=0;l<u.length;l++){p=u[l],t=p.previousSibling,h.endsWithCaretContainer(t)&&(m=t.data,1==m.length?t.parentNode.removeChild(t):t.deleteData(m.length-1,1)),t=p.nextSibling,h.startsWithCaretContainer(t)&&(m=t.data,1==m.length?t.parentNode.removeChild(t):t.deleteData(0,1))}return null}function y(r,n){var m,t,p;return z(),i(n)?(v=h.insertBlock("p",n,r),m=a(n,r),c(v).css("top",m.top),e=c('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(m).appendTo(A),r&&e.addClass("mce-visual-caret-before"),x(),t=n.ownerDocument.createRange(),p=v.firstChild,t.setStart(p,0),t.setEnd(p,1),t):(v=h.insertInline(n,r),t=n.ownerDocument.createRange(),f(v.nextSibling)?(t.setStart(v,0),t.setEnd(v,0)):(t.setStart(v,1),t.setEnd(v,1)),t)}function z(){q(),v&&(h.remove(v),v=null),e&&(e.remove(),e=null),clearInterval(o)}function x(){o=b.setInterval(function(){c("div.mce-visual-caret",A).toggleClass("mce-visual-caret-hidden")},500)}function w(){b.clearInterval(o)}function s(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var o,e,v;return{show:y,hide:z,getCss:s,destroy:w}}}),br(cm,[by,bO,bV],function(c,a,d){function b(f){function g(h){return c.map(h,function(i){return i=d.clone(i),i.node=f,i})}if(c.isArray(f)){return c.reduce(f,function(i,h){return i.concat(b(h))},[])}if(a.isElement(f)){return g(f.getClientRects())}if(a.isText(f)){var e=f.ownerDocument.createRange();return e.setStart(f,0),e.setEnd(f,f.data.length),g(e.getClientRects())}}return{getClientRects:b}}),br(a8,[bh,by,cm,bU,bo,bW,cB,bV],function(z,E,k,b,w,j,C,F){function v(c,a,f,d){for(;d=w.findNode(d,c,b.isEditableCaretCandidate,a);){if(f(d)){return}}}function B(G,l,n,m,J,L){function I(e){var d,a,f;for(f=k.getClientRects(e),-1==G&&(f=f.reverse()),d=0;d<f.length;d++){if(a=f[d],!n(a,p)){if(t.length>0&&l(a,E.last(t))&&K++,a.line=K,J(a)){return !0}t.push(a)}}}var K=0,H,t=[],p;return(p=E.last(L.getClientRects()))?(H=L.getNode(),I(H),v(G,m,I,H),t):t}function D(c,a){return a.line>c}function A(c,a){return a.line===c}function y(L,s,a,H){function G(c){return 1==L?E.last(c.getClientRects()):E.last(c.getClientRects())}var N=new j(s),P,M,K,I,t=[],o=0,J,O;1==L?(P=N.next,M=F.isBelow,K=F.isAbove,I=C.after(H)):(P=N.prev,M=F.isAbove,K=F.isBelow,I=C.before(H)),O=G(I);do{if(I.isVisible()&&(J=G(I),!K(J,O))){if(t.length>0&&M(J,E.last(t))&&o++,J=F.clone(J),J.position=I,J.line=o,a(J)){return t}t.push(J)}}while(I=P(I));return t}var x=z.curry,q=x(B,-1,F.isAbove,F.isBelow),g=x(B,1,F.isBelow,F.isAbove);return{upUntil:q,downUntil:g,positionsUntil:y,isAboveLine:x(D),isLine:x(A)}}),br(aq,[bh,by,bO,cm,bV,bo,bU],function(G,k,z,w,C,y,J){function q(c,a){return Math.abs(c.left-a)}function B(c,a){return Math.abs(c.right-a)}function I(c,d){function a(g,f){return g>=f.left&&g<=f.right}return k.reduce(c,function(h,g){var f,l;return f=Math.min(q(h,d),B(h,d)),l=Math.min(q(g,d),B(g,d)),a(d,g)?g:a(d,h)?h:l==f&&x(g.node)?g:f>l?g:h})}function j(d,a,f,c){for(;c=E(c,d,J.isEditableCaretCandidate,a);){if(f(c)){return}}}function H(d,g){function f(h,a){var l;return l=k.filter(w.getClientRects(a),function(e){return !h(e,g)}),c=c.concat(l),0===l.length}var c=[];return c.push(g),j(-1,d,b(f,C.isAbove),g.node),j(1,d,b(f,C.isBelow),g.node),c}function F(a){return k.filter(k.toArray(a.getElementsByTagName("*")),x)}function D(c,a){return{node:c.node,before:q(c,a)<B(c,a)}}function A(f,h,d){var g,c;return g=w.getClientRects(F(f)),g=k.filter(g,function(a){return d>=a.top&&d<=a.bottom}),c=I(g,h),c&&(c=I(H(f,c),h),c&&x(c.node))?D(c,h):null}var x=z.isContentEditableFalse,E=y.findNode,b=G.curry;return{findClosestClientRect:I,findLineNodeRects:H,closestCaret:A}}),br(a3,[bO],function(b){function a(q){function z(d){return c(d)}function g(d){w(q.getBody()).css("cursor",d)}function m(d){return d==n.element||q.dom.isChildOf(d,n.element)?!1:c(d)?!1:!0}function j(G){var h,C,f,E,H=0,B=0,F,D,r,e;0===G.button&&(h=G.screenX-n.screenX,C=G.screenY-n.screenY,F=Math.max(Math.abs(h),Math.abs(C)),!n.dragging&&F>10&&(n.dragging=!0,g("default"),n.clone=n.element.cloneNode(!0),f=p.getPos(n.element),n.relX=n.clientX-f.x,n.relY=n.clientY-f.y,n.width=n.element.offsetWidth,n.height=n.element.offsetHeight,w(n.clone).css({width:n.width,height:n.height}).removeAttr("data-mce-selected"),n.ghost=w("<div>").css({position:"absolute",opacity:0.5,overflow:"hidden",width:n.width,height:n.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(n.clone).appendTo(q.getBody())[0],E=q.dom.getViewPort(q.getWin()),n.maxX=E.w,n.maxY=E.h),n.dragging&&(q.selection.placeCaretAt(G.clientX,G.clientY),D=n.clientX+h-n.relX,r=n.clientY+C+5,D+n.width>n.maxX&&(H=D+n.width-n.maxX),r+n.height>n.maxY&&(B=r+n.height-n.maxY),e="BODY"!=q.getBody().nodeName?q.getBody().getBoundingClientRect():{left:0,top:0},w(n.ghost).css({left:D-e.left,top:r-e.top,width:n.width-H,height:n.height-B})))}function x(){n.dragging&&(q.selection.setRng(q.selection.getSel().getRangeAt(0)),m(q.selection.getNode())&&q.undoManager.transact(function(){q.insertContent(p.getOuterHTML(n.element)),w(n.element).remove()})),k()}function A(d){if(k(),z(d.target)){if(q.fire("dragstart",{target:d.target}).isDefaultPrevented()){return}q.on("mousemove",j),q.on("mouseup",x),y!=v&&(p.bind(y,"mousemove",j),p.bind(y,"mouseup",x)),n={screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY,element:d.target}}}function k(){w(n.ghost).remove(),g(null),q.off("mousemove",j),q.off("mouseup",k),y!=v&&(p.unbind(y,"mousemove",j),p.unbind(y,"mouseup",k)),n={}}var w=q.$,y=document,v=q.getDoc(),p=q.dom,n={};q.on("mousedown",A),q.on("drop",function(d){var e=q.getDoc().elementFromPoint(d.clientX,d.clientY);(c(e)||c(q.dom.getContentEditableParent(e)))&&d.preventDefault()})}var c=b.isContentEditableFalse;return{init:a}}),br(ba,[bE,bW,cB,bA,bo,cu,a8,aq,bO,bY,cd,bh,by,bn,a3],function(R,D,K,H,N,J,V,F,M,T,A,S,Q,O,L){function I(b,a){for(;a=b(a);){if(a.isVisible()){return a}}return a}function P(cR){function cQ(c){return cR.dom.isBlock(c)}function cP(c){c&&cR.selection.setRng(c)}function u(){return cR.selection.getRng()}function cT(d,c){cR.selection.scrollIntoView(d,c)}function o(g,c,W){var d;return d=cR.fire("ShowCaret",{target:c,direction:g,before:W}),d.isDefaultPrevented()?null:(cT(c,-1===g),b.show(W,c))}function cN(d){var c;return c=cR.fire("ObjectSelected",{target:d}),c.isDefaultPrevented()?null:(b.hide(),n(d))}function n(d){var c=d.ownerDocument.createRange();return c.selectNode(d),c}function p(d,c){var g=N.isInSameBlock(d,c);return !g&&M.isBr(d.getNode())?!0:g}function ce(d,c){return c=N.normalizeRange(d,x,c),-1==d?K.fromRangeStart(c):K.fromRangeEnd(c)}function bt(c){return H.isCaretContainerBlock(c.startContainer)}function be(Y,g,cU,X){var d,Z,c,W;return !X.collapsed&&(d=B(X),U(d))?o(Y,d,-1==Y):(W=bt(X),Z=ce(Y,X),cU(Z)?cN(Z.getNode(-1==Y)):(Z=g(Z))?cU(Z)?o(Y,Z.getNode(-1==Y),1==Y):(c=g(Z),cU(c)&&p(Z,c)?o(Y,c.getNode(-1==Y),1==Y):W?cL(Z.toRange()):null):W?X:null)}function v(cX,c1,Y){var g,cV,X,cU,cZ,c0,cY,cW,Z;if(Z=B(Y),g=ce(cX,Y),cV=c1(x,V.isAboveLine(1),g),X=Q.filter(cV,V.isLine(1)),cZ=Q.last(g.getClientRects()),q(g)&&(Z=g.getNode()),k(g)&&(Z=g.getNode(!0)),!cZ){return null}if(c0=cZ.left,cU=F.findClosestClientRect(X,c0),cU&&U(cU.node)){return cY=Math.abs(c0-cU.left),cW=Math.abs(c0-cU.right),o(cX,cU.node,cW>cY)}if(Z){var W=V.positionsUntil(cX,x,V.isAboveLine(1),Z);if(cU=F.findClosestClientRect(Q.filter(W,V.isLine(1)),c0)){return cL(cU.position.toRange())}if(cU=Q.last(Q.filter(W,V.isLine(0)))){return cL(cU.position.toRange())}}}function w(g,X){function d(){var Z=cR.dom.create(cR.settings.forced_root_block);return(!R.ie||R.ie>=11)&&(Z.innerHTML='<br data-mce-bogus="1">'),Z}var Y,c,W;if(X.collapsed&&cR.settings.forced_root_block){if(Y=cR.dom.getParent(X.startContainer,"PRE"),!Y){return}c=1==g?y(K.fromRangeStart(X)):r(K.fromRangeStart(X)),c||(W=d(),1==g?cR.$(Y).after(W):cR.$(Y).before(W),cR.selection.select(W,!0),cR.selection.collapse())}}function s(W,d,X,g){var c;return(c=be(W,d,X,g))?c:(c=w(W,g),c?c:null)}function E(g,c,W){var d;return(d=v(g,c,W))?d:(d=w(g,W),d?d:null)}function t(){return a("*[data-mce-caret]")[0]}function C(c){c=a(c),c.attr("data-mce-caret")&&(b.hide(),c.removeAttr("data-mce-caret"),c.removeAttr("data-mce-bogus"),c.removeAttr("style"),cP(u()),cT(c[0]))}function at(d){var c;return d=N.normalizeRange(1,x,d),c=K.fromRangeStart(d),U(c.getNode())?o(1,c.getNode(),!c.isAtEnd()):U(c.getNode(!0))?o(1,c.getNode(!0),!1):(b.hide(),null)}function cL(d){var c;return d&&d.collapsed?(c=at(d),c?c:d):d}function i(W){var g,d,X,c;return U(W)?(U(W.previousSibling)&&(X=W.previousSibling),d=r(K.before(W)),d||(g=y(K.after(W))),g&&G(g.getNode())&&(c=g.getNode()),H.remove(W.previousSibling),H.remove(W.nextSibling),cR.dom.remove(W),e(),cR.dom.isEmpty(cR.getBody())?(cR.setContent(""),void cR.focus()):X?K.after(X).toRange():c?K.before(c).toRange():d?d.toRange():g?g.toRange():null):null}function l(W,d,X){var g,c;return !X.collapsed&&(g=B(X),U(g))?cL(i(g)):(c=ce(W,X),d(c)?cL(i(c.getNode(-1==W))):void 0)}function m(){function cU(cZ){var cY=cZ(u());return cY?(cP(cY),!0):!1}function cW(cZ){for(var cY=cR.getBody();cZ&&cZ!=cY;){if(j(cZ)||U(cZ)){return cZ}cZ=cZ.parentNode}return null}function c(){var cZ,cY=cW(cR.selection.getNode());j(cY)&&cQ(cY)&&cR.dom.isEmpty(cY)&&(cZ=cR.dom.create("br",{"data-mce-bogus":"1"}),cR.$(cY).empty().append(cZ),cR.selection.setRng(K.before(cZ).toRange()))}function Y(cZ){var cY=t();if(cY){return"compositionstart"==cZ.type?(cZ.preventDefault(),cZ.stopPropagation(),void C(cY)):void ("&nbsp;"!=cY.innerHTML&&C(cY))}}function W(cZ){var cY;switch(cZ.keyCode){case A.DELETE:cY=c();break;case A.BACKSPACE:cY=c()}cY&&cZ.preventDefault()}var X=z(s,1,y,q),Z=z(s,-1,r,k),g=z(l,1,q),d=z(l,-1,k),cX=z(E,-1,V.upUntil),cV=z(E,1,V.downUntil);cR.on("mouseup",function(){var cY=u();cY.collapsed&&cP(at(cY))}),cR.on("mousedown",function(cZ){var c0;if(c0=cW(cZ.target)){U(c0)?(cZ.preventDefault(),cO(cN(c0),!1)):cR.selection.placeCaretAt(cZ.clientX,cZ.clientY)}else{e(),b.hide();var cY=F.closestCaret(x,cZ.clientX,cZ.clientY);cY&&(cZ.preventDefault(),cR.getBody().focus(),cP(o(1,cY.node,cY.before)))}}),cR.on("keydown",function(cY){var cZ;if(!A.modifierPressed(cY)){switch(cY.keyCode){case A.RIGHT:cZ=cU(X);break;case A.DOWN:cZ=cU(cV);break;case A.LEFT:cZ=cU(Z);break;case A.UP:cZ=cU(cX);break;case A.DELETE:cZ=cU(g);break;case A.BACKSPACE:cZ=cU(d);break;default:cZ=U(cR.selection.getNode())}cZ&&cY.preventDefault()}}),cR.on("keyup compositionstart",function(cY){Y(cY),W(cY)},!0),cR.on("cut",function(){var cY=cR.selection.getNode();U(cY)&&O.setEditorTimeout(cR,function(){cP(cL(i(cY)))})}),cR.on("getSelectionRange",function(cZ){var cY=cZ.range;if(h){if(!h.parentNode){return void (h=null)}cY=cY.cloneRange(),cY.selectNode(h),cZ.range=cY}}),cR.on("setSelectionRange",function(cZ){var cY;cY=cO(cZ.range),cY&&(cZ.range=cY)}),cR.on("focus",function(){O.setEditorTimeout(cR,function(){cR.selection.setRng(cL(cR.selection.getRng()))})}),L.init(cR)}function ct(){var d=cR.contentStyles,c=".mce-content-body";d.push(b.getCss()),d.push(c+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100pxheight: 100px}"+c+" *[contentEditable=false] {cursor: default;}"+c+" *[contentEditable=true] {cursor: text;}")}function cM(c){return H.isCaretContainer(c.startContainer)||H.isCaretContainer(c.endContainer)}function cO(cU,cY){var W,c=cR.$,Y=cR.dom,g,cW,cZ,X,cX,cV,Z;if(!cU){return e(),null}if(cU.collapsed){if(e(),!cM(cU)){if(Z=ce(1,cU),U(Z.getNode())){return o(1,Z.getNode(),!Z.isAtEnd())}if(U(Z.getNode(!0))){return o(1,Z.getNode(!0),!1)}}return null}return cZ=cU.startContainer,X=cU.startOffset,cX=cU.endOffset,3==cZ.nodeType&&0==X&&U(cZ.parentNode)&&(cZ=cZ.parentNode,X=Y.nodeIndex(cZ),cZ=cZ.parentNode),1!=cZ.nodeType?(e(),null):(cX==X+1&&(W=cZ.childNodes[X]),U(W)?cY!==!1&&(cV=cR.fire("ObjectSelected",{target:W}),cV.isDefaultPrevented())?(e(),null):(g=c("#"+cS),0===g.length&&(g=c('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",cS),g.appendTo(cR.getBody())),g.empty().append("\xa0").append(W.cloneNode(!0)).append("\xa0").css({top:Y.getPos(W,cR.getBody()).y}),cU=cR.dom.createRng(),cU.setStart(g[0].firstChild,1),cU.setEnd(g[0].lastChild,0),cR.getBody().focus(),g[0].focus(),cW=cR.selection.getSel(),cW.removeAllRanges(),cW.addRange(cU),cR.$("*[data-mce-selected]").removeAttr("data-mce-selected"),W.setAttribute("data-mce-selected",1),h=W,cU):(e(),null))}function e(){h&&(h.removeAttribute("data-mce-selected"),cR.$("#"+cS).remove(),h=null)}function f(){b.destroy(),h=null}var x=cR.getBody(),ae=new D(x),y=z(I,ae.next),r=z(I,ae.prev),b=new J(cR.getBody(),cQ),cS="sel-"+cR.dom.uniqueId(),h,a=cR.$;return R.ceFalse&&(m(),ct()),{showBlockCaretContainer:C,destroy:f}}var z=S.curry,j=M.isContentEditableTrue,U=M.isContentEditableFalse,G=M.isElement,k=N.isAfterContentEditableFalse,q=N.isBeforeContentEditableFalse,B=T.getSelectedNode;return P}),br(bf,[bl,bF,b7,b1,cq,cf,b4,bS,cg,cc,b3,bQ,a6,aK,cj,bJ,ag,aY,co,b8,az,bE,bu,bn,a0,a7,aB,cv,ba],function(c4,cW,cT,c0,cV,c8,cS,cY,c6,cR,c5,c3,c1,cX,cU,c2,cQ,cN,c7,ce,cO,cP,be,U,c9,G,cZ,t,J){function cL(g,d,c){var h=this,b,f;b=h.documentBaseUrl=c.documentBaseURL,f=c.baseURI,h.settings=d=Y({id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:b,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:h.convertURL,url_converter_scope:h,ie7_compat:!0},d),cT.language=d.language||"en",cT.languageLoad=d.language_load,cT.baseURL=c.baseURL,h.id=d.id=g,h.setDirty(!1),h.plugins={},h.documentBaseURI=new cX(d.document_base_url||b,{base_uri:f}),h.baseURI=f,h.contentCSS=[],h.contentStyles=[],h.shortcuts=new cZ(h),h.loadedCSS={},h.editorCommands=new c1(h),d.target&&(h.targetElm=d.target),h.suffix=c.suffix,h.editorManager=c,h.inline=d.inline,d.cache_suffix&&(cP.cacheSuffix=d.cache_suffix.replace(/^[\?\&]+/,"")),d.override_viewport===!1&&(cP.overrideViewPort=!1),c.fire("SetupEditor",h),h.execCallback("setup",h),h.$=cW.overrideDefaults(function(){return{context:h.inline?h.getBody():h.getDoc(),element:h.getBody()}})}var ct=c4.DOM,bt=cT.ThemeManager,X=cT.PluginManager,Y=be.extend,K=be.each,ae=be.explode,Q=be.inArray,Z=be.trim,at=be.resolve,cM=c2.Event,j=cP.gecko,q=cP.ie;return cL.prototype={render:function(){function g(){ct.unbind(window,"ready",g),k.render()}function d(){var i=cU.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=k.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&i.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!bt.urls[f.theme]){var a=f.theme_url;a=a?k.documentBaseURI.toAbsolute(a):"themes/"+f.theme+"/theme"+h+".js",bt.load(f.theme,a)}be.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),K(f.external_plugins,function(m,l){X.load(l,m),f.plugins+=" "+l}),K(f.plugins.split(/[ ,]/),function(m){if(m=Z(m),m&&!X.urls[m]){if("-"==m.charAt(0)){m=m.substr(1,m.length);var l=X.dependencies(m);K(l,function(o){var n={prefix:"plugins/",resource:o,suffix:"/plugin"+h+".js"};o=X.createUrl(n,o),X.load(o.resource,o)})}else{X.load(m,{prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"})}}}),i.loadQueue(function(){k.removed||k.init()})}var k=this,f=k.settings,c=k.id,h=k.suffix;if(!cM.domLoaded){return void ct.bind(window,"ready",g)}if(k.getElement()&&cP.contentEditable){f.inline?k.inline=!0:(k.orgVisibility=k.getElement().style.visibility,k.getElement().style.visibility="hidden");var b=k.getElement().form||ct.getParent(c,"form");b&&(k.formElement=b,f.hidden_input&&!/TEXTAREA|INPUT/i.test(k.getElement().nodeName)&&(ct.insertAfter(ct.create("input",{type:"hidden",name:c}),c),k.hasHiddenInput=!0),k.formEventDelegate=function(a){k.fire(a.type,a)},ct.bind(b,"submit reset",k.formEventDelegate),k.on("reset",function(){k.setContent(k.startContent,{format:"raw"})}),!f.submit_patch||b.submit.nodeType||b.submit.length||b._mceOldSubmit||(b._mceOldSubmit=b.submit,b.submit=function(){return k.editorManager.triggerSave(),k.setDirty(!1),b._mceOldSubmit(b)})),k.windowManager=new cQ(k),k.notificationManager=new cN(k),"xml"==f.encoding&&k.on("GetContent",function(a){a.save&&(a.content=ct.encode(a.content))}),f.add_form_submit_trigger&&k.on("submit",function(){k.initialized&&k.save()}),f.add_unload_trigger&&(k._beforeUnload=function(){!k.initialized||k.destroyed||k.isHidden()||k.save({format:"raw",no_events:!0,set_dirty:!1})},k.editorManager.on("BeforeUnload",k._beforeUnload)),d()}},init:function(){function O(d){var b=X.get(d),a,c;if(a=X.urls[d]||z.documentBaseUrl.replace(/\/$/,""),d=Z(d),b&&-1===Q(C,d)){if(K(X.dependencies(d),function(e){O(e)}),z.plugins[d]){return}c=new b(z,a,z.$),z.plugins[d]=c,c.init&&(c.init(z,a),C.push(d))}}var z=this,E=z.settings,B=z.getElement(),I,D,T,A,H,R,x,P,N,L,F,C=[];if(this.editorManager.i18n.setCode(E.language),z.rtl=E.rtl_ui||this.editorManager.i18n.rtl,z.editorManager.add(z),E.aria_label=E.aria_label||ct.getAttrib(B,"aria-label",z.getLang("aria.rich_text_area")),E.theme&&("function"!=typeof E.theme?(E.theme=E.theme.replace(/-/,""),R=bt.get(E.theme),z.theme=new R(z,bt.urls[E.theme]),z.theme.init&&z.theme.init(z,bt.urls[E.theme]||z.documentBaseUrl.replace(/\/$/,""),z.$)):z.theme=E.theme),K(E.plugins.replace(/\-/g,"").split(/[ ,]/),O),E.render_ui&&z.theme&&(z.orgDisplay=B.style.display,"function"!=typeof E.theme?(I=E.width||B.style.width||B.offsetWidth,D=E.height||B.style.height||B.offsetHeight,T=E.min_height||100,L=/^[0-9\.]+(|px)$/i,L.test(""+I)&&(I=Math.max(parseInt(I,10),100)),L.test(""+D)&&(D=Math.max(parseInt(D,10),T)),H=z.theme.renderUI({targetNode:B,width:I,height:D,deltaWidth:E.delta_width,deltaHeight:E.delta_height}),E.content_editable||(D=(H.iframeHeight||D)+("number"==typeof D?H.deltaHeight||0:""),T>D&&(D=T))):(H=E.theme(z,B),H.editorContainer.nodeType&&(H.editorContainer=H.editorContainer.id=H.editorContainer.id||z.id+"_parent"),H.iframeContainer.nodeType&&(H.iframeContainer=H.iframeContainer.id=H.iframeContainer.id||z.id+"_iframecontainer"),D=H.iframeHeight||B.offsetHeight),z.editorContainer=H.editorContainer),E.content_css&&K(ae(E.content_css),function(a){z.contentCSS.push(z.documentBaseURI.toAbsolute(a))}),E.content_style&&z.contentStyles.push(E.content_style),E.content_editable){return B=A=H=null,z.initContentBody()}for(z.iframeHTML=E.doctype+"<html><head>",E.document_base_url!=z.documentBaseUrl&&(z.iframeHTML+='<base href="'+z.documentBaseURI.getURI()+'" />'),!cP.caretAfter&&E.ie7_compat&&(z.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),z.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',F=0;F<z.contentCSS.length;F++){var M=z.contentCSS[F];z.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+be._addCacheSuffix(M)+'" />',z.loadedCSS[M]=!0}P=E.body_id||"tinymce",-1!=P.indexOf("=")&&(P=z.getParam("body_id","","hash"),P=P[z.id]||P),N=E.body_class||"",-1!=N.indexOf("=")&&(N=z.getParam("body_class","","hash"),N=N[z.id]||""),E.content_security_policy&&(z.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+E.content_security_policy+'" />'),z.iframeHTML+='</head><body id="'+P+'" class="mce-content-body '+N+'" data-id="'+z.id+'"><br></body></html>';var w='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+z.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&cP.ie&&cP.ie<12&&(x=w);var k=ct.create("iframe",{id:z.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:z.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:D,display:"block"}});if(k.onload=function(){k.onload=null,z.fire("load")},ct.setAttrib(k,"src",x||'javascript:""'),z.contentAreaContainer=H.iframeContainer,z.iframeElement=k,A=ct.add(H.iframeContainer,k),q){try{z.getDoc()}catch(S){A.src=x=w}}H.editorContainer&&(ct.get(H.editorContainer).style.display=z.orgDisplay,z.hidden=ct.isHidden(H.editorContainer)),z.getElement().style.display="none",ct.setAttrib(z.id,"aria-hidden",!0),x||z.initContentBody(),B=A=H=null},initContentBody:function(b){var g=this,e=g.settings,d=g.getElement(),c=g.getDoc(),a,f;e.inline||(g.getElement().style.visibility=g.orgVisibility),b||e.content_editable||(c.open(),c.write(g.iframeHTML),c.close()),e.content_editable&&(g.on("remove",function(){var h=this.getBody();ct.removeClass(h,"mce-content-body"),ct.removeClass(h,"mce-edit-focus"),ct.setAttrib(h,"contentEditable",null)}),ct.addClass(d,"mce-content-body"),g.contentDocument=c=e.content_document||document,g.contentWindow=e.content_window||window,g.bodyElement=d,e.content_document=e.content_window=null,e.root_name=d.nodeName.toLowerCase()),a=g.getBody(),a.disabled=!0,g.readonly=e.readonly,g.readonly||(g.inline&&"static"==ct.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=g.getParam("content_editable_state",!0)),a.disabled=!1,g.editorUpload=new t(g),g.schema=new c7(e),g.dom=new c4(c,{keep_values:!0,url_converter:g.convertURL,url_converter_scope:g,hex_colors:e.force_hex_style_colors,class_filter:e.class_filter,update_styles:!0,root_element:g.inline?g.getBody():null,collect:e.content_editable,schema:g.schema,onSetAttrib:function(h){g.fire("SetAttrib",h)}}),g.parser=new ce(e,g.schema),g.parser.addAttributeFilter("src,href,style,tabindex",function(p,l){for(var n=p.length,k,u=g.dom,h,m;n--;){if(k=p[n],h=k.attr(l),m="data-mce-"+l,!k.attributes.map[m]){if(0===h.indexOf("data:")||0===h.indexOf("blob:")){continue}"style"===l?(h=u.serializeStyle(u.parseStyle(h),k.name),h.length||(h=null),k.attr(m,h),k.attr(l,h)):"tabindex"===l?(k.attr(m,h),k.attr(l,null)):k.attr(m,g.convertURL(h,l,k.name))}}}),g.parser.addNodeFilter("script",function(k){for(var h=k.length,l,i;h--;){l=k[h],i=l.attr("type")||"no/type",0!==i.indexOf("mce-")&&l.attr("type","mce-"+i)}}),g.parser.addNodeFilter("#cdata",function(i){for(var h=i.length,k;h--;){k=i[h],k.type=8,k.name="#comment",k.value="[CDATA["+k.value+"]]"}}),g.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(m){for(var k=m.length,l,h=g.schema.getNonEmptyElements();k--;){l=m[k],l.isEmpty(h)&&(l.append(new cV("br",1)).shortEnded=!0)}}),g.serializer=new c8(e,g),g.selection=new cY(g.dom,g.getWin(),g.serializer,g),g.formatter=new c6(g),g.undoManager=new cR(g),g.forceBlocks=new c3(g),g.enterKey=new c5(g),g._nodeChangeDispatcher=new c0(g),g._selectionOverrides=new J(g),g.fire("PreInit"),e.browser_spellcheck||e.gecko_spellcheck||(c.body.spellcheck=!1,ct.setAttrib(a,"spellcheck","false")),g.fire("PostRender"),g.quirks=new cO(g),e.directionality&&(a.dir=e.directionality),e.nowrap&&(a.style.whiteSpace="nowrap"),e.protect&&g.on("BeforeSetContent",function(h){K(e.protect,function(i){h.content=h.content.replace(i,function(k){return"<!--mce:protected "+escape(k)+"-->"})})}),g.on("SetContent",function(){g.addVisual(g.getBody())}),e.padd_empty_editor&&g.on("PostProcess",function(h){h.content=h.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),g.load({initial:!0,format:"html"}),g.startContent=g.getContent({format:"raw"}),g.initialized=!0,g.bindPendingEventDelegates(),g.fire("init"),g.focus(!0),g.nodeChanged({initial:!0}),g.execCallback("init_instance_callback",g),g.contentStyles.length>0&&(f="",K(g.contentStyles,function(h){f+=h+"\r\n"}),g.dom.addStyle(f)),K(g.contentCSS,function(h){g.loadedCSS[h]||(g.dom.loadCSS(h),g.loadedCSS[h]=!0)}),e.auto_focus&&U.setEditorTimeout(g,function(){var h;h=e.auto_focus===!0?g:g.editorManager.get(e.auto_focus),h.destroyed||h.focus()},100),d=c=a=null},focus:function(k){function w(a){return f.dom.getParent(a,function(c){return"true"===f.dom.getContentEditable(c)})}var f=this,b=f.selection,h=f.settings.content_editable,d,p,x=f.getDoc(),g=f.getBody(),m;if(!k){if(d=b.getRng(),d.item&&(p=d.item(0)),f._refreshContentEditable(),m=w(b.getNode()),f.$.contains(g,m)){return m.focus(),b.normalize(),void f.editorManager.setActive(f)}if(h||(cP.opera||f.getBody().focus(),f.getWin().focus()),j||h){if(g.setActive){try{g.setActive()}catch(v){g.focus()}}else{g.focus()}h&&b.normalize()}p&&p.ownerDocument==x&&(d=x.body.createControlRange(),d.addElement(p),d.select())}f.editorManager.setActive(f)},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?at(b):0,d=at(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c.data[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c.data[a+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==bp?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?K(c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(g){g=g.split("="),g.length>1?a[Z(g[0])]=Z(g[1]):a[Z(g[0])]=Z(g)}):a=c,a):c},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addContextToolbar:function(c,a){var d=this,b;d.contextToolbars=d.contextToolbars||[],"string"==typeof c&&(b=c,c=function(f){return d.dom.is(f,b)}),d.contextToolbars.push({predicate:c,items:a})},addCommand:function(b,a,c){this.editorCommands.addCommand(b,a,c)},addQueryStateHandler:function(b,a,c){this.editorCommands.addQueryStateHandler(b,a,c)},addQueryValueHandler:function(b,a,c){this.editorCommands.addQueryValueHandler(b,a,c)},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(c,a,d,b){return this.editorCommands.execCommand(c,a,d,b)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){var a=this;a.hidden&&(a.hidden=!1,a.inline?a.getBody().contentEditable=!0:(ct.show(a.getContainer()),ct.hide(a.id)),a.load(),a.fire("show"))},hide:function(){var b=this,a=b.getDoc();b.hidden||(q&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),b.inline?(b.getBody().contentEditable=!1,b==b.editorManager.focusedEditor&&(b.editorManager.focusedEditor=null)):(ct.hide(b.getContainer()),ct.setStyle(b.id,"display",b.orgDisplay)),b.hidden=!0,b.fire("hide"))},isHidden:function(){return !!this.hidden},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==bp?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),"raw"==d.format&&b.fire("RawSaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(b.inline||(f.innerHTML=c),(a=ct.getParent(b.id,"form"))&&K(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&b.setDirty(!1),c}},setContent:function(d,b){var g=this,c=g.getBody(),a,f;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||g.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(f=q&&11>q?"":'<br data-mce-bogus="1">',"TABLE"==c.nodeName?d="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(d="<li>"+f+"</li>"),a=g.settings.forced_root_block,a&&g.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(d=f,d=g.dom.createHTML(a,g.settings.forced_root_block_attrs,d)):q||d||(d='<br data-mce-bogus="1">'),g.dom.setHTML(c,d),g.fire("SetContent",b)):("raw"!==b.format&&(d=new cS({validate:g.validate},g.schema).serialize(g.parser.parse(d,{isRootContent:!0}))),b.content=Z(d),g.dom.setHTML(c,b.content),b.no_events||g.fire("SetContent",b)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?a.serializer.getTrimmedContent():"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),"text"!=c.format?c.content=Z(d):c.content=d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(b,a){a&&(b=Y({content:b},a)),this.execCommand("mceInsertContent",!1,b)},isDirty:function(){return !this.isNotDirty},setDirty:function(b){var a=!this.isNotDirty;this.isNotDirty=!b,b&&b!=a&&this.fire("dirty")},setMode:function(a){G.setMode(this,a)},getContainer:function(){var a=this;return a.container||(a.container=ct.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=ct.get(this.id)),this.targetElm},getWin:function(){var b=this,a;return b.contentWindow||(a=b.iframeElement,a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===bp&&(f.hasVisual=b.visual),K(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),void (g&&"0"!=g||!f.hasVisual?a.removeClass(h,d):a.addClass(h,d));case"A":return void (a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d=b.visual_anchor_class||"mce-item-anchor",g&&f.hasVisual?a.addClass(h,d):a.removeClass(h,d)))}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var a=this;a.removed||(a.save(),a.removed=1,a.unbindAllNativeEvents(),a.hasHiddenInput&&ct.remove(a.getElement().nextSibling),a.inline||(q&&10>q&&a.getDoc().execCommand("SelectAll",!1,null),ct.setStyle(a.id,"display",a.orgDisplay),a.getBody().onload=null),a.fire("remove"),a.editorManager.remove(a),ct.remove(a.getContainer()),a._selectionOverrides.destroy(),a.editorUpload.destroy(),a.destroy())},destroy:function(b){var a=this,c;if(!a.destroyed){if(!b&&!a.removed){return void a.remove()}b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null),ct.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.bodyElement=a.contentDocument=a.contentWindow=null,a.iframeElement=a.targetElm=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1}},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return j?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},Y(cL.prototype,c9),cL}),br(cJ,[],function(){var b={},a="en";return{setCode:function(c){c&&(a=c,this.rtl=this.data[c]?"rtl"===this.data[c]._dir:!1)},getCode:function(){return a},rtl:!1,add:function(d,f){var e=b[d];e||(b[d]=e={});for(var c in f){e[c]=f[c]}this.setCode(d)},translate:function(e){var d;if(d=b[a],d||(d={}),"undefined"==typeof e){return e}if("string"!=typeof e&&e.raw){return e.raw}if(e.push){var c=e.slice(1);e=(d[e[0]]||e[0]).replace(/\{([0-9]+)\}/g,function(g,f){return c[f]})}return(d[e]||e).replace(/{context:\w+}$/,"")},data:b}}),br(bN,[bl,bn,bE],function(h,d,k){function g(o){function a(){try{return document.activeElement}catch(l){return document.body}}function q(r,l){if(l&&l.startContainer){if(!r.isChildOf(l.startContainer,r.getRoot())||!r.isChildOf(l.endContainer,r.getRoot())){return}return{startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset}}return l}function i(r,l){var s;return l.startContainer?(s=r.getDoc().createRange(),s.setStart(l.startContainer,l.startOffset),s.setEnd(l.endContainer,l.endOffset)):s=l,s}function p(l){return !!f.getParent(l,g.isEditorUIElement)}function n(e){var l=e.editor;l.on("init",function(){(l.inline||k.ie)&&("onbeforedeactivate" in document&&k.ie<9?l.dom.bind(l.getBody(),"beforedeactivate",function(s){if(s.target==l.getBody()){try{l.lastRng=l.selection.getRng()}catch(r){}}}):l.on("nodechange mouseup keyup",function(s){var r=a();"nodechange"==s.type&&s.selectionChange||(r&&r.id==l.id+"_ifr"&&(r=l.getBody()),l.dom.isChildOf(r,l.getBody())&&(l.lastRng=l.selection.getRng()))}),k.webkit&&!c&&(c=function(){var r=o.activeEditor;if(r&&r.selection){var s=r.selection.getRng();s&&!s.collapsed&&(l.lastRng=s)}},f.bind(document,"selectionchange",c)))}),l.on("setcontent",function(){l.lastRng=null}),l.on("mousedown",function(){l.selection.lastFocusBookmark=null}),l.on("focusin",function(){var r=o.focusedEditor,s;l.selection.lastFocusBookmark&&(s=i(l,l.selection.lastFocusBookmark),l.selection.lastFocusBookmark=null,l.selection.setRng(s)),r!=l&&(r&&r.fire("blur",{focusedEditor:l}),o.setActive(l),o.focusedEditor=l,l.fire("focus",{blurredEditor:r}),l.focus(!0)),l.lastRng=null}),l.on("focusout",function(){d.setEditorTimeout(l,function(){var r=o.focusedEditor;p(a())||r!=l||(l.fire("blur",{focusedEditor:null}),o.focusedEditor=null,l.selection&&(l.selection.lastFocusBookmark=null))})}),j||(j=function(r){var s=o.activeEditor;s&&r.target.ownerDocument==document&&(s.selection&&r.target!=s.getBody()&&(s.selection.lastFocusBookmark=q(s.dom,s.lastRng)),r.target==document.body||p(r.target)||o.focusedEditor!=s||(s.fire("blur",{focusedEditor:null}),o.focusedEditor=null))},f.bind(document,"focusin",j)),l.inline&&!b&&(b=function(s){var v=o.activeEditor;if(v.inline&&!v.dom.isChildOf(s.target,v.getBody())){var u=v.selection.getRng();u.collapsed||(v.lastRng=u)}},f.bind(document,"mouseup",b))}function m(e){o.focusedEditor==e.editor&&(o.focusedEditor=null),o.activeEditor||(f.unbind(document,"selectionchange",c),f.unbind(document,"focusin",j),f.unbind(document,"mouseup",b),c=j=b=null)}o.on("AddEditor",n),o.on("RemoveEditor",m)}var c,j,b,f=h.DOM;return g.isEditorUIElement=function(a){return -1!==a.className.toString().indexOf("mce-")},g}),br(ar,[bf,bF,bl,aK,bE,bu,bP,cJ,bN],function(L,w,E,A,H,D,P,x,G){function N(a){B(O.editors,function(b){b.fire("ResizeWindow",a)})}function q(a,b){b!==z&&(b?w(window).on("resize",N):w(window).off("resize",N),z=b)}function M(c){var a=O.editors,d;delete a[c.id];for(var b=0;b<a.length;b++){if(a[b]==c){a.splice(b,1),d=!0;break}}return O.activeEditor==c&&(O.activeEditor=a[0]),O.focusedEditor==c&&(O.focusedEditor=null),d}function K(a){return a&&!(a.getContainer()||a.getBody()).parentNode&&(M(a),a.unbindAllNativeEvents(),a.destroy(!0),a=null),a}var I=E.DOM,F=D.explode,B=D.each,J=D.extend,k=0,j,O,z=!1;return O={$:w,majorVersion:"4",minorVersion:"3.2",releaseDate:"2015-12-14",editors:[],i18n:x,activeEditor:null,setup:function(){var g=this,p,d,f="",b,l;if(d=document.location.href,/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/")),b=window.tinymce||window.tinyMCEPreInit){p=b.base||b.baseURL,f=b.suffix}else{for(var r=document.getElementsByTagName("script"),h=0;h<r.length;h++){l=r[h].src;var m=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!=m.indexOf(".min")&&(f=".min"),p=l.substring(0,l.lastIndexOf("/"));break}}!p&&document.currentScript&&(l=document.currentScript.src,-1!=l.indexOf(".min")&&(f=".min"),p=l.substring(0,l.lastIndexOf("/")))}g.baseURL=new A(d).toAbsolute(p),g.documentBaseURL=d,g.baseURI=new A(g.baseURL),g.suffix=f,g.focusManager=new G(g)},init:function(e){function m(i){var a=i.id;return a||(a=i.name,a=a&&!I.get(a)?i.name:I.uniqueId(),i.setAttribute("id",a)),a}function g(l,p,o){if(!K(f.get(l))){var a=new L(l,p,f);a.targetElm=a.targetElm||o,b.push(a),a.render()}}function d(a){var i=e[a];if(i){return i.apply(f,Array.prototype.slice.call(arguments,2))}}function h(i,a){return a.constructor===RegExp?a.test(i.className):I.hasClass(i,a)}function c(){var i,a;if(I.unbind(window,"ready",c),d("onpageload"),e.types){return void B(e.types,function(l){B(I.select(l.selector),function(n){g(m(n),J({},e,l),n)})})}if(e.selector){return void B(I.select(e.selector),function(l){g(m(l),e,l)})}switch(e.target&&g(m(e.target),e),e.mode){case"exact":i=e.elements||"",i.length>0&&B(F(i),function(l){var o;(o=I.get(l))?g(l,e,o):B(document.forms,function(p){B(p.elements,function(r){r.name===l&&(l="mce_editor_"+k++,I.setAttrib(r,"id",l),g(l,e,r))})})});break;case"textareas":case"specific_textareas":B(I.select("textarea"),function(l){e.editor_deselector&&h(l,e.editor_deselector)||(!e.editor_selector||h(l,e.editor_selector))&&g(m(l),e,l)})}e.oninit&&(i=a=0,B(b,function(l){a++,l.initialized?i++:l.on("init",function(){i++,i==a&&d("oninit")}),i==a&&d("oninit")}))}var f=this,b=[];f.settings=e,I.bind(window,"ready",c)},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(b){var a=this,c=a.editors;return c[b.id]=b,c.push(b),q(c,!0),a.activeEditor=b,a.fire("AddEditor",{editor:b}),j||(j=function(){a.fire("BeforeUnload")},I.bind(window,"beforeunload",j)),b},createEditor:function(a,b){return this.add(new L(a,b,this))},remove:function(d){var b=this,f,c=b.editors,a;if(d){return"string"==typeof d?(d=d.selector||d,void B(I.select(d),function(g){a=c[g.id],a&&b.remove(a)})):(a=d,c[a.id]?(M(a)&&b.fire("RemoveEditor",{editor:a}),c.length||I.unbind(window,"beforeunload",j),a.remove(),q(c,c.length>0),a):null)}for(f=c.length-1;f>=0;f--){b.remove(c[f])}},execCommand:function(b,e,c){var a=this,d=a.get(c);switch(b){case"mceAddEditor":return a.get(c)||new L(c,a.settings,a).render(),!0;case"mceRemoveEditor":return d&&d.remove(),!0;case"mceToggleEditor":return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",0,c),!0)}return a.activeEditor?a.activeEditor.execCommand(b,e,c):!1},triggerSave:function(){B(this.editors,function(a){a.save()})},addI18n:function(b,a){x.add(b,a)},translate:function(a){return x.translate(a)},setActive:function(b){var a=this.activeEditor;this.activeEditor!=b&&(a&&a.fire("deactivate",{relatedTarget:b}),b.fire("activate",{relatedTarget:a})),this.activeEditor=b}},J(O,P),O.setup(),window.tinymce=window.tinyMCE=O,O}),br(aV,[ar,bu],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(i,e){"html4"===f.settings.schema&&n(e,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),br(a2,[bP,bu],function(b,a){var c={send:function(g){function f(){!g.async||4==d.readyState||h++>10000?(g.success&&10000>h&&200==d.status?g.success.call(g.success_scope,""+d.responseText,d,g):g.error&&g.error.call(g.error_scope,h>10000?"TIMED_OUT":"GENERAL",d,g),d=null):setTimeout(f,10)}var d,h=0;if(g.scope=g.scope||this,g.success_scope=g.success_scope||g.scope,g.error_scope=g.error_scope||g.scope,g.async=g.async===!1?!1:!0,g.data=g.data||"",d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(g.content_type),d.open(g.type||(g.data?"POST":"GET"),g.url,g.async),g.crossDomain&&(d.withCredentials=!0),g.content_type&&d.setRequestHeader("Content-Type",g.content_type),g.requestheaders&&a.each(g.requestheaders,function(i){d.setRequestHeader(i.key,i.value)}),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d=c.fire("beforeSend",{xhr:d,settings:g}).xhr,d.send(g.data),!g.async){return f()}setTimeout(f,10)}}};return a.extend(c,b),c}),br(aG,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),br(b6,[aG,a2,bu],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),br(aX,[bl],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==bp?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),br(aw,[],function(){function j(){q=[];for(var a in m){q.push(a)}h.length=q.length}function f(){function t(s){var u,i;return i=s!==bp?a+s:c.indexOf(",",a),-1===i||i>c.length?null:(u=c.substring(a,i),a=i+1,u)}var l,c,e,a=0;if(m={},k){d.load(g),c=d.getAttribute(g)||"";do{var o=t();if(null===o){break}if(l=t(parseInt(o,32)||0),null!==l){if(o=t(),null===o){break}e=t(parseInt(o,32)||0),l&&(m[l]=e)}}while(null!==l);j()}}function b(){var c,l="";if(k){for(var e in m){c=m[e],l+=(l?",":"")+e.length.toString(32)+","+e+","+c.length.toString(32)+","+c}d.setAttribute(g,l);try{d.save(g)}catch(a){}j()}}var h,d,m,q,g,k;try{if(window.localStorage){return localStorage}}catch(p){}return g="tinymce",d=document.documentElement,k=!!d.addBehavior,k&&d.addBehavior("#default#userData"),h={key:function(a){return q[a]},getItem:function(a){return a in m?m[a]:null},setItem:function(c,a){m[c]=""+a,b()},removeItem:function(a){delete m[a],b()},clear:function(){m={},b()}},f(),h}),br(bx,[bl,bJ,cj,b7,bu,bE],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),br(cs,[cr,bu],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.bodyClasses.add(this.settings.containerClass)},applyClasses:function(h){var f=this,k=f.settings,g,d,j,c;g=k.firstControlClass,d=k.lastControlClass,h.each(function(i){i.classes.remove(g).remove(d).add(k.controlClass),i.visible()&&(j||(j=i),c=i)}),j&&j.classes.add(g),c&&c.classes.add(d)},renderHtml:function(d){var c=this,f="";return c.applyClasses(d.items()),d.items().each(function(g){f+=g.renderHtml()}),f},recalc:function(){},postRender:function(){},isNative:function(){return !1}})}),br(aO,[cs],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),br(cG,[ak],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b._super(c),c=b.settings,d=b.settings.size,b.on("click mousedown",function(f){f.preventDefault()}),b.on("touchstart",function(f){b.fire("click",f),f.preventDefault()}),c.subtype&&b.classes.add(c.subtype),d&&b.classes.add("btn-"+d),c.icon&&b.icon(c.icon)},icon:function(b){return arguments.length?(this.state.set("icon",b),this):this.state.get("icon")},repaint:function(){var c=this.getEl().firstChild,b;c&&(b=c.style,b.width=b.height="100%"),this._super()},renderHtml:function(){var g=this,d=g._id,j=g.classPrefix,f=g.state.get("icon"),c,h=g.state.get("text"),b="";return c=g.settings.image,c?(f="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="",h&&(g.classes.add("btn-has-text"),b='<span class="'+j+'txt">'+g.encode(h)+"</span>"),f=g.settings.icon?j+"ico "+j+"i-"+f:"",'<div id="'+d+'" class="'+g.classes+'" tabindex="-1" aria-labelledby="'+d+'"><button role="presentation" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+c+"></i>":"")+b+"</button></div>"},bindStates:function(){function d(h){var g=f("span."+c,b.getEl());h?(g[0]||(f("button:first",b.getEl()).append('<span class="'+c+'"></span>'),g=f("span."+c,b.getEl())),g.html(b.encode(h))):g.remove(),b.classes.toggle("btn-has-text",!!h)}var b=this,f=b.$,c=b.classPrefix+"txt";return b.state.on("change:text",function(e){d(e.value)}),b.state.on("change:icon",function(k){var h=k.value,g=b.classPrefix;b.settings.icon=h,h=h?g+"ico "+g+"i-"+b.settings.icon:"";var j=b.getEl().firstChild,e=j.getElementsByTagName("i")[0];h?(e&&e==j.firstChild||(e=document.createElement("i"),j.insertBefore(e,j.firstChild)),e.className=h):e&&j.removeChild(e),d(b.state.get("text"))}),b._super()}})}),br(bj,[aQ],function(a){return a.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,b=c._layout;return c.classes.add("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),br(ay,[ak],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(b){return arguments.length?(this.state.set("checked",b),this):this.state.get("checked")},value:function(b){return arguments.length?this.checked(b):this.checked()},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c.state.get("text"))+"</span></div>"},bindStates:function(){function c(d){b.classes.toggle("checked",d),b.aria("checked",d)}var b=this;return b.state.on("change:text",function(d){b.getEl("al").firstChild.data=b.translate(d.value)}),b.state.on("change:checked change:value",function(d){b.fire("change"),c(d.value)}),b.state.on("change:icon",function(g){var j=g.value,f=b.classPrefix;if("undefined"==typeof j){return b.settings.icon}b.settings.icon=j,j=j?f+"ico "+f+"i-"+b.settings.icon:"";var d=b.getEl().firstChild,h=d.getElementsByTagName("i")[0];j?(h&&h==d.firstChild||(h=document.createElement("i"),d.insertBefore(h,d.firstChild)),h.className=j):h&&d.removeChild(h)}),b.state.get("checked")&&c(!0),b._super()}})}),br(a9,[ak,cD,bC,bF],function(c,a,d,b){return c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.classes.add("combobox"),f.subinput=!0,f.ariaTarget="inp",g.menu=g.menu||g.values,g.menu&&(g.icon="caret"),f.on("click",function(j){var e=j.target,h=f.getEl();if(b.contains(h,e)||e==h){for(;e&&e!=h;){e.id&&-1!=e.id.indexOf("-open")&&(f.fire("action"),g.menu&&(f.showMenu(),j.aria&&f.menu.items()[0].focus())),e=e.parentNode}}}),f.on("keydown",function(h){"INPUT"==h.target.nodeName&&13==h.keyCode&&f.parents().reverse().each(function(k){var j=f.state.get("value"),e=f.getEl("inp").value;return h.preventDefault(),f.state.set("value",e),j!=e&&f.fire("change"),k.hasEventListeners("submit")&&k.toJSON?(k.fire("submit",{data:k.toJSON()}),!1):void 0})}),f.on("keyup",function(h){"INPUT"==h.target.nodeName&&f.state.set("value",h.target.value)})},showMenu:function(){var g=this,h=g.settings,f;g.menu||(f=h.menu||[],f.length?f={type:"menu",items:f}:f.type=f.type||"menu",g.menu=a.create(f).parent(g).renderTo(g.getContainerElm()),g.fire("createmenu"),g.menu.reflow(),g.menu.on("cancel",function(e){e.control===g.menu&&g.focus()}),g.menu.on("show hide",function(e){e.control.items().each(function(i){i.active(i.value()==g.value())})}).fire("show"),g.menu.on("select",function(e){g.value(e.control.value())}),g.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&g.menu.hide()}),g.aria("expanded",!0)),g.menu.show(),g.menu.layoutRect({w:g.layoutRect().w}),g.menu.moveRel(g.getEl(),g.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var m=this,j=m.getEl(),h=m.getEl("open"),n=m.layoutRect(),g,k;g=h?n.w-d.getSize(h).width-10:n.w-10;var f=document;return f.all&&(!f.documentMode||f.documentMode<=8)&&(k=m.layoutRect().h-2+"px"),b(j.firstChild).css({width:g,lineHeight:k}),m._super(),m},postRender:function(){var f=this;return b(this.getEl("inp")).on("change",function(e){f.state.set("value",e.target.value),f.fire("change",e)}),f._super()},renderHtml:function(){var m=this,q=m._id,h=m.settings,f=m.classPrefix,k=m.state.get("value")||"",g,p,u="",j="";return"spellcheck" in h&&(j+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(j+=' maxlength="'+h.maxLength+'"'),h.size&&(j+=' size="'+h.size+'"'),h.subtype&&(j+=' type="'+h.subtype+'"'),m.disabled()&&(j+=' disabled="disabled"'),g=h.icon,g&&"caret"!=g&&(g=f+"ico "+f+"i-"+h.icon),p=m.state.get("text"),(g||p)&&(u='<div id="'+q+'-open" class="'+f+"btn "+f+'open" tabIndex="-1" role="button"><button id="'+q+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=g?'<i class="'+g+'"></i>':'<i class="'+f+'caret"></i>')+(p?(g?" ":"")+p:"")+"</button></div>",m.classes.add("has-open")),'<div id="'+q+'" class="'+m.classes+'"><input id="'+q+'-inp" class="'+f+'textbox" value="'+m.encode(k,!1)+'" hidefocus="1"'+j+' placeholder="'+m.encode(h.placeholder)+'" />'+u+"</div>"},value:function(f){return arguments.length?(this.state.set("value",f),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var f=this;return f.state.on("change:value",function(e){f.getEl("inp").value!=e.value&&(f.getEl("inp").value=e.value)}),f.state.on("change:disabled",function(e){f.getEl("inp").disabled=e.value}),f._super()},remove:function(){b(this.getEl("inp")).off(),this._super()}})}),br(aU,[a9],function(a){return a.extend({init:function(c){var b=this;c.spellcheck=!1,c.onaction&&(c.icon="none"),b._super(c),b.classes.add("colorbox"),b.on("change keyup postrender",function(){b.repaintColor(b.value())})},repaintColor:function(c){var b=this.getEl().getElementsByTagName("i")[0];if(b){try{b.style.background=c}catch(d){}}},bindStates:function(){var b=this;return b.state.on("change:value",function(c){b._rendered&&b.repaintColor(c.value)}),b._super()}})}),br(aE,[cG,am],function(b,a){return b.extend({showPanel:function(){var d=this,f=d.settings;if(d.active(!0),d.panel){d.panel.show()}else{var c=f.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,d.panel=new a(c).on("hide",function(){d.active(!1)}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}d.panel.moveRel(d.getEl(),f.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!d.aria)))}),c._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),br(cx,[aE,bl],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var j=this,g=j._id,l=j.classPrefix,h=j.state.get("text"),f=j.settings.icon?l+"ico "+l+"i-"+j.settings.icon:"",k=j.settings.image?" style=\"background-image: url('"+j.settings.image+"')\"":"",d="";return h&&(j.classes.add("btn-has-text"),d='<span class="'+l+'txt">'+j.encode(h)+"</span>"),'<div id="'+g+'" class="'+j.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+k+"></i>":"")+'<span id="'+g+'-preview" class="'+l+'preview"></span>'+d+'</button><button type="button" class="'+l+'open" hidefocus="1" tabindex="-1"> <i class="'+l+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),br(bb,[],function(){function c(p){function k(y,x,f){var B,D,h,A,C,z;return B=0,D=0,h=0,y/=255,x/=255,f/=255,C=a(y,a(x,f)),z=d(y,d(x,f)),C==z?(h=C,{h:0,s:0,v:100*h}):(A=y==C?x-f:f==C?y-x:f-y,B=y==C?3:f==C?1:5,B=60*(B-A/(z-C)),D=(z-C)/z,h=z,{h:b(B),s:b(100*D),v:b(100*h)})}function g(y,u,z){var h,x,f,A;if(y=(parseInt(y,10)||0)%360,u=parseInt(u,10)/100,z=parseInt(z,10)/100,u=d(0,a(u,1)),z=d(0,a(z,1)),0===u){return void (q=n=m=b(255*z))}switch(h=y/60,x=z*u,f=x*(1-Math.abs(h%2-1)),A=z-x,Math.floor(h)){case 0:q=x,n=f,m=0;break;case 1:q=f,n=x,m=0;break;case 2:q=0,n=x,m=f;break;case 3:q=0,n=f,m=x;break;case 4:q=f,n=0,m=x;break;case 5:q=x,n=0,m=f;break;default:q=n=m=0}q=b(255*(q+A)),n=b(255*(n+A)),m=b(255*(m+A))}function t(){function f(h){return h=parseInt(h,10).toString(16),h.length>1?h:"0"+h}return"#"+f(q)+f(n)+f(m)}function w(){return{r:q,g:n,b:m}}function j(){return k(q,n,m)}function r(h){var f;return"object"==typeof h?"r" in h?(q=h.r,n=h.g,m=h.b):"v" in h&&g(h.h,h.s,h.v):(f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(h))?(q=parseInt(f[1],10),n=parseInt(f[2],10),m=parseInt(f[3],10)):(f=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(h))?(q=parseInt(f[1],16),n=parseInt(f[2],16),m=parseInt(f[3],16)):(f=/#([0-F])([0-F])([0-F])/gi.exec(h))&&(q=parseInt(f[1]+f[1],16),n=parseInt(f[2]+f[2],16),m=parseInt(f[3]+f[3],16)),q=0>q?0:q>255?255:q,n=0>n?0:n>255?255:n,m=0>m?0:m>255?255:m,v}var v=this,q=0,n=0,m=0;p&&r(p),v.toRgb=w,v.toHsv=j,v.toHex=t,v.parse=r}var a=Math.min,d=Math.max,b=Math.round;return c}),br(aM,[ak,au,bC,bb],function(c,a,d,b){return c.extend({Defaults:{classes:"widget colorpicker"},init:function(f){this._super(f)},postRender:function(){function p(s,h){var l=d.getPos(s),f,u;return f=h.pageX-l.x,u=h.pageY-l.y,f=Math.max(0,Math.min(f/s.clientWidth,1)),u=Math.max(0,Math.min(u/s.clientHeight,1)),{x:f,y:u}}function k(l,h){var f=(360-l.h)/360;d.css(q,{top:100*f+"%"}),h||d.css(m,{left:l.s+"%",top:100-l.v+"%"}),n.style.background=new b({s:100,v:100,h:l.h}).toHex(),w.color().parse({s:l.s,v:l.v,h:l.h})}function g(e){var f;f=p(n,e),r.s=100*f.x,r.v=100*(1-f.y),k(r),w.fire("change")}function t(e){var f;f=p(v,e),r=j.toHsv(),r.h=360*(1-f.y),k(r,!0),w.fire("change")}var w=this,j=w.color(),r,v,q,n,m;v=w.getEl("h"),q=w.getEl("hp"),n=w.getEl("sv"),m=w.getEl("svp"),w._repaint=function(){r=j.toHsv(),k(r)},w._super(),w._svdraghelper=new a(w._id+"-sv",{start:g,drag:g}),w._hdraghelper=new a(w._id+"-h",{start:t,drag:t}),w._repaint()},rgb:function(){return this.color().toRgb()},value:function(g){var f=this;return arguments.length?(f.color().parse(g),void (f._rendered&&f._repaint())):f.color().toHex()},color:function(){return this._color||(this._color=new b),this._color},renderHtml:function(){function k(){var r,q,s="",p,o;for(p="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",o=l.split(","),r=0,q=o.length-1;q>r;r++){s+='<div class="'+j+'colorpicker-h-chunk" style="height:'+100/q+"%;"+p+o[r]+",endColorstr="+o[r+1]+");-ms-"+p+o[r]+",endColorstr="+o[r+1]+')"></div>'}return s}var h=this,m=h._id,j=h.classPrefix,g,l="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",f="background: -ms-linear-gradient(top,"+l+");background: linear-gradient(to bottom,"+l+");";return g='<div id="'+m+'-h" class="'+j+'colorpicker-h" style="'+f+'">'+k()+'<div id="'+m+'-hp" class="'+j+'colorpicker-h-marker"></div></div>','<div id="'+m+'" class="'+h.classes+'"><div id="'+m+'-sv" class="'+j+'colorpicker-sv"><div class="'+j+'colorpicker-overlay1"><div class="'+j+'colorpicker-overlay2"><div id="'+m+'-svp" class="'+j+'colorpicker-selector1"><div class="'+j+'colorpicker-selector2"></div></div></div></div></div>'+g+"</div>"}})}),br(ao,[ak],function(a){return a.extend({init:function(c){var b=this;c.delimiter||(c.delimiter="\xbb"),b._super(c),b.classes.add("path"),b.canFocus=!0,b.on("click",function(f){var g,d=f.target;(g=d.getAttribute("data-index"))&&b.fire("select",{value:b.row()[g],index:g})}),b.row(b.settings.row)},focus:function(){var b=this;return b.getEl().firstChild.focus(),b},row:function(b){return arguments.length?(this.state.set("row",b),this):this.state.get("row")},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes+'">'+b._getDataPathHtml(b.state.get("row"))+"</div>"},bindStates:function(){var b=this;return b.state.on("change:row",function(c){b.innerHtml(b._getDataPathHtml(c.value))}),b._super()},_getDataPathHtml:function(g){var d=this,j=g||[],f,c,h="",b=d.classPrefix;for(f=0,c=j.length;c>f;f++){h+=(f>0?'<div class="'+b+'divider" aria-hidden="true"> '+d.settings.delimiter+" </div>":"")+'<div role="button" class="'+b+"path-item"+(f==c-1?" "+b+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+d._id+"-"+f+'" aria-level="'+f+'">'+j[f].name+"</div>"}return h||(h='<div class="'+b+'path-item">\xa0</div>'),h}})}),br(cA,[ao,ar],function(b,a){return b.extend({postRender:function(){function d(g){if(1===g.nodeType){if("BR"==g.nodeName||g.getAttribute("data-mce-bogus")){return !0}if("bookmark"===g.getAttribute("data-mce-type")){return !0}}return !1}var f=this,c=a.activeEditor;return c.settings.elementpath!==!1&&(f.on("select",function(g){c.focus(),c.selection.select(this.row()[g.index].element),c.nodeChanged()}),c.on("nodeChange",function(h){for(var g=[],k=h.parents,e=k.length;e--;){if(1==k[e].nodeType&&!d(k[e])){var j=c.fire("ResolveName",{name:k[e].nodeName.toLowerCase(),target:k[e]});if(j.isDefaultPrevented()||g.push({name:j.name,element:k[e]}),j.isPropagationStopped()){break}}}f.row(g)})),f._super()}})}),br(bR,[aQ],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.classes.add("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),br(aD,[aQ,bR,bu],function(b,a,c){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,d=f.items();f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),d.each(function(g){var e,h=g.settings.label;h&&(e=new a(c.extend({items:{type:"label",id:g._id+"-l",text:h,flex:0,forId:g._id,disabled:g.disabled()}},f.settings.formItemDefaults)),e.type="formitem",g.aria("labelledby",g._id+"-l"),"undefined"==typeof g.settings.flex&&(g.settings.flex=1),f.replace(g,e),e.add(g))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var d=this;d._super(),d.fromJSON(d.settings.data)},bindStates:function(){function f(){var j=0,l=[],h,g,k;if(d.settings.labelGapCalc!==!1){for(k="children"==d.settings.labelGapCalc?d.find("formitem"):d.items(),k.filter("formitem").each(function(m){var n=m.items()[0],e=n.getEl().clientWidth;j=e>j?e:j,l.push(n)}),g=d.settings.labelGap||0,h=l.length;h--;){l[h].settings.minWidth=j+g}}}var d=this;d._super(),d.on("show",f),f()}})}),br(cI,[aD],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),br(ai,[a9,bu],function(b,a){return b.extend({init:function(h){var k=this,g=tinymce.activeEditor,d=g.settings,j,c,f;h.spellcheck=!1,f=d.file_picker_types||d.file_browser_callback_types,f&&(f=a.makeMap(f,/[, ]/)),(!f||f[h.filetype])&&(c=d.file_picker_callback,!c||f&&!f[h.filetype]?(c=d.file_browser_callback,!c||f&&!f[h.filetype]||(j=function(){c(k.getEl("inp").id,k.value(),h.filetype,window)})):j=function(){var e=k.fire("beforecall").meta;e=a.extend({filetype:h.filetype},e),c.call(g,function(l,i){k.value(l).fire("change",{meta:i})},k.value(),e)}),j&&(h.icon="browse",h.onaction=j),k._super(h)}})}),br(an,[aO],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox;c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),br(aN,[aO],function(a){return a.extend({recalc:function(c6){var cT,cY,cV,c2,cX,da,cU,c0,c8,cS,c7,c5,c3,cZ,cW,c4,cR=[],cO,c9,ct,cP,cQ,bt,X,db,J,c1,G,K,cM,cL,ce,Y,Z,Q,at,U,ae,be,cN=Math.max,j=Math.min;for(cV=c6.items().filter(":visible"),c2=c6.layoutRect(),cX=c6.paddingBox,da=c6.settings,c5=c6.isRtl()?da.direction||"row-reversed":da.direction,cU=da.align,c0=c6.isRtl()?da.pack||"end":da.pack,c8=da.spacing||0,("row-reversed"==c5||"column-reverse"==c5)&&(cV=cV.set(cV.toArray().reverse()),c5=c5.split("-")[0]),"column"==c5?(J="y",X="h",db="minH",c1="maxH",K="innerH",G="top",cM="deltaH",cL="contentH",at="left",Z="w",ce="x",Y="innerW",Q="minW",U="right",ae="deltaW",be="contentW"):(J="x",X="w",db="minW",c1="maxW",K="innerW",G="left",cM="deltaW",cL="contentW",at="top",Z="h",ce="y",Y="innerH",Q="minH",U="bottom",ae="deltaH",be="contentH"),c7=c2[K]-cX[G]-cX[G],bt=cS=0,cT=0,cY=cV.length;cY>cT;cT++){c3=cV[cT],cZ=c3.layoutRect(),cW=c3.settings,c4=cW.flex,c7-=cY-1>cT?c8:0,c4>0&&(cS+=c4,cZ[c1]&&cR.push(c3),cZ.flex=c4),c7-=cZ[db],cO=cX[at]+cZ[Q]+cX[U],cO>bt&&(bt=cO)}if(cP={},0>c7?cP[db]=c2[db]-c7+c2[cM]:cP[db]=c2[K]-c7+c2[cM],cP[Q]=bt+c2[ae],cP[cL]=c2[K]-c7,cP[be]=bt,cP.minW=j(cP.minW,c2.maxW),cP.minH=j(cP.minH,c2.maxH),cP.minW=cN(cP.minW,c2.startMinWidth),cP.minH=cN(cP.minH,c2.startMinHeight),!c2.autoResize||cP.minW==c2.minW&&cP.minH==c2.minH){for(ct=c7/cS,cT=0,cY=cR.length;cY>cT;cT++){c3=cR[cT],cZ=c3.layoutRect(),c9=cZ[c1],cO=cZ[db]+cZ.flex*ct,cO>c9?(c7-=cZ[c1]-cZ[db],cS-=cZ.flex,cZ.flex=0,cZ.maxFlexSize=c9):cZ.maxFlexSize=0}for(ct=c7/cS,cQ=cX[G],cP={},0===cS&&("end"==c0?cQ=c7+cX[G]:"center"==c0?(cQ=Math.round(c2[K]/2-(c2[K]-c7)/2)+cX[G],0>cQ&&(cQ=cX[G])):"justify"==c0&&(cQ=cX[G],c8=Math.floor(c7/(cV.length-1)))),cP[ce]=cX[at],cT=0,cY=cV.length;cY>cT;cT++){c3=cV[cT],cZ=c3.layoutRect(),cO=cZ.maxFlexSize||cZ[db],"center"===cU?cP[ce]=Math.round(c2[Y]/2-cZ[Z]/2):"stretch"===cU?(cP[Z]=cN(cZ[Q]||0,c2[Y]-cX[at]-cX[U]),cP[ce]=cX[at]):"end"===cU&&(cP[ce]=c2[Y]-cZ[Z]-cX.top),cZ.flex>0&&(cO+=cZ.flex*ct),cP[X]=cO,cP[J]=cQ,c3.layoutRect(cP),c3.recalc&&c3.recalc(),cQ+=cO+c8}}else{if(cP.w=cP.minW,cP.h=cP.minH,c6.layoutRect(cP),this.recalc(c6),null===c6._lastRect){var q=c6.parent();q&&(q._lastRect=null,q.recalc())}}}})}),br(aa,[cs],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})},isNative:function(){return !0}})}),br(cH,[aI,ak,am,bu,ar,bE],function(h,d,k,g,c,j){function b(s){function y(a,e){return function(){var i=this;s.on("nodeChange",function(r){var t=s.formatter,l=null;f(r.parents,function(o){return f(a,function(u){return e?t.matchNode(o,e,{value:u.value})&&(l=u.value):t.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function m(i){i=i.replace(/;$/,"").split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function e(i){var o=[];if(i){return f(i,function(t){var A={text:t.title,icon:t.icon};if(t.items){A.menu=e(t.items)}else{var r=t.format||"custom"+l++;t.format||(t.name=r,a.push(t)),A.format=r,A.cmd=t.cmd}o.push(A)}),o}}function z(){var i;return i=e(s.settings.style_formats_merge?s.settings.style_formats?u.concat(s.settings.style_formats):u:s.settings.style_formats||u)}var l=0,a=[],u=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return s.on("init",function(){f(a,function(i){s.formatter.register(i.name,i)})}),{type:"menu",items:z(),onPostRender:function(i){s.fire("renderFormatsMenu",{control:i.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?s.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var i=this;i.parent().on("show",function(){var t,o;t=i.settings.format,t&&(i.disabled(!s.formatter.canApply(t)),i.active(s.formatter.match(t))),o=i.settings.cmd,o&&i.active(s.queryCommandState(o))})},onclick:function(){this.settings.format&&v(this.settings.format),this.settings.cmd&&s.execCommand(this.settings.cmd)}}}}function n(a){return function(){var e=this;s.formatter?s.formatter.formatChanged(a,function(i){e.active(i)}):s.on("init",function(){s.formatter.formatChanged(a,function(i){e.active(i)})})}}function w(a){return function(){function i(){return s.undoManager?s.undoManager[a]():!1}var e=this;a="redo"==a?"hasRedo":"hasUndo",e.disabled(!i()),s.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){e.disabled(s.readonly||!i())})}}function p(){var a=this;s.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(s.hasVisual)}function v(a){a.control&&(a=a.control.value()),a&&s.execCommand("mceToggleFormat",!1,a)}var x;x=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){s.addButton(e,{tooltip:a,onPostRender:n(e),onclick:function(){v(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){s.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(a,e){s.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:n(e)})}),s.addButton("undo",{tooltip:"Undo",onPostRender:w("undo"),cmd:"undo"}),s.addButton("redo",{tooltip:"Redo",onPostRender:w("redo"),cmd:"redo"}),s.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),s.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:w("undo"),cmd:"undo"}),s.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:w("redo"),cmd:"redo"}),s.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:p,cmd:"mceToggleVisualAid"}),s.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),f({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){s.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),s.on("mousedown",function(){k.hideAll()}),s.addButton("styleselect",{type:"menubutton",text:"Formats",menu:x}),s.addButton("formatselect",function(){var e=[],a=m(s.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return s.formatter.getCssText(i[1])}})}),{type:"listbox",text:a[0][0],values:e,fixedWidth:!0,onselect:v,onPostRender:y(e)}}),s.addButton("fontselect",function(){var l="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",a=[],e=m(s.settings.font_formats||l);return f(e,function(i){a.push({text:{raw:i[0]},value:i[1],textStyle:-1==i[1].indexOf("dings")?"font-family:"+i[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:a,fixedWidth:!0,onPostRender:y(a,"fontname"),onselect:function(i){i.control.settings.value&&s.execCommand("FontName",!1,i.control.settings.value)}}}),s.addButton("fontsizeselect",function(){var l=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=s.settings.fontsize_formats||e;return f(a.split(" "),function(A){var u=A,z=A,o=A.split("=");o.length>1&&(u=o[0],z=o[1]),l.push({text:u,value:z})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:l,fixedWidth:!0,onPostRender:y(l,"fontsize"),onclick:function(i){i.control.settings.value&&s.execCommand("FontSize",!1,i.control.settings.value)}}}),s.addMenuItem("formats",{text:"Formats",menu:x})}var f=g.each;c.on("AddEditor",function(a){a.editor.rtl&&(h.rtl=!0),b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),br(af,[aO],function(a){return a.extend({recalc:function(cU){var be,cM,ce,cQ,cL,cY,bt,cO,cW,at,cV,cT,cR,cN,ct,cS,ae,X,cX,U,Y,Z,O,G=[],cZ=[],q,cP,j,z,W,V;be=cU.settings,cQ=cU.items().filter(":visible"),cL=cU.layoutRect(),ce=be.columns||Math.ceil(Math.sqrt(cQ.length)),cM=Math.ceil(cQ.length/ce),X=be.spacingH||be.spacing||0,cX=be.spacingV||be.spacing||0,U=be.alignH||be.align,Y=be.alignV||be.align,cS=cU.paddingBox,W="reverseRows" in be?be.reverseRows:cU.isRtl(),U&&"string"==typeof U&&(U=[U]),Y&&"string"==typeof Y&&(Y=[Y]);for(cV=0;ce>cV;cV++){G.push(0)}for(cT=0;cM>cT;cT++){cZ.push(0)}for(cT=0;cM>cT;cT++){for(cV=0;ce>cV&&(at=cQ[cT*ce+cV],at);cV++){cW=at.layoutRect(),q=cW.minW,cP=cW.minH,G[cV]=q>G[cV]?q:G[cV],cZ[cT]=cP>cZ[cT]?cP:cZ[cT]}}for(j=cL.innerW-cS.left-cS.right,Z=0,cV=0;ce>cV;cV++){Z+=G[cV]+(cV>0?X:0),j-=(cV>0?X:0)+G[cV]}for(z=cL.innerH-cS.top-cS.bottom,O=0,cT=0;cM>cT;cT++){O+=cZ[cT]+(cT>0?cX:0),z-=(cT>0?cX:0)+cZ[cT]}if(Z+=cS.left+cS.right,O+=cS.top+cS.bottom,cO={},cO.minW=Z+(cL.w-cL.innerW),cO.minH=O+(cL.h-cL.innerH),cO.contentW=cO.minW-cL.deltaW,cO.contentH=cO.minH-cL.deltaH,cO.minW=Math.min(cO.minW,cL.maxW),cO.minH=Math.min(cO.minH,cL.maxH),cO.minW=Math.max(cO.minW,cL.startMinWidth),cO.minH=Math.max(cO.minH,cL.startMinHeight),!cL.autoResize||cO.minW==cL.minW&&cO.minH==cL.minH){cL.autoResize&&(cO=cU.layoutRect(cO),cO.contentW=cO.minW-cL.deltaW,cO.contentH=cO.minH-cL.deltaH);var Q;Q="start"==be.packV?0:z>0?Math.floor(z/cM):0;var I=0,J=be.flexWidths;if(J){for(cV=0;cV<J.length;cV++){I+=J[cV]}}else{I=ce}var F=j/I;for(cV=0;ce>cV;cV++){G[cV]+=J?J[cV]*F:F}for(cN=cS.top,cT=0;cM>cT;cT++){for(cR=cS.left,bt=cZ[cT]+Q,cV=0;ce>cV&&(V=W?cT*ce+ce-1-cV:cT*ce+cV,at=cQ[V],at);cV++){ct=at.settings,cW=at.layoutRect(),cY=Math.max(G[cV],cW.startMinWidth),cW.x=cR,cW.y=cN,ae=ct.alignH||(U?U[cV]||U[0]:null),"center"==ae?cW.x=cR+cY/2-cW.w/2:"right"==ae?cW.x=cR+cY-cW.w:"stretch"==ae&&(cW.w=cY),ae=ct.alignV||(Y?Y[cV]||Y[0]:null),"center"==ae?cW.y=cN+bt/2-cW.h/2:"bottom"==ae?cW.y=cN+bt-cW.h:"stretch"==ae&&(cW.h=bt),at.layoutRect(cW),cR+=cY+X,at.recalc&&at.recalc()}cN+=bt+cX}}else{if(cO.w=cO.minW,cO.h=cO.minH,cU.layoutRect(cO),this.recalc(cU),null===cU._lastRect){var K=cU.parent();K&&(K._lastRect=null,K.recalc())}}}})}),br(cz,[ak,bn],function(b,a){return b.extend({renderHtml:function(){var c=this;return c.classes.add("iframe"),c.canFocus=!1,'<iframe id="'+c._id+'" class="'+c.classes+'" tabindex="-1" src="'+(c.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(c){this.getEl().src=c},html:function(f,g){var d=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=f,g&&g()):a.setTimeout(function(){d.html(f)}),this}})}),br(ah,[ak,bC],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c.classes.add("widget").add("label"),c.canFocus=!1,d.multiline&&c.classes.add("autoscroll"),d.strong&&c.classes.add("strong")},initLayoutRect:function(){var d=this,f=d._super();if(d.settings.multiline){var c=a.getSize(d.getEl());c.width>f.maxW&&(f.minW=f.maxW,d.classes.add("multiline")),d.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,a.getSize(d.getEl()).height)}return f},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},renderHtml:function(){var d=this,c=d.settings.forId;return'<label id="'+d._id+'" class="'+d.classes+'"'+(c?' for="'+c+'"':"")+">"+d.encode(d.state.get("text"))+"</label>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.innerHtml(c.encode(d.value))}),c._super()}})}),br(aT,[aQ],function(a){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var b=this;b._super(c),b.classes.add("toolbar")},postRender:function(){var b=this;return b.items().each(function(c){c.classes.add("toolbar-item")}),b._super()}})}),br(aL,[aT],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),br(av,[cG,cD,aL],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),h=g.settings,g.classes.add("menubtn"),h.fixedWidth&&g.classes.add("fixed-width"),g.aria("haspopup",!0),g.state.set("menu",h.menu||g.render())},showMenu:function(){var g=this,h;return g.menu&&g.menu.visible()?g.hideMenu():(g.menu||(h=g.state.get("menu")||[],h.length?h={type:"menu",items:h}:h.type=h.type||"menu",h.renderTo?g.menu=h.parent(g).show().renderTo():g.menu=b.create(h).parent(g).renderTo(),g.fire("createmenu"),g.menu.reflow(),g.menu.on("cancel",function(e){e.control.parent()===g.menu&&(e.stopPropagation(),g.focus(),g.hideMenu())}),g.menu.on("select",function(){g.focus()}),g.menu.on("show hide",function(e){e.control==g.menu&&g.activeMenu("show"==e.type),g.aria("expanded","show"==e.type)}).fire("show")),g.menu.show(),g.menu.layoutRect({w:g.layoutRect().w}),void g.menu.moveRel(g.getEl(),g.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide())},activeMenu:function(g){this.classes.toggle("active",g)},renderHtml:function(){var m=this,j=m._id,l=m.classPrefix,h=m.settings.icon,n,g=m.state.get("text"),k="";return n=m.settings.image,n?(h="none","string"!=typeof n&&(n=window.getSelection?n[0]:n[1]),n=" style=\"background-image: url('"+n+"')\""):n="",g&&(m.classes.add("btn-has-text"),k='<span class="'+l+'txt">'+m.encode(g)+"</span>"),h=m.settings.icon?l+"ico "+l+"i-"+h:"",m.aria("role",m.parent() instanceof f?"menuitem":"button"),'<div id="'+j+'" class="'+m.classes+'" tabindex="-1" aria-labelledby="'+j+'"><button id="'+j+'-open" role="presentation" type="button" tabindex="-1">'+(h?'<i class="'+h+'"'+n+"></i>":"")+k+' <i class="'+l+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.aria&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},bindStates:function(){var g=this;return g.state.on("change:menu",function(){g.menu&&g.menu.remove(),g.menu=null}),g._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),br(aW,[ak,cD,bE],function(b,a,c){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(f){var d=this,g;d._super(f),f=d.settings,d.classes.add("menu-item"),f.menu&&d.classes.add("menu-item-expand"),f.preview&&d.classes.add("menu-item-preview"),g=d.state.get("text"),("-"===g||"|"===g)&&(d.classes.add("menu-item-sep"),d.aria("role","separator"),d.state.set("text","-")),f.selectable&&(d.aria("role","menuitemcheckbox"),d.classes.add("menu-item-checkbox"),f.icon="selected"),f.preview||f.selectable||d.classes.add("menu-item-normal"),d.on("mousedown",function(h){h.preventDefault()}),f.menu&&!f.ariaHideMenu&&d.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var g=this,j=g.settings,f,d=g.parent();if(d.items().each(function(e){e!==g&&e.hideMenu()}),j.menu){f=g.menu,f?f.show():(f=j.menu,f.length?f={type:"menu",items:f}:f.type=f.type||"menu",d.settings.itemDefaults&&(f.itemDefaults=d.settings.itemDefaults),f=g.menu=a.create(f).parent(g).renderTo(),f.reflow(),f.on("cancel",function(e){e.stopPropagation(),g.focus(),f.hide()}),f.on("show hide",function(i){i.control.items().each(function(k){k.active(k.settings.selected)})}).fire("show"),f.on("hide",function(e){e.control===f&&g.classes.remove("selected")}),f.submenu=!0),f._parentMenu=d,f.classes.add("menu-sub");var h=f.testMoveRel(g.getEl(),g.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);f.moveRel(g.getEl(),h),f.rel=h,h="menu-sub-"+h,f.classes.remove(f._lastRel).add(h),f._lastRel=h,g.classes.add("selected"),g.aria("expanded",!0)}},hideMenu:function(){var d=this;return d.menu&&(d.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),d.menu.hide(),d.aria("expanded",!1)),d},renderHtml:function(){function j(s){var o,q,l={};for(l=c.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},s=s.split("+"),o=0;o<s.length;o++){q=l[s[o].toLowerCase()],q&&(s[o]=q)}return s.join("+")}var n=this,d=n._id,h=n.settings,f=n.classPrefix,m=n.encode(n.state.get("text")),p=n.settings.icon,g="",k=h.shortcut;return p&&n.parent().classes.add("menu-has-icons"),h.image&&(g=" style=\"background-image: url('"+h.image+"')\""),k&&(k=j(k)),p=f+"ico "+f+"i-"+(n.settings.icon||"none"),'<div id="'+d+'" class="'+n.classes+'" tabindex="-1">'+("-"!==m?'<i class="'+p+'"'+g+"></i>\xa0":"")+("-"!==m?'<span id="'+d+'-text" class="'+f+'text">'+m+"</span>":"")+(k?'<div id="'+d+'-shortcut" class="'+f+'menu-shortcut">'+k+"</div>":"")+(h.menu?'<div class="'+f+'caret"></div>':"")+"</div>"},postRender:function(){var g=this,d=g.settings,h=d.textStyle;if("function"==typeof h&&(h=h.call(this)),h){var f=g.getEl("text");f&&f.setAttribute("style",h)}return g.on("mouseenter click",function(e){e.control===g&&(d.menu||"click"!==e.type?(g.showMenu(),e.aria&&g.menu.focus(!0)):(g.fire("select"),g.parent().hideAll()))}),g._super(),g},active:function(d){return"undefined"!=typeof d&&this.aria("checked",d),this._super(d)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),br(a4,[am,aW,bu],function(b,a,c){return b.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(h){var f=this;if(h.autohide=!0,h.constrainToViewport=!0,h.itemDefaults){for(var g=h.items,d=g.length;d--;){g[d]=c.extend({},h.itemDefaults,g[d])}}f._super(h),f.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var d=this;d.hideAll(),d.fire("select")},hideAll:function(){var d=this;return this.find("menuitem").exec("hideMenu"),d._super()},preRender:function(){var d=this;return d.items().each(function(e){var f=e.settings;return f.icon||f.image||f.selectable?(d._hasIcons=!0,!1):void 0}),d._super()}})}),br(ax,[av,a4],function(b,a){return b.extend({init:function(h){function f(i){for(var e=0;e<i.length;e++){if(d=i[e].selected||h.value===i[e].value){return j=j||i[e].text,k.state.set("value",i[e].value),!0}if(i[e].menu&&f(i[e].menu)){return !0}}}var k=this,g,d,j,c;k._super(h),h=k.settings,k._values=g=h.values,g&&("undefined"!=typeof h.value&&f(g),!d&&g.length>0&&(j=g[0].text,k.state.set("value",g[0].value)),k.state.set("menu",g)),k.state.set("text",h.text||j),k.classes.add("listbox"),k.on("select",function(e){var i=e.control;c&&(e.lastControl=c),h.multiple?i.active(!i.active()):k.value(e.control.value()),c=i})},bindStates:function(){function d(g,h){g instanceof a&&g.items().each(function(i){i.hasMenus()||i.active(i.value()===h)})}function f(k,h){var j;if(k){for(var g=0;g<k.length;g++){if(k[g].value===h){return k[g]}if(k[g].menu&&(j=f(k[g].menu,h))){return j}}}}var c=this;return c.on("show",function(e){d(e.control,c.value())}),c.state.on("change:value",function(h){var g=f(c.state.get("menu"),h.value);g?c.text(g.text):c.text(c.settings.text)}),c._super()}})}),br(cw,[ay],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),br(aF,[ak,au],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.classes.add("resizehandle"),"both"==d.settings.direction&&d.classes.add("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),br(b2,[ak],function(b){function a(d){var c="";if(d){for(var f=0;f<d.length;f++){c+='<option value="'+d[f]+'">'+d[f]+"</option>"}}return c}return b.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(d){var c=this;c._super(d),c.settings.size&&(c.size=c.settings.size),c.settings.options&&(c._options=c.settings.options)},options:function(c){return arguments.length?(this.state.set("options",c),this):this.state.get("options")},renderHtml:function(){var d=this,f,c="";return f=a(d._options),d.size&&(c=' size = "'+d.size+'"'),'<select id="'+d._id+'" class="'+d.classes+'"'+c+">"+f+"</select>"},bindStates:function(){var c=this;return c.state.on("change:options",function(d){c.getEl().innerHTML=a(d.value)}),c._super()}})}),br(ad,[ak,au,bC],function(d,b,f){function c(h,g,i){return g>h&&(h=g),h>i&&(h=i),h}function a(m,j){var l,h,n,g,k;"v"==m.settings.orientation?(g="top",n="height",h="h"):(g="left",n="width",h="w"),l=(m.layoutRect()[h]||100)-f.getSize(m.getEl("handle"))[n],k=l*((j-m._minValue)/(m._maxValue-m._minValue))+"px",m.getEl("handle").style[g]=k,m.getEl("handle").style.height=m.layoutRect().h+"px"}return d.extend({init:function(h){var g=this;h.previewFilter||(h.previewFilter=function(i){return Math.round(100*i)/100}),g._super(h),g.classes.add("slider"),"v"==h.orientation&&g.classes.add("vertical"),g._minValue=h.minValue||0,g._maxValue=h.maxValue||100,g._initValue=g.state.get("value")},renderHtml:function(){var h=this,g=h._id,i=h.classPrefix;return'<div id="'+g+'" class="'+h.classes+'"><div id="'+g+'-handle" class="'+i+'slider-handle"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var r=this,n,g,w=0,y,k,v,x,t,q,p,j;k=r._minValue,v=r._maxValue,y=r.value(),"v"==r.settings.orientation?(t="screenY",q="top",p="height",j="h"):(t="screenX",q="left",p="width",j="w"),r._super(),r._dragHelper=new b(r._id,{handle:r._id+"-handle",start:function(e){n=e[t],g=parseInt(r.getEl("handle").style[q],10),x=(r.layoutRect()[j]||100)-f.getSize(r.getEl("handle"))[p],r.fire("dragstart",{value:y})},drag:function(e){var l=e[t]-n,i=r.getEl("handle");w=c(g+l,0,x),i.style[q]=w+"px",y=k+w/x*(v-k),r.value(y),r.tooltip().text(""+r.settings.previewFilter(y)).show().moveRel(i,"bc tc"),r.fire("drag",{value:y})},stop:function(){r.tooltip().hide(),r.fire("dragend",{value:y})}})},repaint:function(){this._super(),a(this,this.value())},bindStates:function(){var g=this;return g.state.on("change:value",function(e){a(g,e.value)}),g._super()}})}),br(ck,[ak],function(a){return a.extend({renderHtml:function(){var b=this;return b.classes.add("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes+'"></div>'}})}),br(bd,[av,bC,bF],function(b,a,c){return b.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var h=this,g=h.getEl(),f=h.layoutRect(),j,d;return h._super(),j=g.firstChild,d=g.lastChild,c(j).css({width:f.w-a.getSize(d).width,height:f.h-2}),c(d).css({height:f.h-2}),h},activeMenu:function(f){var d=this;c(d.getEl().lastChild).toggleClass(d.classPrefix+"active",f)},renderHtml:function(){var j=this,g=j._id,l=j.classPrefix,h,f=j.state.get("icon"),k=j.state.get("text"),d="";return h=j.settings.image,h?(f="none","string"!=typeof h&&(h=window.getSelection?h[0]:h[1]),h=" style=\"background-image: url('"+h+"')\""):h="",f=j.settings.icon?l+"ico "+l+"i-"+f:"",k&&(j.classes.add("btn-has-text"),d='<span class="'+l+'txt">'+j.encode(k)+"</span>"),'<div id="'+g+'" class="'+j.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(f?'<i class="'+f+'"'+h+"></i>":"")+d+'</button><button type="button" class="'+l+'open" hidefocus="1" tabindex="-1">'+(j._menuBtnText?(f?"\xa0":"")+j._menuBtnText:"")+' <i class="'+l+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(g){var h=g.target;if(g.control==this){for(;h;){if(g.aria&&"down"!=g.aria.key||"BUTTON"==h.nodeName&&-1==h.className.indexOf("open")){return g.stopImmediatePropagation(),void (d&&d.call(this,g))}h=h.parentNode}}}),delete f.settings.onclick,f._super()}})}),br(bH,[aa],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return !0}})}),br(ch,[cb,bF,bC],function(b,a,c){return b.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){var f;this.activeTabId&&(f=this.getEl(this.activeTabId),a(f).removeClass(this.classPrefix+"active"),f.setAttribute("aria-selected","false")),this.activeTabId="t"+d,f=this.getEl("t"+d),f.setAttribute("aria-selected","true"),a(f).addClass(this.classPrefix+"active"),this.items()[d].show().fire("showtab"),this.reflow(),this.items().each(function(e,g){d!=g&&e.hide()})},renderHtml:function(){var g=this,d=g._layout,h="",f=g.classPrefix;return g.preRender(),d.preRender(g),g.items().each(function(j,e){var k=g._id+"-t"+e;j.aria("role","tabpanel"),j.aria("labelledby",k),h+='<div id="'+k+'" class="'+f+'tab" unselectable="on" role="tab" aria-controls="'+j._id+'" aria-selected="false" tabIndex="-1">'+g.encode(j.settings.title)+"</div>"}),'<div id="'+g._id+'" class="'+g.classes+'" hidefocus="1" tabindex="-1"><div id="'+g._id+'-head" class="'+f+'tabs" role="tablist">'+h+'</div><div id="'+g._id+'-body" class="'+g.bodyClasses+'">'+d.renderHtml(g)+"</div></div>"},postRender:function(){var d=this;d._super(),d.settings.activeTab=d.settings.activeTab||0,d.activateTab(d.settings.activeTab),this.on("click",function(e){var g=e.target.parentNode;if(e.target.parentNode.id==d._id+"-head"){for(var f=g.childNodes.length;f--;){g.childNodes[f]==e.target&&d.activateTab(f)}}})},initLayoutRect:function(){var h=this,f,g,d;g=c.getSize(h.getEl("head")).width,g=0>g?0:g,d=0,h.items().each(function(i){g=Math.max(g,i.layoutRect().minW),d=Math.max(d,i.layoutRect().minH)}),h.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=g,i.settings.h=d,i.layoutRect({x:0,y:0,w:g,h:d})});var j=c.getSize(h.getEl("head")).height;return h.settings.minWidth=g,h.settings.minHeight=d+j,f=h._super(),f.deltaH+=j,f.innerH=f.h-f.deltaH,f}})}),br(bZ,[ak],function(a){return a.extend({init:function(c){var b=this;b._super(c),b.classes.add("textbox"),c.multiline?b.classes.add("multiline"):(b.on("keydown",function(d){var f;13==d.keyCode&&(d.preventDefault(),b.parents().reverse().each(function(g){return g.toJSON?(f=g,!1):void 0}),b.fire("submit",{data:f.toJSON()}))}),b.on("keyup",function(d){b.state.set("value",d.target.value)}))},repaint:function(){var h=this,d,k,g,c,j=0,b;d=h.getEl().style,k=h._layoutRect,b=h._lastRepaintRect||{};var f=document;return !h.settings.multiline&&f.all&&(!f.documentMode||f.documentMode<=8)&&(d.lineHeight=k.h-j+"px"),g=h.borderBox,c=g.left+g.right+8,j=g.top+g.bottom+(h.settings.multiline?8:0),k.x!==b.x&&(d.left=k.x+"px",b.x=k.x),k.y!==b.y&&(d.top=k.y+"px",b.y=k.y),k.w!==b.w&&(d.width=k.w-c+"px",b.w=k.w),k.h!==b.h&&(d.height=k.h-j+"px",b.h=k.h),h._lastRepaintRect=b,h.fire("repaint",{},!1),h},renderHtml:function(){var f=this,c=f._id,g=f.settings,d=f.encode(f.state.get("value"),!1),b="";return"spellcheck" in g&&(b+=' spellcheck="'+g.spellcheck+'"'),g.maxLength&&(b+=' maxlength="'+g.maxLength+'"'),g.size&&(b+=' size="'+g.size+'"'),g.subtype&&(b+=' type="'+g.subtype+'"'),f.disabled()&&(b+=' disabled="disabled"'),g.multiline?'<textarea id="'+c+'" class="'+f.classes+'" '+(g.rows?' rows="'+g.rows+'"':"")+' hidefocus="1"'+b+">"+d+"</textarea>":'<input id="'+c+'" class="'+f.classes+'" value="'+d+'" hidefocus="1"'+b+" />"},value:function(b){return arguments.length?(this.state.set("value",b),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var b=this;b._super(),b.$el.on("change",function(c){b.state.set("value",c.target.value),b.fire("change",c)})},bindStates:function(){var b=this;return b.state.on("change:value",function(c){b.getEl().value!=c.value&&(b.getEl().value=c.value)}),b.state.on("change:disabled",function(c){b.getEl().disabled=c.value}),b._super()},remove:function(){this.$el.off(),this._super()}})}),br(a5,[bF,aI,bn],function(b,a,c){return function(g,e){var h=this,d,f=a.classPrefix;h.show=function(j,i){return h.hide(),d=!0,c.setTimeout(function(){d&&(b(g).append('<div class="'+f+"throbber"+(e?" "+f+"throbber-inline":"")+'"></div>'),i&&i())},j),h},h.hide=function(){var i=g.lastChild;return i&&-1!=i.className.indexOf("throbber")&&i.parentNode.removeChild(i),d=!1,h}}}),bM([bz,bK,bn,bJ,bG,bE,bu,bF,bm,bi,cn,bl,cj,b7,bY,cq,co,cl,b8,b9,b4,cf,cd,ci,bB,bS,cg,cc,a6,aK,cr,a1,bP,aS,cK,aZ,aI,cD,bg,aQ,au,cF,cb,aH,ac,am,ap,aR,ag,ab,ak,cE,al,aY,a0,aB,bf,cJ,bN,ar,a2,aG,b6,aX,aw,bx,cs,aO,cG,bj,ay,a9,aU,aE,cx,bb,aM,ao,cA,bR,aD,cI,ai,an,aN,aa,cH,af,cz,ah,aT,aL,av,aW,a4,ax,cw,aF,b2,ad,ck,bd,bH,ch,bZ,a5])}(this);